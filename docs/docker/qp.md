# Докер-образ QP8.CMS

## Назначение

Образ содержит основное приложение **QP8.CMS c поддержкой PostgreSQL**. Использование образа описано в [руководстве администратора QP8.CMS c поддержкой PostgreSQL](https://storage.qp.qsupport.ru/qa_official_site/images/downloads/qp8-pg-admin-man.pdf) (в разделе **Установка на Linux**).

## Репозитории

* [DockerHub](https://hub.docker.com/r/qpcms/qp/tags): `qpcms/qp`
* QA Harbor: `registry.quantumart.ru/qp8-cms/qp`

## История версий

### Актуальная версия

* Из собранного кода убраны лишние статические файлы для codemirror (#173391)
* Добавлена проверка прав доступа на download файла (#173373)
* Экспортируемый файл теперь создаётся во временной папке, а не на storage (#173372)
* Добавлена задача по расписанию по очистке системных папок (#173283)
* Добавлена настройка ForceHttpForImageResizing, которая принудительно включает использование http при auto-resize изображений (#173304)

### 8.4.4.0

* Закрыта xss уявзимость, связанная с необработанной выдачей пользовательского ввода (#173213)
* Добавлена поддержка webp и auto-resize изображений (#173094)

### 8.4.3.0

* Исправлена работа внутренних уведомлений с SQL Server (#173120)
* Исключены некоторые неиспользуемые элементы интерфейса (#173173)
* Исправлен поиск по M2M-статьям в режиме поиска всех статей (#173165)
* Исключены архивные статьи из интерфейса **Waiting for approval** (#173129)
* Исправлены опечатки в переводах на русский (#173130)
* Исправлена ошибка с модификацией группы **Administrators** в PostgreSQL (#173151)
* Исправлены ошибки синхронизации пользователей с AD (#173142, #173149)

### 8.4.2.0

* Исправлена работа сервиса расписания статей (PostgreSQL)

### 8.4.1.0

* Добавлена хранимая процедура `qp_change_contents_ownership` (PostgreSQL)

### 8.4.0.0

* Исправлена ошибка с периодическим сбоем секвенсов в PostgreSQL
* Добавлена функциональность внутренних уведомлений с поддержкой *Liquid*-шаблонов
* Исправлена вставка cсылки на файл из библиотеки в VE (#171970)
* Исправлена работа **VE Plugins** и **VE Styles** в PostgreSQL (#171964)
* Добавлена возможность кастомной проверки изображений при загрузке (Метод `_validateFileExternal` в файле `BackendPlUploader`)

### 8.3.0.0

* Добавлена поддержка LDAP (под Linux)
* Исправлены различные проблемы перехода на .NET 6
* Исправлен тип фильтра по полю Время в журнале аудита (#170470)
* Исправлен медленный expand M2O полей при экспорте CSV (#170572)
* Исправлены проблемы импорта CSV (#170532, #170563, #170432, #170386, #170384)
* Исправлены проблемы экспорта CSV (#170560, #170561, #170562)
* Исправлена проблема с непопаданием поля в сборку контентов (#170463)
* Увеличен в 2 раза лимит на число полей формы в QP (до 2048)
* Исправлен поиск svg-файлов в библиотеке (#170419)
* Исправлено отображение кастомных цветов для статусов (#170387)
* Исправлены ошибки создания виртуального контента в PostgreSQL (#170272)
* Исправлено удаление пользователя в PostgreSQL (#170231)

### 8.2.0.4

* Переход на .NET 6
