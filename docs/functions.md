# Пользовательские функции

| Имя функции    | Описание |
|----------------|----------|
| compact_browser | Не используется в QP8 |
| qp_abs_time | Вычисляет время (в минутах), которое хранится в поле DateTime (используется для сортировки) |
| qp_aggregated_and_self | По списку ID статей возвращает список ID статей и их расширений. Доступна во всех типах подерживаемых БД |
| qp_aggregates_to_remove | По списку ID статей возвращает список ID статей-расширений, которые стали неактуальными и их нужно удалить. Доступна во всех типах подерживаемых БД |
| qp_batch_insert | Используется для массовой вставки статей в BLL. Реализована только в PG |
| qp_abs_time_seconds | Вычисляет время (в секундах), которое хранится в поле DateTime (используется для сортировки) |
| qp_action_code | Возвращает код действия по ID |
| qp_action_id | Возвращает ID действия по коду. Доступна во всех типах подерживаемых БД |
| qp_action_type_id | Возвращает ID типа действия по коду. Доступна во всех типах подерживаемых БД  |
| qp_action_visible | Проверяет доступно ли показа действие с данным кодом для пользователя |
| qp_check_entity_grouping | Проверяет включена ли группировка сущностей в дереве для пользователя |
| qp_check_existence | Проверяет существование объекта БД |
| qp_check_name_equality | Не используется в QP8 (оставлено для обратной совместимости) |
| qp_check_null | Не используется в QP8 (оставлено для обратной совместимости) |
| qp_checked_action_id | Возвращает ID действия, проверенное на Security |
| qp_column_exists | Проверка существования столбца в таблице |
| qp_content_max_status_name | Максимально допустимый статус для контента |
| qp_context_menu_code | Возвращает код контекстного меню по ID |
| qp_context_menu_id | Возвращает ID контекстного меню по коду. Доступна во всех типах подерживаемых БД |
| qp_correct_data | Корректировка данных при переносе данных в контентную таблицу. Доступна во всех типах подерживаемых БД.  |
| qp_correct_level | Вспомогательная функция, использующаяся при вычислении прав доступа |
| qp_default_group_id | Возвращает дефолтную группу контентов для сайта |
| qp_default_link_ids | Возвращает дефолтное значение для поля M2M. Доступна во всех типах подерживаемых БД.  |
| qp_default_net_language | Возвращает дефолтный .NET-язык |
| qp_entity_access_level | Вычисляет уровень доступа на сущность для пользователя |
| qp_entity_type_code | Возвращает код типа сущности по ID |
| qp_entity_type_id | Возвращает ID типа сущности по коду. Доступна во всех типах подерживаемых БД |
| qp_filter_columns | Фильтрует список колонок, оставляя только допустимые для GetContentData (Процедура qp_GetContentData) |
| qp_fullText | Процедура полнотекстового поиска по контентам. Возвращает найденные элементы данных. Не используется в QP8 |
| qp_fullTextIds | Процедура полнотекстового поиска по контентам. Возвращает только ID статей. Не используется в QP8 |
| qp_func_parse_version | Вспомогательная функция для вычисления веса версии. Не используется в QP8 |
| qp_get_aggregated_ids | Возвращает список агрегированных статей для статьи. Реализовано только в PG (в SQL Server используется ad-hoc запрос). |
| qp_get_article_relation_columns | Возвращает связи O2M, ссылающиеся на тот же контент |
| qp_get_article_title_func | Возвращает заголовок статьи. Доступна во всех типах подерживаемых БД. |
| qp_get_article_tsvector | Получение tsvector для [таблицы CONTENT_ITEM](main#таблица-content_item) на основе данных из [таблицы CONTENT_DATA](main#таблица-content_data). Доступна только в PG |
| qp_get_base_field | Получение базового поля для виртуального (с учетом статьи). В SQL Server реализована одноимённой процедурой.  |
| qp_get_content_id | Возвращает ID контента по имени и ID сайта |
| qp_get_data | Вспомогательная функция, возвращающая значение поля для статьи |
| qp_get_display_field | Возвращает имя поля, которое должно использоваться как заголовок. Доступна во всех типах подерживаемых БД.  |
| qp_get_display_fields | Возвращает возможные имена полей, которые могут использоваться как заголовок. Доступна во всех типах подерживаемых БД.  |
| qp_get_hash | Возвращает хэш для пароля. Доступна во всех типах подерживаемых БД.  |
| qp_get_icon | Возвращает иконку для сущности |
| qp_get_m2o_ids | Получение значения поля типа M2O для одной статьи. В SQL Server реализована одноимённой процедурой. |
| qp_get_m2o_ids_multiple | Получение значения поля типа M2O для нескольких статей. В SQL Server реализована одноимённой процедурой. |
| qp_get_self_relation_field_id | Получение ID поля контента, которое может использоваться для построения дерева |
| qp_get_site_id | Возвращает ID сайта по имени |
| qp_get_user_weight | Возвращает максимальный вес пользователя по Workflow. Доступна во всех типах подерживаемых БД.  |
| qp_get_version_control | Возвращает версию модуля Version Control |
| qp_get_version_data | Вспомогательная функция, возвращающая значение поля для версии статьи. Доступна во всех типах подерживаемых БД.  |
| qp_get_visibility_code | Возвращает код видимости для списка статей. Не используется в QP8 |
| qp_is_action_accessible | Проверка на то, что данное действие доступно для пользователя |
| qp_is_action_accessible_by_action_code | Проверка на то, что данное действие доступно для пользователя |
| qp_is_content_accessible | Проверка на то, что данный контент доступен для пользователя |
| qp_is_date | Вспомогательная функция, используется в PG для реализации qp_correct_data |
| qp_is_early_sql_2005 | Проверка на то, что текущая версия SQL – ранний релиз 2005. Не используется |
| qp_is_entity_accessible | Проверка на то, что данная сущность доступна для пользователя |
| qp_is_entity_action_type_accessible | Проверка на то, что данный тип действия над сущностью доступен для пользователя |
| qp_is_link_symmetric | Проверка на то, что связь между контентами является симметричной |
| qp_is_numeric | Вспомогательная функция, используется в PG для реализации qp_correct_data |
| qp_is_sql_2000 | Проверка на то, что текущая версия SQL – 2000. Неиспользуется |
| qp_is_tab_visible_for_content | Проверяет, нужно ли показывать вкладку для контента. Не используется в QP8 |
| qp_is_user_admin | Проверяет, является ли пользователь администратором |
| qp_join_date_of_schedule | Возвращает объединенное число для даты расписания в формате SQLAgent |
| qp_language | Возвращает язык интерфейса для пользователя |
| qp_link_ids | Возвращает список идентификаторов связанных статей для M2M. Доступна во всех типах подерживаемых БД. |
| qp_link_titles | Возвращает список заголовков связанных статей для M2M. Доступна во всех типах подерживаемых БД. |
| qp_m2o_titles | Возвращает список заголовков связанных статей для M2O. Доступна во всех типах подерживаемых БД. |
| qp_mass_update_content_item | Массовое создание или обновление записей в [таблице CONTENT_ITEM](main#таблица-content_item) через Quantumart.dll. Реализована только в PG (в SQL Server испольузется ad-hoc запрос) |
| qp_persist_article | Сохраняет или обновляет статью по XML. Реализована только в PG (в SQL Server испольузется ad-hoc запрос) |
| qp_pluralize | Возвращает имя сущности во множественном числе |
| qp_select_data_field | Вспомогательная функция, которая выбирает актуальное поле DATA или BLOB_DATA в соответствии с типом поля контента |
| qp_tab_access_level | Возвращает требуемый уровень доступа для вкладки. Не используется в QP8 |
| qp_tab_id | Возвращает ID вкладки по имени. Не используется в QP8 |
| qp_translate | Возвращает перевод заданной фразы |
| qp_version_weight | Возвращает вес для версий БД |
| qp_view_id | Возвращает ID представления действия по коду |
| qp_workflow_max_status_name | Возвращает имя максимального статуса для Workflow |
| qp_sites_list_ids | Возвращает список сайтов, доступных для пользователя. Не используется в QP8 |
| Split | Старая реализация Split (оставлена для обратной совместимости) |
| SplitNew | Новая (оптимизированная) реализация Split |
