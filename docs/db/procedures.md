# Хранимые процедуры

| Имя процедуры  | Описание |
|----------------|----------|
| add_update_foreign_key | Служебная процедура, используется при создании фиксов БД в SQL Server |
| clear_content_versions | Не используется. |
| clear_object_format_versions | Очистка версий для заданного формата. Не используется в QP8. |
| create_content_item_version | Выполняет создание версии для заданной статьи. Используется в AddFormToContent. Не реализована в Postgres |
| pass_objs_ownership_to_admin | Не используется. |
| qp_add_column | Добавляет столбец в [контентную таблицу](customer#контентные-таблицы). Использование программно отключено в QP8 |
| qp_add_contents_new_site | Клонирует структуру контентов (при клонировании сайта). Не используется в QP8 |
| qp_add_index | Создает индекс для столбца [контентной таблицы](customer#контентные-таблицы). Использование программно отключено в QP8 |
| qp_all_article_search | Поиск по всем статьям. Не используется в новой версии QP8 |
| qp_apply_default_text | Применение дефолтного значения для полей типа Textbox и VisualEditor. Не используется в QP8 |
| qp_apply_default_value | Применение дефолтного значения для простых полей, кроме Textbox и VisualEditor. Не используется в QP8 |
| qp_apply_link_id_to_data | Применение link_id для столбца M2M в контентной таблице. Не используется в QP8 |
| qp_approvalArticles | Статьи, ожидающие утверждения. Не используется в QP8 |
| qp_archive | Не используется |
| qp_articles | Возвращает список заблокированных статей. Не используется в QP8 |
| qp_authenticate | Универсальная процедура аутентификации. Доступна во всех типах подерживаемых БД.  |
| qp_batch_delete_contents | Пакетное удаление контентов (используется при удалении сайта). Доступна во всех типах подерживаемых БД. |
| qp_before_content_delete | Очистка необходимых данных перед удалением записи из [таблицы CONTENT](main#таблица-content). Вызывается из триггерной функции. Реализована только в Postgres |
| qp_before_content_item_delete | Очистка необходимых данных перед удалением записи из [таблицы CONTENT_ITEM](main#таблица-content_item). Вызывается из триггерной функции и при удалении контента. Реализована только в Postgres |
| qp_before_content_item_version_delete | Очистка версий перед удалением статьи. Вызывается из триггерной функции, а также при удалении статьи или версии. Реализована только в Postgres |
| qp_before_content_to_content_delete | Очистка необходимых данных перед удалением записи из [таблицы CONTENT_TO_CONTENT](main#таблица-content_to_content). Вызывается из триггерной функции и при удалении контента. Реализована только в Postgres |
| qp_build_link_view (в Postgres - qp_link_view_create) | Строит представления (Пользовательские представления LINK_NN, Пользовательские представления LINK_NN_UNITED) |
| qp_build_query_vcontent_view | Построение виртуального контента типа USERQUERY (не используется в QP8) |
| qp_build_union_vcontent_view | Построение виртуального контента типа UNION (не используется в QP8) |
| qp_change_contents_ownership | Смена владельца для [пользовательских таблиц](customer#пользовательские-таблицы) и [пользовательских представлений](customer#пользовательские-представления). Необходима при смене пользователя, под которым QP работает с определённой БД. Реализована только в Postgres. |
| qp_check_entity_existence | Проверка сущности на существование. Не используется в QP8 |
| qp_check_target_table_async | Определение того, какая из [контентных таблиц](customer#контентные-таблицы) является целевой для статьи. Не используется в новой версии QP8 |
| qp_check_unique_data_in_set | Проверка уникальности для набора полей (список ID). Не используется в новой версии QP8 |
| qp_clean_versions | Очистка дубликатов версий БД (фиксов). Не используется в QP8 |
| qp_clear_relations | Очистка ссылок на статью (при удалении во время очистки контента). В SQL Server можно переписать код без неё. Не реализована в Postgres.  |
| qp_clear_versions_for_field | Удаление данных версий для поля. Использование программно отключено в QP8 |
| qp_content_constraint_list | Список ограничений уникальности контента (не используется в QP8) |
| qp_content_frontend_views_create | Cоздание пользовательских представлений CONTENT_NNN_LIVE и CONTENT_NNN_STAGE для заданного контента. Доступна во всех типах подерживаемых БД.   |
| qp_content_frontend_views_drop | Удаление пользовательских представлений CONTENT_NNN_LIVE и CONTENT_NNN_STAGE для заданного контента. Реализована только в Postgres из-за различий в логике.   |
| qp_content_frontend_views_recreate | Удаление пользовательских представлений CONTENT_NNN_LIVE и CONTENT_NNN_STAGE. Не реализована в Postgres из-за различий в логике |
| qp_content_new_views_create | Cоздание пользовательских представлений c суффиксом NEW (CONTENT_..._NEW) для заданного контента. Доступна во всех типах подерживаемых БД.   |
| qp_content_new_views_drop | Удаление пользовательских представлений c суффиксом NEW (CONTENT_..._NEW) для заданного контента. Реализована только в Postgres из-за различий в логике.   |
| qp_content_items_list | Получение списка статей. Не используется в QP8 |
| qp_content_list | Получение списка контентов с учетом Security. Не используется в новой версии QP8 |
| qp_content_list_for_group | Получение списка контентов для группы с учетом Security. Не используется в новой версии QP8 |
| qp_content_table_create | Создание контентной таблицы. Использование отключено программно в QP8 |
| qp_content_table_drop | Удаление контентной таблицы. Использование отключено программно в QP8 |
| qp_content_table_fill | Заполнение контентной таблицы. Использование отключено программно в QP8 |
| qp_content_united_view_create | Создает представление CONTENT_NNN_UNITED для заданного контента. Доступна во всех типах подерживаемых БД. |
| qp_content_united_view_drop | Удаляет представление CONTENT_NNN_UNITED для заданного контента. Реализована только в Postgres из-за различий в логике. |
| qp_content_united_view_recreate | Пересоздает представление CONTENT_NNN_UNITED для заданного контента. Не реализована в Postgres из-за различий в логике |
| qp_content_united_views_recreate | Не используется |
| qp_content_user_query_view_recreate | Вспомогательная процедура для пересоздания представления для виртуального контента типа USERQUERY. Реализована только в Postgres |
| qp_content_version_view_create | Создает версионное представление для заданного контента. Не используется в QP8 |
| qp_convert_tab_access_to_action_access | Процедура переноса прав доступа QP7 -\> QP8. Не используется в QP8 |
| qp_copy_blob_data_to_data | Процедура переноса данных из столбца BLOB_DATA в столбец DATA для поля контента. Использование отключено программно в QP8 |
| qp_copy_data_to_blob_data | Процедура переноса данных из столбца DATA в столбец BLOB_DATA для поля контента. Использование отключено программно в QP8 |
| qp_copy_parent_container | Служебная процедура копирования информации родительского контейнера при создании объекта. Не используется в QP8 |
| qp_copy_schedule_to_child_delays | Перенос расписания в дочерние статьи (по M2O-полю). Доступна во всех типах подерживаемых БД.  |
| qp_copy_user | Клонирование пользователя. Не используется в новой версии QP8 |
| qp_copy_user_group | Клонирование группы пользователей. Не используется в новой версии QP8 |
| qp_count_child_articles | Подсчет числа статей, ссылающихся на данную. Реализована только для SQL Server (в Postgres используется ad-hoc запрос)  |
| qp_count_duplicates | Подсчет числа дубликатов для заданного набора полей в контенте. Доступна во всех типах подерживаемых БД. |
| qp_create_all_complex_indexes | Создает несуществующие индексы для сложных ограничений уникальности (включающих несколько полей) для всех контентов. Не используется в QP8 |
| qp_create_complex_index | Создает индекс для сложного ограничения уникальности (включающего несколько полей). Отключено программно в новой версии QP8 |
| qp_create_content_index | Создает простой индекс в контенте для заданного поля. Не используется в QP8 |
| qp_create_content_item | Вставляет запись в таблицу CONTENT_ITEM. Не используется в QP8. |
| qp_create_content_item_access | Вставляет записи в [таблицу CONTENT_ITEM_ACCESS](access#таблица-content_item_access) при создании статьи. Реализована только в Postgres. Aналог в SQL Server - [триггер ti_access_content_item](main#триггеры-таблицы-content_item) |
| qp_create_content_item_versions | Создание версий для списка статей. Доступна во всех типах подерживаемых БД. |
| qp_create_deactivation_job | Создание обратного job, скрывающего статью. Используется в расписаниях показа, реализованных на SQL. Не используется в новой версии QP8 |
| qp_create_indexes | Создание простых индексов для контентной таблицы (используется при пересоздании). Не используется в QP8. |
| qp_create_missing_system_template | Не используется |
| qp_create_unified_fields | Создание полей виртуального UNION-контента. Не используется в QP8. |
| qp_curtail_object_format_versions | Удаление самой старой версии для заданного OBJECT_FORMAT при превышении лимита. Не реализована в Postgres (как и вся ветка шаблонов) |
| qp_date_of_schedule_to_date | Вспомогательная процедура преобразования даты и времени в формате SQL-расписания в datetime. Не используется в новой версии QP8 |
| qp_date_to_date_of_schedule | Вспомогательная процедура преобразования datetime в дату и время в формате SQL-расписания. Не используется в новой версии QP8 |
| qp_define_target_table | Определение целевой таблицы, которая должна использоваться при обновлении статьи (CONTENT_NNN или CONTENT_NNN_ASYNC). Не используется в новой версии QP8 |
| qp_delete_constraint | Вспомогательная процедура удаления простого ограничения целостности для заданного поля. Используется при написании фиксов БД для SQL Server. Не реализована в Postgres  |
| qp_delete_default | Вспомогательная процедура удаления значения по умолчанию для заданного поля. Используется при написании фиксов БД для SQL Server. Не реализована в Postgres |
| qp_delete_incorrect_mappings | Не используется |
| qp_delete_items | Удаление строк из контентной таблицы CONTENT_NNN или CONTENT_NNN_ASYNC. Реализована только в Postgres (аналог в SQL Server - процедура `qp_get_delete_items_sql`) |
| qp_delete_link_table_item | Удаление строк из связующей таблицы ITEM_LINK_NN, ITEM_LINK_NN_ASYNC, ITEM_LINK_NN_REV или ITEM_LINK_NN_ASYNC_REV. Доступна во всех типах подерживаемых БД. |
| qp_delete_overflow_item_versions | Удаление самой старой версии для заданной статьи при превышении лимита. Не используется в QP8 |
| qp_delete_single_link | Удаляет одну запись из M2M-поля. Используется при непосредственной работе с узловой сущностью в LINQ-классах. Не реализовано в Postgres |
| qp_delete_unified_fields | Удаление полей виртуального UNION-контента. Не используется в QP8. |
| qp_delete_workflow_notifications_and_objects | Удаление уведомлений и их объектов для заданного Workflow. Не используется в QP8 |
| qp_drop_column | Удаление столбца контентной таблицы. Отключено программно в новой версии QP8 |
| qp_drop_complex_index | Удаляет индекс для сложного ограничения уникальности (включающего несколько полей). Отключено программно в новой версии QP8 |
| qp_drop_existing | Вспомогательная процедура удаления объекта БД. Используется при написании фиксов БД в SQL Server. Не реализована в Postgres |
| qp_drop_index | Удаляет простой индекс для заданного поля. Отключено программно в новой версии QP8 |
| qp_drop_link_view (в Postgres - qp_link_view_drop) | Удаляет представления (LINK_NNN и LINK_NNN_UNITED для заданного link_id) |
| qp_drop_link_with_check | Удаляет запись из таблицы CONTENT_TO_CONTENT с проверкой, что она не используется ни одним полем. Отключено программно в новой версии QP8  |
| qp_expand | Процедура построения дерева бэкенда QP8. Также используется для вычисления пути по дереву до текущего элемента. Не используется в новой версии QP8 |
| qp_expand_page_trace | Процедура построения дерева трассировки страницы. Не используется в QP8 |
| qp_fill_column | Процедура заполнения колонки контентной таблицы (используется при пересоздании). Использование программно отключено в новой версии QP8 |
| qp_finish_content_item_moving | Процедура коррекции данных статьи после перемещения между контентами. Не используется в QP8 |
| qp_FixTabOrder | Корректировка порядка вкладок. Не используется в QP8 |
| qp_fulltextSiteSearch | Процедура для реализации полнотекстового поиска на фронтенде. Не используется в QP8 |
| qp_get_action_by_code | Получение действия по коду. Не используется |
| qp_get_action_by_id | Получение действия по ID. Не используется |
| qp_get_action_by_type_code_and_entity_type_code | Получение действия по типу действия и типу сущности. Не используется |
| qp_get_action_status_list | Получение списка допустимых действий для заданной сущности (тип, ID). Не используется |
| qp_get_action_type_by_code | Получение типа действия по коду. Не используется |
| qp_get_action_type_by_id | Получение типа действия по ID. Не используется |
| qp_get_action_type_code_by_action_code | Получение кода типа действия по коду действия. Не используется |
| qp_get_action_views_list_by_action_code | Получение списка представлений действия по коду действия. Не используется |
| qp_get_action_views_list_by_action_id | Получение списка представлений действия по ID действия. Не используется |
| qp_get_article_alias | Не используется |
| qp_get_article_title | Получение заголовка статьи. Не используется в новой версии QP8 |
| qp_get_base_field | Получение базового поля для виртуального (с учетом статьи). В Postgres реализована одноимённой функцией.  |
| qp_get_breadcrumbs | Получение списка breadcrumbs для заданной сущности. Не используется в новой версии QP8 |
| qp_get_content_data_pivot | Не используется |
| qp_get_context_menu_by_code | Получение контекстного меню по коду. Не используется в новой версии QP8 |
| qp_get_context_menu_by_id | Получение контекстного меню по ID. Не используется в новой версии QP8 |
| qp_get_context_menu_items_list | Получение элементов контекстного меню по ID меню. Не используется  |
| qp_get_context_menus_list | Получение всех контекстных меню. Не используется |
| qp_get_default_action_code_by_entity_type_code | Получения кода действия по умолчанию по заданному коду типа сущности. Не используется |
| qp_get_default_article | Получение статьи по умолчанию для заданного контента (используется при создании новой статьи). Реализована только для SQL Server (в Postgres используется ad-hoc запрос) |
| qp_get_delete_item_sql | Получение SQL-запроса для удаления статьи. Не испольузется в новой версии QP8 |
| qp_get_delete_items_sql | Получение SQL-запроса для удаления списка статей одного контента. Аналог в Postgres - процедура `qp_delete_items` |
| qp_get_entity_title | Получение заголовка сущности. Не используется в новой версии QP8 |
| qp_get_entity_titles_for_log | Получение списка заголовка сущностей (для аудита). Не испольузется в новой версии QP8 |
| qp_get_entity_type_by_code | Получение типа сущности по коду. Не испольузется в новой версии QP8 |
| qp_get_entity_type_by_id | Получение типа сущности по ID. Не испольузется в новой версии QP8 |
| qp_get_field_definition | Получение типа поля в БД (используется при создании поля). Использование отключено программно в новой версии QP8 |
| qp_get_folders_tree | Получение дерева папок библиотеки сайта. Не испольузется в новой версии QP8  |
| qp_get_frontend_status_weight | Получения веса для статуса статьи из таблицы CONTENT_NNN. Используется для определения того, расщеплена ли статья. Не используется в новой версии QP8 |
| qp_get_insert_item_sql | Получение SQL-запроса для вставки записи в таблицу CONTENT_ITEM для статьи. Аналог в Postgres - процедура `qp_upsert_items` |
| qp_get_m2o_ids | Получение значения поля типа M2O для одной статьи. В Postgres реализована одноимённой функцией. |
| qp_get_m2o_ids_multiple | Получение значения поля типа M2O для нескольких статей. В Postgres реализована одноимённой функцией. |
| qp_get_menu_status_list | Получение списка статусов элементов контекстного меню для выбранной сущности. Не используется в новой версии QP8 |
| qp_get_new_template_object_name | Получение имени автогенерируемого объкета для объекта типа PublishingContainer (используется только при создании сайта на шаблонах QP). Не реализована в Postgres |
| qp_get_paged_data | Не используется |
| qp_get_parent_entity_id | Получение ID родительской сущности. Не используется в новой версии QP8 |
| qp_get_parent_entity_ids_for_tree | Получение списка ID родительских сущностей в дереве сущностей для текущего кода. Не используется |
| qp_get_parent_entity_type_code_by_entity_type_code | Получение кода типа родительской сущности по коду сущности. Не используется |
| qp_get_real_base_attributes | Получение списка ID всех реальных базовых полей для текущего виртуального поля. Не используется в новой версии QP8 |
| qp_get_recurring_parent_entity_id | Получение ID родительской сущности в дереве сущностей. Не используется в новой версии QP8 |
| qp_get_toolbar | Получение панели инструментов для действия. Не используется в новой версии QP8 |
| qp_get_toolbar_buttons_list_by_action_code | Получение списка кнопок на панели инструментов по коду действия. Не используется в новой версии QP8 |
| qp_get_translations | Получение списка переводов для фразы. Не используется в новой версии QP8 |
| qp_get_update_cell_sql | Получение SQL-запроса для обновления поля статьи. Не используется в новой версии QP8 |
| qp_get_update_column_sql | Получение SQL-запроса для обновления столбца контентной таблицы. В Postgres логика реализована в рамках вызывающей процедуры |
| qp_get_update_field_sql | Получение SQL-запроса для обновления столбца контентной таблицы (используется при пересоздании контентной таблицы). Не используется в QP8 |
| qp_get_update_flags_sql | Получение SQL-запроса для обновления флагов статьи. Аналог в Postgres - процедура `qp_update_items_flags` |
| qp_get_update_item_sql | Получение SQL-запроса для обновления записи в таблице CONTENT_ITEM статьи. . Аналог в Postgres - процедура `qp_upsert_items` |
| qp_get_update_items_flags_sql | Получение SQL-запроса для обновления флагов списка статей. Аналог в Postgres - процедура `qp_update_items_flags` |
| qp_get_upsert_items_sql | Получение SQL-запроса для вставки/обновления записей в таблице CONTENT_ITEM для списка статей. Аналог в Postgres - процедура `qp_upsert_items` |
| qp_get_versions | Получение версионных данных для статьи. Реализована только для SQL Server (в Postgres используется ad-hoc запрос) |
| qp_get_view_type_by_id | Получение типа представления по ID. Не испольузется |
| qp_get_workflow_max_status_weight | Получение максимального статуса Workflow. Не используется в новой версии QP8 |
| qp_GetActionPermissionAsQuery | Вспомогательная процедура, использующаяся для вычисления прав доступа при отображении списка действий. Не используется в новой версии QP8 |
| qp_GetContentData | Процедура постраничного получения статей из контента (ранее использовалась как основная в API, оставлена для обратной совместимости). Не используется в новой версии QP8  |
| qp_GetContentPage | Универсальная процедура постраничного вывода (старая версия) (не используется в QP8, оставлена для обратной совместимости) |
| qp_GetContentPageFullText | Процедура постраничного вывода статей с полнотекстовым поиском (не используется в QP8, оставлена для обратной совместимости) |
| qp_GetContentPageNew | Универсальная процедура постраничного вывода (новая версия) (не используется в QP8, оставлена для обратной совместимости) |
| qp_GetEntityPermissionAsQuery | Вспомогательная процедура, использующаяся для вычисления прав доступа при отображении списка сущностей. Не используется в новой версии QP8 |
| qp_getNodeFullPath | Процедура вычисления пути по иерархии для статей. Не используется в QP8 |
| qp_GetPermittedItemsAsQuery | Вспомогательная процедура, использующаяся для вычисления прав доступа при отображении любых списков. Не используется в новой версии QP8 |
| qp_GetUsersByItemID_And_Permission | Вспомогательная процедура Security. Не используется в QP8 |
| qp_GetVersionsForItem | Не используется |
| qp_getVirtualAttributesTree | Построение дерева JOIN-контента. Не используется в QP8 |
| qp_insert_content_item | Процедура вставки записи в таблицу CONTENT_ITEM. Не используется в QP8 |
| qp_insert_link_table_item | Вставка строк в одну из связующих таблицы ITEM_LINK_NN, ITEM_LINK_NN_ASYNC, ITEM_LINK_NN_REV или ITEM_LINK_NN_ASYNC_REV. Доступна во всех типах подерживаемых БД. |
| qp_insert_m2m_field_Values | Множественная вставка/обновление значений M2M по XML. Не используется в новой версии QP8 |
| qp_insert_single_link | Вставляет одну запись в M2M-поле. Используется при непосредственной работе с узловой сущностью в LINQ-классах. Не реализовано в Postgres |
| qp_insertArticleValues | Множественное обновление данных статей по XML. Реализована только для SQL Server (в Postgres используется ad-hoc запрос) |
| qp_is_entity_exists | Проверка на существование заданной сущности. Не используется в новой версии QP8 |
| qp_is_target_table_async | Проверка на то, что при обновлении статьи ее текущую версию надо записывать в таблицу CONTENT_NNN_ASYNC вместо CONTENT_NNN. Не используется в новой версии QP8 |
| qp_item_exists | Вспомогательная процедура проверки на существование записи в контентной таблице. Не используется в новой версии QP8 |
| qp_lastArticles | Список последних редактировавшихся статей. Не используется в QP8 |
| qp_lastNotifications | Список последних отправленных уведомлений. Не используется в QP8 |
| qp_lastObjects | Список последних редактировавшихся объектов. Не используется в QP8 |
| qp_lastPages | Список последних редактировавшихся страниц. Не используется в QP8 |
| qp_latestApproval | Список последних утвержденных статей. Не используется в QP8 |
| qp_lock | Процедура блокировки/разблокировки статьи пользователем. Не используется в новой версии QP8 |
| qp_merge_article | Процедура выполняет слияние одной расщеплённой статьи. Не реализована в Postgres, так как вместо неё используется qp_merge_articles |
| qp_merge_articles | Процедура выполняет слияние списка расщеплённых статей. Доступна во всех типах подерживаемых БД.  |
| qp_merge_links | Процедура слияния опубликованных и служебных версий полей M2M для статьи. Не используется в новой версии QP8 |
| qp_merge_links_multiple | Процедура слияния опубликованных и служебных версий полей M2M для нескольких статей. Доступна во всех типах подерживаемых БД. |
| qp_merge_delays | Процедура слияния статей с параллельным Workflow. Доступна во всех типах подерживаемых БД. |
| qp_mostUpdated | Список наиболее часто обновлявшихся контентов. Не используется в QP8 |
| qp_publish | Выполняет публикацию списка статей (с учётом агрегированных). Реализовано только в Postgres (в SQL Server используется ad-hoc запрос). |
| qp_real_content_list | Получение списка реальных (не виртуальных) контентов с учетом Security для использования в дереве бэкенда. Не используется в новой версии QP8 |
| qp_rebuild_all_link_views | Пересобирает представления LINK_NN, LINK_NN_UNITED. Реализована только для SQL Server (в Postgres используется ad-hoc запрос) |
| qp_rebuild_content | Пересоздание контентной таблицы. Использование отключено программно в новой версии QP8 |
| qp_RebuildFullText | Делает полную пересборку полнотекстового индекса. Не используется в QP8 |
| qp_recreate_all_content_tables | Процедура пересоздания всех контентных таблиц для всех сайтов. Не используется |
| qp_recreate_column | Пересоздание колонки контентной таблицы. Используется при таком изменении типа поля, когда меняется тип в БД (например NUMERIC –\> NVARCHAR). Использование отключено программно в новой версии QP8 |
| qp_recreate_content_tables | Процедура пересоздания всех контентных таблиц для данного сайта. Не используется |
| qp_rename_column | Процедура переименования колонки контентной таблицы при изменении имени поля. Использование отключено программно в новой версии QP8 |
| qp_rename_iterative_entities | Не используется |
| qp_remove_old_aggregates | Для списка статей удаляет агрегированные статьи, которые стали неактуальными. Доступна во всех типах подерживаемых БД.  |
| qp_replicate | Полная процедура переноса данных одной статьи из CONTENT_DATA и CONTENT_ITEM в CONTENT_NNN и CONTENT_NNN_ASYNC. Также обновляет CONTENT_MODIFICATION. Доступна только для SQL Server |
| qp_replicate_items | Полная процедура переноса данных списка статей из CONTENT_DATA и CONTENT_ITEM в CONTENT_NNN и CONTENT_NNN_ASYNC. Также обновляет CONTENT_MODIFICATION. Доступна во всех типах подерживаемых БД. |
| qp_save_object | Процедура создания нового объекта. Не используется в QP8 |
| qp_setup_content_item_data | Вспомогательная процедура для переноса статей между контентами. Не используется в QP8 |
| qp_site_folder_list | Процедура получения списка папок библиотеки сайта с учетом Security. Не используется в новой версии QP8 |
| qp_sites_list | Процедура получения списка папок библиотеки сайта с учетом Security. Не используется в новой версии QP8 |
| qp_split_articles | Процедура выполняет расщепление списка статей. Доступна во всех типах подерживаемых БД. |
| qp_tstr | Вспомогательная процедура шаблонизации строк. Не используется в QP8 |
| qp_update_acrticle_modification_date | Обновляет дату модификации статей по XML. Используется при при импорте CSV. Реализована для SQL Server (в Postgres используется ad-hoc запрос) |
| qp_update_blob_data | Процедура обновления поля BLOB_DATA в [таблице CONTENT_DATA](main#таблица-content_data). Используется при одиночном обновлении статьи в SQL Server (в Postgres используется альтернативный подход с функцией `qp_persist_article`) |
| qp_update_data | Служебная процедура обновления поля DATA в [таблице CONTENT_DATA](main#таблица-content_data).  Используется при одиночном обновлении статьи в SQL Server (в Postgres используется альтернативный подход с функцией `qp_persist_article`) |
| qp_update_items_flags | Процедура обновления поля флагов ARCHIVE и VISIBLE в контентной таблице CONTENT_NNN или CONTENT_NNN_ASYNC. Аналог в SQL Server - процедура `qp_get_update_flags_sql` |
| qp_update_items_with_content_data_pivot | Процедура массового переноса данных статей из CONTENT_DATA в CONTENT_NNN и CONTENT_NNN_ASYNC. Используется при импорте. Доступна во всех типах подерживаемых БД. |
| qp_update_m2m | Обновление заданного значения M2M. Доступна во всех типах подерживаемых БД.  |
| qp_update_m2m_values | Массовое обновление M2M по XML. Доступна во всех типах подерживаемых БД.  |
| qp_update_m2o | Предварительное обновление заданного значения M2O. Доступна во всех типах подерживаемых БД.  |
| qp_update_m2o_final | Финальное обновление всех значений M2O для статьи. Доступна во всех типах подерживаемых БД.  |
| qp_update_o2mfieldvalues | Массовое обновление O2M по XML. Используется при импорте CSV. Реализована для SQL Server (в Postgres используется ad-hoc запрос). |
| qp_update_translations | Добавление/обновление перевода для ресурса, хранящегося в БД. Не используется в новой версии QP8 |
| qp_update_with_content_data_pivot | Обновление контентной таблицы для заданной статьи одним SQL-запросом (с помощью PIVOT) |
| qp_upsert_items | Вставка или обновление строк контентной таблицы CONTENT_NNN или CONTENT_NNN_ASYNC. Реализована только в Postgres (аналог в SQL Server - процедура `qp_get_upsert_items_sql`) |
| qp_versions | Возвращает список версий БД (выполненных фиксов). Не реализована в Postgres (используется фиксированное значение)  |
| qp_virtual_content_list | Возвращает список виртуальных контентов для пользователя с учетом Security для использования в дереве бэкенда. Не используется в новой версии QP8 |
| qp_workflow_list | Возвращает список Workflow для пользователя с учетом Security для использования в дереве бэкенда. Не используется в новой версии QP8 |
| qp_wrapper_curtail_object_format_versions | Служебная функция, которая используется в триггере форматов. Не реализована в Postgres (как и вся ветка шаблонов) |
| restore_content_item_version | Восстанавливает версию статьи. Не используется в новой версии QP8 |
| restore_object_format_version | Восстанавливает версию формата. Не реализована в Postgres |
| usp_fts_parser | Поиск словоформ заданного слова (используется подсветкой полнотекстового поиска). Используется в SQL Server, в Postgres - другая реализация полнотекстового поиска |
