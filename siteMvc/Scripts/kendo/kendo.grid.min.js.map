{"version":3,"sources":["kendo.grid.js"],"names":["f","define","$","normalizeText","text","String","replace","REPLACE_REGEX","SPACE","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","zeroSize","width","height","baseline","measureText","style","measureBox","TextMetrics","current","measure","LRUCache","DEFAULT_OPTIONS","defaultMeasureBox","window","kendo","util","Class","extend","init","size","this","_size","_length","_map","put","value","map","entry","_head","_tail","newer","older","get","baselineMarkerSize","document","createElement","cssText","options","_cache","styleKey","cacheKey","cachedResult","baselineMarker","textStr","box","_baselineMarker","cloneNode","textContent","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","marker","deepExtend","jQuery","amd","a1","a2","a3","undefined","attrEquals","attrName","attrValue","attr","groupCells","count","Array","stringifyAttributes","attributes","result","STRING","cursor","context","add","css","reorder","selector","source","dest","before","idx","sourceIndex","eq","appendTo","elements","lockedContent","content","filter","find","attachCustomCommandEvent","container","commands","command","commandName","isArray","isPlainObject","click","name","on","CLICK","NS","proxy","normalizeColumns","columns","encoded","hide","column","hidden","uid","field","isVisible","addHiddenStyle","footerAttributes","headerAttributes","guid","id","columnParent","parents","columnParents","inserted","splice","setColumnVisibility","visible","setVisibility","show","method","removeHiddenStyle","setColumnMediaVisibility","setColumnMatchesMedia","hideByMedia","_hideByMedia","matchesMedia","columnMatchesMedia","isUndefined","media","isCellVisible","display","isElementVisible","element","visibleColumns","grep","columnsWithMedia","minScreenWidth","Error","concat","toJQuery","toArray","updateCellRowSpan","cell","sourceLockedColumnsCount","lockedColumnDepth","depth","lockedColumns","nonLockedColumnDepth","nonLockedColumns","rowSpan","moveCellsBetweenContainers","sources","target","leafs","destination","groups","rows","sourcesDepth","targetDepth","children","insertAfter","last","addRowSpanValue","moveCells","updateCellIndex","thead","offset","position","allColumns","cells","leafColumns","el","hasClass","columnPosition","row","temp","max","sourcePosition","columnVisiblePosition","ths","t","append","cellCounts","findParentColumnWithChildren","index","rtl","targetLocked","locked","findReorderTarget","masterColumns","parent","parentColumns","targetIndex","inArray","flatColumnsInDomOrder","flatColumns","targetParentContainerIndex","hiddenLeafColumnsCount","counter","columnsWidth","cols","colWidth","indexOf","parseInt","removeRowSpanValue","removeEmptyRows","emptyRowsCount","remove","mapColumnToCellRows","rowIndex","visibleNonLockedColumns","visibleLockedColumns","visibleLeafColumns","leafDataCells","indexAttr","a","b","indexA","indexB","parentColumnsCells","parentCellsWithChildren","prevCells","parentCell","closest","headerRows","level","prevAll","colSpan","Math","getAttribute","childColumnsCells","child","colSpanAttr","next","appendContent","tbody","table","html","empty","placeholder","tmp","tbodySupportsInnerHtml","innerHTML","firstChild","replaceChild","match","normalizeCols","hasDetails","colgroup","format","is","prepend","browser","msie","version","setTimeout","normalizeHeaderCells","len","lastIndex","th","insertBefore","convertToObject","array","item","formatGroupValue","columnValues","isForeignKey","groupValue","htmlEncode","setCellVisibility","state","pad","nonDataCellsRegExp","test","className","hideColumnCells","columnIndex","groupRows","data","hasSubgroups","items","groupFooters","aggregates","showColumnCells","updateColspan","toAdd","toRemove","num","tableWidth","syncTableHeight","table1","table2","lockedHeigth","tableHeigth","diff","filterRowRegExp","adjustRowHeight","row1","row2","offsetHeight1","offsetHeight2","getCommand","focusTable","direct","scrollLeft","focusElement","one","e","preventDefault","focus","isColumnGroupable","grid","groupable","isGroupedBy","isColumnEditable","model","selectable","editable","isInputElement","tableClick","currentTarget","isHeader","lockedTable","headerTable","lockedHeader","isInput","preventScroll","currentTable","roleSelector","_setCurrent","navigatable","isIE8","_activeElement","contains","support","touch","leftMostPosition","webkit","isInEdit","groupCellBuilder","headerTemplateIndex","ARIALABEL","COLLAPSE","groupCellLockedContentBuilder","groupRowBuilder","colspan","groupRowLockedContentBuilder","ui","DataSource","ObservableObject","tbodyInnerHtml","activeElement","Widget","outerWidth","_outerWidth","outerHeight","_outerHeight","keys","prototype","isFunction","isEmptyObject","math","PROGRESS","ERROR","HIERARCHY_CELL_CLASS","DATA_CELL","SELECTION_CELL_SELECTOR","NAVROW","NAVCELL","ITEMROW","FIRSTITEMROW","LASTITEMROW","FIRSTNAVITEM","HEADERCELLS","CONTENTRLOCKEDCONTAINER","GROUPCELLCLASS","EDIT","BEFOREEDIT","SAVE","REMOVE","DETAILINIT","FILTERMENUINIT","COLUMNMENUINIT","FILTERMENUOPEN","COLUMNMENUOPEN","CELLCLOSE","CHANGE","COLUMNHIDE","COLUMNSHOW","SAVECHANGES","DATABOUND","DETAILEXPAND","DETAILCOLLAPSE","ITEM_CHANGE","PAGE","PAGING","SCROLL","SYNC","FOCUSED","FOCUSABLE","SELECTED","CHECKBOX","CHECKBOXINPUT","NORECORDSCLASS","RESIZE","COLUMNRESIZE","COLUMNREORDER","COLUMNLOCK","COLUMNUNLOCK","NAVIGATE","MOUSEDOWN","HEIGHT","TABINDEX","FUNCTION","BOTTOM","CONTAINER_FOR","FIELD","INPUT","INCELL","INLINE","UNIQUE_ID","MINCOLSPANVALUE","COLSPAN","GROUP_SORT","DELETECONFIRM","NORECORDS","CONFIRMDELETE","CANCELDELETE","EXPAND","formatRegExp","templateHashRegExp","whitespaceRegExp","RegExp","COMMANDBUTTONTMPL","SELECTCOLUMNTMPL","SELECTCOLUMNHEADERTMPL","isRtl","isIE7","isIE11","isMac","navigator","userAgent","VirtualScrollable","that","fn","call","_refreshHandler","refresh","setDataSource","dataSource","wrap","unbind","bind","useRanges","itemHeight","noop","prefetch","maxScrollHeight","events","destroy","wrapper","verticalScrollbar","off","clearTimeout","_timeout","_scrollingTimeout","drag","scrollbar","overflow","first","_wheelScroll","_wrapper","kineticScrollNeeded","UserEvents","global","allowSelection","start","sender","capture","move","scrollTop","y","delta","x","_scroll","overflow-y","ctrlKey","wheelDeltaY","clientHeight","scrollHeight","delayLoading","rowHeight","skip","_rangeStart","innerHeight","isScrollingUp","_scrollbarTop","firstItemIndex","floor","lastItemOffset","ceil","lastItemIndex","_preventScroll","_scrollTop","_scrolling","_fetch","trigger","_page","take","scrollToTop","_scrollTo","scrollToBottom","_scrollWrapperToTop","_scrollWrapperToBottom","_scrollWrapperOnColumnResize","initialScrollTop","scrollWidth","clientWidth","_wrapperScrolled","_isScrolledToBottom","_isWrapperScrolledToBottom","_isScrolledToTop","itemIndex","rangeStart","_isElementVisible","_isElementVisibleInWrapper","halfHeight","top","abs","pageSize","scrollIntoView","containerHeight","containerScroll","elementOffset","elementHeight","scrollingUp","currentSkip","fetching","prefetchAt","webkitCorrection","min","total","_fetching","callback","inRange","progress","range","repaintScrollbar","shouldScrollWrapper","maxHeight","wrapperElement","wasScrolledToBottom","addScrollBarHeight","totalHeight","action","cancel","page","defaultCommands","create","iconClass","save","edit","update","canceledit","excel","pdf","Grid","DataBoundWidget","_events","_element","_aria","_columns","_dataSource","_tbody","_pageable","_thead","_groupable","_toolbar","_setContentHeight","_templates","_navigatable","_selectable","_clipboard","_details","_editable","_attachCustomCommandsEvent","_adaptiveColumns","_minScreenSupport","autoBind","fetch","_group","_groups","_footer","addClass","_resizeHandler","resize","notify","scrollableContent","scrollable","virtual","virtualScrollable","toolbar","filterable","sortable","allowCopy","pageable","persistSelection","rowTemplate","altRowTemplate","noRecords","resizable","reorderable","columnMenu","detailTemplate","columnResizeHandleWidth","mobile","messages","cancelDelete","confirmation","confirmDelete","expandCollapseColumnHeader","groupHeader","ungroupHeader","_angularItems","_destroyColumnAttachments","_navigatableTables","pager","timer","_progressTimeOut","_collapseGroupsTimeOut","_endlessFetchTimeOut","_destroyGroupable","clearArea","_selectedIds","copyHandler","updateClipBoardState","clearAreaHandler","_resizeUserEvents","_resizeHandleDocumentClickHandler","_destroyVirtualScrollable","_destroyEditable","_progressHandler","_errorHandler","_removeLockedContainers","pane","minScreenResizeHandler","_detachColumnMediaResizeHandler","_draggableInstance","lockedRowTemplate","lockedAltRowTemplate","footerTemplate","groupFooterTemplate","lockedGroupFooterTemplate","noRecordsTemplate","scrollables","footer","lockedFooter","_groupableClickHandler","_groupRows","_setContentWidthHandler","getOptions","initialData","_data","group","aggregate","transport","$angular","setOptions","mobileWrapper","currentOptions","_isMobile","after","removeClass","_setEvents","_items","tr","dataItems","n","resizeHandle","angular","each","filterMenu","_cellId","_hasDetails","_createResizeHandle","left","headerWrap","ieCorrection","firefoxCorrection","indicatorWidth","parseFloat","mozilla","_autoFitLeafColumn","_positionColumnResizeHandle","lockedHead","button","buttons","which","hasAttribute","_resizeHandleDocumentClick","_hideResizeHandle","_positionColumnResizeHandleTouch","threshold","hold","resizeColumn","columnWidth","col","constrain","totalWidth","isLocked","isHidden","mobileOS","contentTable","header","columnMinWidth","minResizableWidth","gridWidth","_footerWidth","_scrollVirtualWrapperOnColumnResize","_applyLockedContainersWidth","_syncLockedContentHeight","_syncLockedHeaderHeight","_resizable","columnStart","isMobile","Resizable","handle","hint","location","rtlMultiplier","currentWidth","resizeend","newWidth","oldWidth","_draggable","kendoDraggable","autoScroll","dragstart","not","dragend","title","_reorderable","kendoReorderable","draggable","dragOverContainers","lockable","inSameContainer","change","oldIndex","newIndex","reorderColumn","_reorderHeader","sourceLockedColumns","targetLockedColumns","destPosition","_reorderContent","footerCol","beforeVisibleColumn","columnsArray","lockedRows","visibleSources","destIndex","colSourceIndex","colDest","lockedCount","headerCol","_findClosestVisibleColumnIndex","slice","prev","_hasFilterRow","reverse","closestVisibleColumn","leafIndex","autoFitColumn","minWidth","contentDiv","footerTable","j","tables","oldColumnWidth","newColumnWidth","visibleLocked","notGroupOrHierarchyCol","notGroupOrHierarchyVisibleCell","lockChanged","sourceColumns","destColumn","groupHeaderColumnTemplateColumns","groupHeaderColumnTemplate","_updateLockedCols","_updateCols","_updateColumnCellIndex","_updateColumnSorters","_renderGroupRows","_updateTablesWidth","_updateFirstColumnClass","lockColumn","unlockColumn","cellIndex","td","lockedColumnOffset","_modelForContainer","_editMode","getByUid","mode","multiple","handler","_editContainer","end","closeCell","_scrollVirtualWrapper","editContainer","_mousedownOnEditCell","isLockedCell","has","blur","editCell","shouldCloseCell","editRow","_isVirtualInlineEditable","stopPropagation","removeRow","_confirmation","_attachModelChange","_shouldClearEditableState","_clearEditableState","kendoEditable","fields","editor","values","skipFocus","_isVirtualIncellEditable","_editableState","_relatedRow","_adjustLockedHorizontalScrollBar","touchScroller","_adjustRowsHeight","_syncLockedFooterHeight","editView","_editCancelClickHandler","_editUpdateClickHandler","_detachModelChange","_destroyEditView","_editableIsClosing","close","_actionSheet","purge","navigate","_modelChangeHandler","_modelChange","isCancel","type","_displayCell","ns","dataItem","storage","settings","Template","templateSettings","tmpl","template","_cellTmpl","_removeRow","modelId","schema","cancelRow","idField","sync","_createPopupEditor","_createInlineEditor","_editCancelClick","_editUpdateClick","saveRow","currentIndex","updateText","cancelText","updateIconClass","cancelIconClass","tempCommand","unescape","_createButton","kendoWindow","modal","userTriggered","clearContainer","_openPopUpEditor","windowEditor","windowOptions","_editAnimation","center","open","Editable","cancelChanges","_displayRow","valid","deferred","Deferred","reject","promise","resolve","related","newRow","nextRow","angularElements","angularData","isSelected","isAlt","replaceWith","_checkBoxSelection","select","_showMessage","actionSheet","view","ActionSheet","cancelTemplate","popup","_actionSheetPopupOptions","confirm","_isVirtualEditable","_virtualPageToTop","saveChanges","addRow","createAt","createAtBottom","toLowerCase","virtualEditable","serverPaging","totalPages","_removeCurrent","_virtualAddRow","insert","_editModel","_firstEditableColumnIndex","_virtualAddRowAtBottom","_virtualAddRowAtTop","at","_virtualPageToBottom","_virtualPage","_toolbarTmpl","prependTo","saveAsExcel","saveAsPDF","attributeClassMatch","split","_hasFooters","groupRow","collapseGroup","expandGroup","_isLocked","_attachGroupable","draggables","enabled","Groupable","groupContainer","draggableElements","allowDrag","endless","_endlessPageSize","_skip","_pageSize","_take","_addGroupableOptionsToHeader","headerCell","columnOptions","columnFieldMap","headerCells","_headerCells","cellFieldAttr","kendoGroupable","_removeGroupableOptionsFromHeader","removeData","_continuousItems","lockedItems","nonLockedItems","apply","multi","notString","Selectable","parseOptions","aria","selectedValues","_persistSelectedRows","_uncheckCheckBoxes","_checkRows","_toggleHeaderCheckState","useAllItems","relatedTarget","continuousItems","keyCode","SPACEBAR","shiftKey","_deselectCheckRows","clear","_lastActive","LEFT","RIGHT","UP","DOWN","selectRange","_firstSelectee","stopImmediatePropagation","copySelection","areaClipBoard","val","getTSV","Event","metaKey","getSelection","selection","createRange","opacity","cellsOffset","lockedCols","inLockedArea","rowsOffset","selected","delimeter","onlyVisible","cellText","_anyColumnHasMediaQuery","_setColumnsMediaVisibility","_attachColumnMediaResizeHandler","_columnsWithMediaQuery","_columnMediaResizeHandler","_onColumnMediaResize","_setContentMediaWidth","_setColumnMediaVisibility","_showColumnByMedia","_hideColumnByMedia","showColumn","initiallyHidden","hideColumn","headerColumns","headerColgroup","headerColumnsCount","visibleHeaderColumnsCount","hiddenHeaderColumnsCount","totalHeaderWidth","currentHeaderWidth","colgroupChild","columnStyleWidth","any","hideMinScreenCols","screenWidth","innerWidth","screen","_iterateMinScreenCols","_relatedCell","clearSelection","selectableoptions","checked","prop","allRows","dataSourceOptions","selectedViewIds","selectedKeyNames","property","ids","_updateCurrentAttr","headerId","removeAttr","_current","_scrollCurrent","tableContainer","isInLockedContainer","isInContent","scrollableContainer","addBack","_rowVirtualIndex","preventTrigger","_lastCellIndex","elementToLowercase","tagName","isHorizontal","elementOffsetDir","containerOffsetDir","bottomDistance","offsetLeft","dataTables","headerTables","_openHeaderMenu","_tableFocus","_tableBlur","_tableKeyDown","altKey","_setTabIndex","handled","requestInProgress","canHandle","isDefaultPrevented","_moveUp","_moveDown","_moveRight","_moveLeft","PAGEDOWN","_handlePageDown","PAGEUP","_handlePageUp","HOME","_handleHome","END","_handleEnd","_handleSpaceKey","ENTER","F2","_handleEnterKey","ESC","_handleEscKey","TAB","_handleTabKey","collapseRow","_moveColumn","_prevHorizontalCell","_tabNext","_horizontalContainer","expandRow","_nextHorizontalCell","nextAll","_prevVerticalCell","_verticalContainer","_nextVerticalCell","isLeft","ctrl","rowContainer","isInLockedTable","isInBody","isInCell","_handleEditing","active","_toggleCurrent","descriptors","label","_canDrag","dir","link","focusable","originalIndex","_currentDataIndex","lockedColumnsCount","tmpIndex","currentRowCells","hiddenColumns","up","step","right","back","switchRow","isEdited","isIE","oldIE","opera","triggerHandler","_initMobile","Pane","documentElement","align","effect","_scrollable","originalPageSize","hasVirtualScroll","_createVirtualScrollable","_scrollLeft","_endlessFetchInProgress","_skipRerenderItemsCount","movable","_averageRowHeight","_restoreEditableState","scroll","_focusEditable","_onVirtualPaging","_cacheEditableState","_isVirtualPopupEditable","editableState","editedModel","inlineMode","incellMode","_getByUid","editedField","_canFocusEditable","widget","widgetInstance","_renderNoRecordsContent","noRecordsElement","_setContentWidth","expander","hiddenDivClass","hiddenDiv","isNaN","footerWrap","contentWidth","nonLockedCols","nonLockedColsWidth","isGridHeightSet","scrollableHeight","initialHeight","newHeight","currentRowHeight","itemsCount","_rowHeight","_sum","_measures","_requestStart","_error","_progress","relatedRow","selectableRow","childCells","originalCells","Pager","_wrapFooter","_appendLockedColumnFooter","footerRow","_appendCols","_columnMenu","menu","menuOptions","hasMultiColumnHeaders","initCallback","openCallback","closeCallback","sortHandler","filterHandler","compare","forceUnique","checkSource","owner","filtering","kendoColumnMenu","_filterable","columnFilterable","filterInit","filterOpen","kendoFilterMultiCheck","kendoFilterMenu","_filterRow","rowheader","suggestDataSource","operators","customDataSource","cellOptions","_updateHeader","delay","inputWidth","suggestionOperator","minLength","dataTextField","operator","showOperators","kendoFilterCell","_sortable","sorterInstance","kendoColumnSorter","columnLeafs","initialColumns","headers","_checkboxClick","_headerCheckboxClick","checkBox","parentGrid","getKendoGrid","isSelecting","_tmpl","alt","skipGroupCells","paramName","fieldAttr","dirtyCellTemplate","expr","_dirtyCellTemplate","dirtyField","charAt","_headerCellText","headerTemplate","_dirtyIndicatorTemplate","stringify","useWithBlock","columnsLocked","groupHeaderColumnTemplateLockedColumns","groupHeaderColumnTemplateNonLockedColumns","_detailTmpl","_footerTmpl","g","_groupHeaderTmpl","lockedGroupHeaderColumnTemplate","_noRecordsTmpl","defaultTemplate","scrollableNoGridHeightStyles","templateName","rowClass","scope","fieldsMap","_emptyAggregates","templateFunctionStorage","templateFunctionCount","hasFiltering","columnsWithoutFiltering","detailRow","expanding","masterRow","ariaLabelText","ariaExpandText","toggleClass","detailCell","toggle","correctIdx","classesRegEx","sectionRowIndex","_createHeaderCells","_appendLockedColumnContent","spanIdx","skipHiddenCount","colOffset","detach","lockedCells","_appendLockedColumnHeader","trFilter","hasFilterRow","filterCellOffset","filterCells","leafColumnsCount","filtercellCells","filterRow","existingFilterRow","syncHeight","hasLockedColumns","hasTHead","_prepareColumns","_retrieveFirstColumn","parentRow","childRow","totalColSpan","_updateHeaderCols","_autoColumns","toJSON","_rowsHtml","templates","_groupData","skipFooter","firstColumn","footerDefaults","_groupAggregatesDefaultObject","groupItems","headerData","footerData","_groupRowHtml","groupHeaderBuilder","skipColspan","skipLastGroup","groupData","groupHeaderTemplate","_skippedGroups","shift","toHide","groupToCollapse","showFooter","footerCount","relatedGroup","_groupToCollapse","footersVisibility","groupsCount","pop","_firstDataItem","grouped","headerCellIndex","_columnVisibilitySetter","_setParentsVisibility","predicate","p","originalColumn","columnLeafIndex","_resize","force","_isActiveInTable","contentScrollLeft","cachedItemsToSkip","isCurrentInHeader","_renderContent","_renderLockedContent","_togglePagerVisibility","_restoreCurrent","contentResized","resetTouchEvents","_muteAngularRebind","_restoreSelection","selectedRows","dataItemKey","cmd","_cleanupDetailItems","_angularGroupItems","_angularGroupFooterItems","flatViewLength","endlessAppend","flatView","groupRowBuilderFunc","groupHeaderData","prevElement","newGroupRowElement","currentRow","firstColumnGroupData","alwaysVisible","rows2","containers","containersLength","heights","ExcelMixin","PDFMixin","_drawPDF_autoPageBreak","allPages","startingPage","draw","cont","_destructive","pageNumber","pageNum","drawing","drawDOM","clone","always","then","fail","err","renderPage","origBody","paddingRight","_initPDFProgress","_drawPDF","exportPage","doc","_drawPDFShadow","avoidLinks","done","args","paperSize","Group","pb","loading","kendoProgressBar","chunkCount","plugin"],"mappings":"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","file":"kendo.grid.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/text-metrics', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        window.kendo.util = window.kendo.util || {};\n        var LRUCache = kendo.Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var map = this._map;\n                var entry = {\n                    key: key,\n                    value: value\n                };\n                map[key] = entry;\n                if (!this._head) {\n                    this._head = this._tail = entry;\n                } else {\n                    this._tail.newer = entry;\n                    entry.older = this._tail;\n                    this._tail = entry;\n                }\n                if (this._length >= this._size) {\n                    map[this._head.key] = null;\n                    this._head = this._head.newer;\n                    this._head.older = null;\n                } else {\n                    this._length++;\n                }\n            },\n            get: function (key) {\n                var entry = this._map[key];\n                if (entry) {\n                    if (entry === this._head && entry !== this._tail) {\n                        this._head = entry.newer;\n                        this._head.older = null;\n                    }\n                    if (entry !== this._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = this._tail;\n                        entry.newer = null;\n                        this._tail.newer = entry;\n                        this._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var REPLACE_REGEX = /\\r?\\n|\\r|\\t/g;\n        var SPACE = ' ';\n        function normalizeText(text) {\n            return String(text).replace(REPLACE_REGEX, SPACE);\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var DEFAULT_OPTIONS = { baselineMarkerSize: 1 };\n        var defaultMeasureBox;\n        if (typeof document !== 'undefined') {\n            defaultMeasureBox = document.createElement('div');\n            defaultMeasureBox.style.cssText = 'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: pre!important;';\n        }\n        var TextMetrics = kendo.Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this.options = $.extend({}, DEFAULT_OPTIONS, options);\n            },\n            measure: function (text, style, options) {\n                if (options === void 0) {\n                    options = {};\n                }\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = objectKey(style);\n                var cacheKey = hashKey(text + styleKey);\n                var cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = options.box || defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (typeof value !== 'undefined') {\n                        measureBox.style[key] = value;\n                    }\n                }\n                var textStr = options.normalizeText !== false ? normalizeText(text) : String(text);\n                measureBox.textContent = textStr;\n                measureBox.appendChild(baselineMarker);\n                document.body.appendChild(measureBox);\n                if (textStr.length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                var marker = document.createElement('div');\n                marker.style.cssText = 'display: inline-block; vertical-align: baseline;width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;overflow: hidden;';\n                return marker;\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        kendo.deepExtend(kendo.util, {\n            LRUCache: LRUCache,\n            TextMetrics: TextMetrics,\n            measureText: measureText,\n            objectKey: objectKey,\n            hashKey: hashKey,\n            normalizeText: normalizeText\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.grid', [\n        'kendo.data',\n        'kendo.columnsorter',\n        'kendo.editable',\n        'kendo.window',\n        'kendo.filtermenu',\n        'kendo.columnmenu',\n        'kendo.groupable',\n        'kendo.pager',\n        'kendo.selectable',\n        'kendo.sortable',\n        'kendo.reorderable',\n        'kendo.resizable',\n        'kendo.mobile.actionsheet',\n        'kendo.mobile.pane',\n        'kendo.ooxml',\n        'kendo.excel',\n        'kendo.progressbar',\n        'kendo.pdf'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'grid',\n        name: 'Grid',\n        category: 'web',\n        description: 'The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.',\n        depends: [\n            'data',\n            'columnsorter',\n            'sortable'\n        ],\n        features: [\n            {\n                id: 'grid-editing',\n                name: 'Editing',\n                description: 'Support for record editing',\n                depends: [\n                    'editable',\n                    'window'\n                ]\n            },\n            {\n                id: 'grid-filtering',\n                name: 'Filtering',\n                description: 'Support for record filtering',\n                depends: ['filtermenu']\n            },\n            {\n                id: 'grid-columnmenu',\n                name: 'Column menu',\n                description: 'Support for header column menu',\n                depends: ['columnmenu']\n            },\n            {\n                id: 'grid-grouping',\n                name: 'Grouping',\n                description: 'Support for grid grouping',\n                depends: ['groupable']\n            },\n            {\n                id: 'grid-filtercell',\n                name: 'Row filter',\n                description: 'Support for grid header filtering',\n                depends: ['filtercell']\n            },\n            {\n                id: 'grid-paging',\n                name: 'Paging',\n                description: 'Support for grid paging',\n                depends: ['pager']\n            },\n            {\n                id: 'grid-selection',\n                name: 'Selection',\n                description: 'Support for row selection',\n                depends: ['selectable']\n            },\n            {\n                id: 'grid-column-reorder',\n                name: 'Column reordering',\n                description: 'Support for column reordering',\n                depends: ['reorderable']\n            },\n            {\n                id: 'grid-column-resize',\n                name: 'Column resizing',\n                description: 'Support for column resizing',\n                depends: ['resizable']\n            },\n            {\n                id: 'grid-mobile',\n                name: 'Grid adaptive rendering',\n                description: 'Support for adaptive rendering',\n                depends: [\n                    'mobile.actionsheet',\n                    'mobile.pane'\n                ]\n            },\n            {\n                id: 'grid-excel-export',\n                name: 'Excel export',\n                description: 'Export grid data as Excel spreadsheet',\n                depends: ['excel']\n            },\n            {\n                id: 'grid-pdf-export',\n                name: 'PDF export',\n                description: 'Export grid data as PDF',\n                depends: [\n                    'pdf',\n                    'drawing',\n                    'progressbar'\n                ]\n            }\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, DataSource = kendo.data.DataSource, ObservableObject = kendo.data.ObservableObject, tbodySupportsInnerHtml = kendo.support.tbodyInnerHtml, activeElement = kendo._activeElement, Widget = ui.Widget, outerWidth = kendo._outerWidth, outerHeight = kendo._outerHeight, keys = kendo.keys, isPlainObject = $.isPlainObject, extend = $.extend, map = $.map, grep = $.grep, isArray = $.isArray, inArray = $.inArray, push = Array.prototype.push, proxy = $.proxy, isFunction = kendo.isFunction, isEmptyObject = $.isEmptyObject, contains = $.contains, math = Math, PROGRESS = 'progress', ERROR = 'error', HIERARCHY_CELL_CLASS = 'k-hierarchy-cell', DATA_CELL = ':not(.k-group-cell):not(.k-hierarchy-cell:not(:has(.k-icon.k-i-collapse,.k-icon.k-i-expand))):visible', SELECTION_CELL_SELECTOR = 'tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)', NAVROW = 'tr:not(.k-footer-template):visible', NAVCELL = ':not(.k-group-cell):not(.k-detail-cell):not(.k-hierarchy-cell):visible', ITEMROW = 'tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible', FIRSTITEMROW = ITEMROW + ':first', LASTITEMROW = ITEMROW + ':last', FIRSTNAVITEM = NAVROW + ':first>' + NAVCELL + ':first', HEADERCELLS = 'th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)', NS = '.kendoGrid', CONTENTRLOCKEDCONTAINER = 'k-grid-content-locked', GROUPCELLCLASS = 'k-group-cell', EDIT = 'edit', BEFOREEDIT = 'beforeEdit', SAVE = 'save', REMOVE = 'remove', DETAILINIT = 'detailInit', FILTERMENUINIT = 'filterMenuInit', COLUMNMENUINIT = 'columnMenuInit', FILTERMENUOPEN = 'filterMenuOpen', COLUMNMENUOPEN = 'columnMenuOpen', CELLCLOSE = 'cellClose', CHANGE = 'change', COLUMNHIDE = 'columnHide', COLUMNSHOW = 'columnShow', SAVECHANGES = 'saveChanges', DATABOUND = 'dataBound', DETAILEXPAND = 'detailExpand', DETAILCOLLAPSE = 'detailCollapse', ITEM_CHANGE = 'itemchange', PAGE = 'page', PAGING = 'paging', SCROLL = 'scroll', SYNC = 'sync', FOCUSED = 'k-state-focused', FOCUSABLE = ':kendoFocusable', SELECTED = 'k-state-selected', CHECKBOX = 'k-checkbox', CHECKBOXINPUT = 'input[data-role=\\'checkbox\\'].' + CHECKBOX, NORECORDSCLASS = 'k-grid-norecords', RESIZE = 'resize', COLUMNRESIZE = 'columnResize', COLUMNREORDER = 'columnReorder', COLUMNLOCK = 'columnLock', COLUMNUNLOCK = 'columnUnlock', NAVIGATE = 'navigate', CLICK = 'click', MOUSEDOWN = 'mousedown', HEIGHT = 'height', TABINDEX = 'tabIndex', FUNCTION = 'function', STRING = 'string', BOTTOM = 'bottom', CONTAINER_FOR = 'container-for', FIELD = 'field', INPUT = 'input', INCELL = 'incell', INLINE = 'inline', UNIQUE_ID = 'uid', MINCOLSPANVALUE = 1, COLSPAN = 'colSpan', GROUP_SORT = 'group-sort', DELETECONFIRM = 'Are you sure you want to delete this record?', NORECORDS = 'No records available.', CONFIRMDELETE = 'Delete', CANCELDELETE = 'Cancel', COLLAPSE = 'Collapse', EXPAND = 'Expand', ARIALABEL = 'aria-label', formatRegExp = /(\\}|\\#)/gi, templateHashRegExp = /#/gi, whitespaceRegExp = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]', nonDataCellsRegExp = new RegExp('(^|' + whitespaceRegExp + ')' + '(k-group-cell|k-hierarchy-cell)' + '(' + whitespaceRegExp + '|$)'), filterRowRegExp = new RegExp('(^|' + whitespaceRegExp + ')' + '(k-filter-row)' + '(' + whitespaceRegExp + '|$)'), COMMANDBUTTONTMPL = '# if (iconClass) {#' + '<a role=\"button\" class=\"k-button k-button-icontext #=className#\" #=attr# href=\"\\\\#\"><span class=\"#=iconClass#\"></span>#=text#</a>' + '# } else { #' + '<a role=\"button\" class=\"k-button k-button-icontext #=className#\" #=attr# href=\"\\\\#\">#=text#</a>' + '# } #', SELECTCOLUMNTMPL = '# var checkboxGuid = kendo.guid(); #' + '<input class=\"' + CHECKBOX + '\" data-role=\"checkbox\" id=\"#= checkboxGuid #\" aria-label=\"Select row\" aria-checked=\"false\" type=\"checkbox\">' + '<label for=\"#= checkboxGuid #\" class=\"k-checkbox-label k-no-text\">&\\\\#8203;</label>', SELECTCOLUMNHEADERTMPL = '# var checkboxGuid = kendo.guid(); #' + '<input class=\"' + CHECKBOX + '\" data-role=\"checkbox\" aria-label=\"Select all rows\" aria-checked=\"false\" type=\"checkbox\" id=\"#= checkboxGuid #\">' + '<label for=\"#= checkboxGuid #\" class=\"k-checkbox-label k-no-text\">##&\\\\#8203;##</label>', isRtl = false, browser = kendo.support.browser, isIE7 = browser.msie && browser.version == 7, isIE8 = browser.msie && browser.version == 8;\n        var isIE11 = browser.msie && browser.version === 11;\n        var isMac = /Mac OS/.test(navigator.userAgent);\n        var VirtualScrollable = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                that._refreshHandler = proxy(that.refresh, that);\n                that.setDataSource(options.dataSource);\n                that.wrap();\n            },\n            setDataSource: function (dataSource) {\n                var that = this;\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler);\n                }\n                that.dataSource = dataSource;\n                that.dataSource.bind(CHANGE, that._refreshHandler);\n                that.dataSource.options.useRanges = true;\n            },\n            options: {\n                name: 'VirtualScrollable',\n                itemHeight: $.noop,\n                prefetch: true,\n                maxScrollHeight: 250000\n            },\n            events: [\n                PAGING,\n                PAGE,\n                SCROLL\n            ],\n            destroy: function () {\n                var that = this;\n                Widget.fn.destroy.call(that);\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n                that.wrapper.add(that.verticalScrollbar).off(NS);\n                clearTimeout(that._timeout);\n                if (that._scrollingTimeout) {\n                    clearTimeout(that._scrollingTimeout);\n                }\n                if (that.drag) {\n                    that.drag.destroy();\n                    that.drag = null;\n                }\n                that.wrapper = that.element = that.verticalScrollbar = null;\n                that._refreshHandler = null;\n            },\n            wrap: function () {\n                var that = this, scrollbar = kendo.support.scrollbar() + 1, element = that.element, wrapper;\n                element.css({\n                    width: 'auto',\n                    overflow: 'hidden'\n                }).css(isRtl ? 'padding-left' : 'padding-right', scrollbar);\n                that.content = element.children().first();\n                wrapper = that.wrapper = that.content.wrap('<div class=\"k-virtual-scrollable-wrap\"/>').parent().bind('DOMMouseScroll' + NS + ' mousewheel' + NS, proxy(that._wheelScroll, that));\n                that._wrapper();\n                if (kendo.support.kineticScrollNeeded) {\n                    that.drag = new kendo.UserEvents(that.wrapper, {\n                        global: true,\n                        allowSelection: true,\n                        start: function (e) {\n                            e.sender.capture();\n                        },\n                        move: function (e) {\n                            that.verticalScrollbar.scrollTop(that.verticalScrollbar.scrollTop() - e.y.delta);\n                            wrapper.scrollLeft(wrapper.scrollLeft() - e.x.delta);\n                            e.preventDefault();\n                        }\n                    });\n                }\n                that.verticalScrollbar = $('<div class=\"k-scrollbar k-scrollbar-vertical\" />').css({ width: scrollbar }).appendTo(element).bind('scroll' + NS, proxy(that._scroll, that));\n            },\n            _wrapper: function () {\n                var that = this;\n                if (isIE11) {\n                    that.wrapper.css({ 'overflow-y': SCROLL });\n                    that.element.css(isRtl ? 'padding-left' : 'padding-right', 0);\n                }\n            },\n            _wheelScroll: function (e) {\n                if (e.ctrlKey) {\n                    return;\n                }\n                var scrollbar = this.verticalScrollbar, scrollTop = scrollbar.scrollTop(), delta = kendo.wheelDeltaY(e);\n                if (delta && !(delta > 0 && scrollTop === 0) && !(delta < 0 && scrollTop + scrollbar[0].clientHeight == scrollbar[0].scrollHeight)) {\n                    e.preventDefault();\n                    this.verticalScrollbar.scrollTop(scrollTop + -delta);\n                }\n            },\n            _scroll: function (e) {\n                var that = this, delayLoading = !that.options.prefetch, scrollTop = e.currentTarget.scrollTop, dataSource = that.dataSource, rowHeight = that.itemHeight, skip = dataSource.skip() || 0, start = that._rangeStart || skip, height = that.element.innerHeight(), isScrollingUp = !!(that._scrollbarTop && that._scrollbarTop > scrollTop), firstItemIndex = math.max(math.floor(scrollTop / rowHeight), 0), lastItemOffset = isScrollingUp ? math.ceil(height / rowHeight) : math.floor(height / rowHeight), lastItemIndex = math.max(firstItemIndex + lastItemOffset, 0);\n                if (that._preventScroll) {\n                    that._preventScroll = false;\n                    return;\n                }\n                that._scrollTop = scrollTop - start * rowHeight;\n                that._scrollbarTop = scrollTop;\n                that._scrolling = delayLoading;\n                if (!that._fetch(firstItemIndex, lastItemIndex, isScrollingUp)) {\n                    that.wrapper[0].scrollTop = that._scrollTop;\n                }\n                that.trigger(SCROLL);\n                if (delayLoading) {\n                    if (that._scrollingTimeout) {\n                        clearTimeout(that._scrollingTimeout);\n                    }\n                    that._scrollingTimeout = setTimeout(function () {\n                        that._scrolling = false;\n                        that._page(that._rangeStart, that.dataSource.take());\n                    }, 100);\n                }\n            },\n            scrollToTop: function () {\n                this._scrollTo(0);\n            },\n            scrollToBottom: function () {\n                var scrollbar = this.verticalScrollbar;\n                this._scrollTo(scrollbar[0].scrollHeight - scrollbar.height());\n            },\n            _scrollWrapperToTop: function () {\n                this.wrapper.scrollTop(0);\n            },\n            _scrollWrapperToBottom: function () {\n                this.wrapper.scrollTop(this.wrapper[0].scrollHeight);\n            },\n            _scrollWrapperOnColumnResize: function () {\n                var that = this;\n                var wrapper = this.wrapper;\n                var initialScrollTop = wrapper.scrollTop();\n                if (wrapper[0].scrollWidth > wrapper[0].clientWidth) {\n                    if (!that._wrapperScrolled && initialScrollTop || that._isScrolledToBottom()) {\n                        wrapper.scrollTop(initialScrollTop + kendo.support.scrollbar());\n                        that._scrollTop = wrapper.scrollTop();\n                        that._wrapperScrolled = true;\n                    }\n                } else if (that._wrapperScrolled) {\n                    if (!that._isWrapperScrolledToBottom()) {\n                        wrapper.scrollTop(initialScrollTop - kendo.support.scrollbar());\n                        that._scrollTop = wrapper.scrollTop();\n                    }\n                    that._wrapperScrolled = false;\n                }\n            },\n            _scrollTo: function (scrollTop) {\n                var that = this;\n                var scrollbar = that.verticalScrollbar;\n                if (scrollbar.scrollTop() !== scrollTop) {\n                    that._preventScroll = true;\n                }\n                that.wrapper.scrollTop(scrollTop);\n                that._scrollTop = that.wrapper.scrollTop();\n                scrollbar.scrollTop(scrollTop);\n                that._scrollbarTop = scrollbar.scrollTop();\n            },\n            _isScrolledToTop: function () {\n                return this.verticalScrollbar.scrollTop() === 0;\n            },\n            _isScrolledToBottom: function () {\n                var scrollbar = this.verticalScrollbar;\n                var scrollTop = scrollbar.scrollTop();\n                return scrollTop > 0 && scrollTop >= parseInt(scrollbar[0].scrollHeight - scrollbar.height(), 10);\n            },\n            _isWrapperScrolledToBottom: function () {\n                var wrapper = this.wrapper;\n                return wrapper.scrollTop() >= parseInt(wrapper[0].scrollHeight - wrapper.height(), 10);\n            },\n            itemIndex: function (rowIndex) {\n                var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n                return rangeStart + rowIndex;\n            },\n            _isElementVisible: function (element) {\n                return this._isElementVisibleInWrapper(element);\n            },\n            _isElementVisibleInWrapper: function (element) {\n                var that = this;\n                var wrapper = that.wrapper;\n                var offsetTop;\n                var halfHeight;\n                element = $(element);\n                if (element[0] && contains(wrapper[0], element[0])) {\n                    offsetTop = element.offset().top - wrapper.offset().top;\n                    halfHeight = element.outerHeight() / 2;\n                    if ((offsetTop >= 0 || math.abs(offsetTop) <= halfHeight) && math.floor(offsetTop + halfHeight) <= wrapper.height()) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            position: function (index) {\n                var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n                var pageSize = this.dataSource.pageSize();\n                var result;\n                if (index > rangeStart) {\n                    result = index - rangeStart + 1;\n                } else {\n                    result = rangeStart - index - 1;\n                }\n                return result > pageSize ? pageSize : result;\n            },\n            scrollIntoView: function (row) {\n                var container = this.wrapper[0];\n                var containerHeight = container.clientHeight;\n                var containerScroll = !this._isScrolledToBottom() ? this._scrollTop || container.scrollTop : container.scrollTop;\n                var elementOffset = row[0].offsetTop;\n                var elementHeight = row[0].offsetHeight;\n                if (containerScroll > elementOffset) {\n                    this.verticalScrollbar[0].scrollTop -= containerHeight / 2;\n                } else if (elementOffset + elementHeight >= containerScroll + containerHeight) {\n                    this.verticalScrollbar[0].scrollTop += containerHeight / 2;\n                }\n            },\n            _fetch: function (firstItemIndex, lastItemIndex, scrollingUp) {\n                var that = this, dataSource = that.dataSource, itemHeight = that.itemHeight, take = dataSource.take(), rangeStart = that._rangeStart || dataSource.skip() || 0, currentSkip = math.floor(firstItemIndex / take) * take, fetching = false, prefetchAt = 0.33;\n                var scrollbar = that.verticalScrollbar;\n                var webkitCorrection = browser.webkit ? 1 : 0;\n                if (firstItemIndex < rangeStart) {\n                    fetching = true;\n                    rangeStart = math.max(0, lastItemIndex - take);\n                    that._scrollTop = scrollbar.scrollTop() - rangeStart * itemHeight;\n                    that._page(rangeStart, take);\n                } else if (lastItemIndex >= rangeStart + take && !scrollingUp) {\n                    fetching = true;\n                    rangeStart = math.min(firstItemIndex, dataSource.total() - take);\n                    if (scrollbar.scrollTop() >= scrollbar[0].scrollHeight - scrollbar.height() - webkitCorrection) {\n                        that._scrollTop = that.wrapper[0].scrollHeight - that.wrapper.height();\n                    } else {\n                        that._scrollTop = itemHeight;\n                    }\n                    that._page(rangeStart, take);\n                } else if (!that._fetching && that.options.prefetch) {\n                    if (firstItemIndex < currentSkip + take - take * prefetchAt && firstItemIndex > take) {\n                        dataSource.prefetch(currentSkip - take, take, $.noop);\n                    }\n                    if (lastItemIndex > currentSkip + take * prefetchAt) {\n                        dataSource.prefetch(currentSkip + take, take, $.noop);\n                    }\n                }\n                return fetching;\n            },\n            fetching: function () {\n                return this._fetching;\n            },\n            _page: function (skip, take, callback) {\n                var that = this, delayLoading = !that.options.prefetch, dataSource = that.dataSource;\n                callback = isFunction(callback) ? callback : $.noop;\n                if (that.trigger(PAGING, {\n                        skip: skip,\n                        take: take\n                    })) {\n                    return;\n                }\n                clearTimeout(that._timeout);\n                that._fetching = true;\n                that._rangeStart = skip;\n                if (dataSource.inRange(skip, take)) {\n                    kendo.ui.progress($(that.wrapper).parent(), true);\n                    dataSource.range(skip, take, function () {\n                        kendo.ui.progress($(that.wrapper).parent(), false);\n                        callback();\n                        that.trigger(PAGE);\n                    });\n                } else {\n                    if (!delayLoading) {\n                        kendo.ui.progress(that.wrapper.parent(), true);\n                    }\n                    that._timeout = setTimeout(function () {\n                        if (!that._scrolling) {\n                            if (delayLoading) {\n                                kendo.ui.progress(that.wrapper.parent(), true);\n                            }\n                            dataSource.range(skip, take, function () {\n                                kendo.ui.progress(that.wrapper.parent(), false);\n                                callback();\n                                that.trigger(PAGE);\n                            });\n                        }\n                    }, 100);\n                }\n            },\n            repaintScrollbar: function (shouldScrollWrapper) {\n                var that = this, html = '', maxHeight = that.options.maxScrollHeight, dataSource = that.dataSource, scrollbar = !kendo.support.kineticScrollNeeded ? kendo.support.scrollbar() : 0, wrapperElement = that.wrapper[0], totalHeight, idx, itemHeight;\n                var wasScrolledToBottom = that._isScrolledToBottom();\n                itemHeight = that.itemHeight = that.options.itemHeight() || 0;\n                var addScrollBarHeight = wrapperElement.scrollWidth > wrapperElement.offsetWidth ? scrollbar : 0;\n                totalHeight = dataSource.total() * itemHeight + addScrollBarHeight;\n                for (idx = 0; idx < math.floor(totalHeight / maxHeight); idx++) {\n                    html += '<div style=\"width:1px;height:' + maxHeight + 'px\"></div>';\n                }\n                if (totalHeight % maxHeight) {\n                    html += '<div style=\"width:1px;height:' + totalHeight % maxHeight + 'px\"></div>';\n                }\n                that.verticalScrollbar.html(html);\n                if (wasScrolledToBottom && !that._isScrolledToBottom()) {\n                    that.scrollToBottom();\n                }\n                if (typeof that._scrollTop !== 'undefined' && !!shouldScrollWrapper) {\n                    wrapperElement.scrollTop = that._scrollTop;\n                    that._scrollWrapperOnColumnResize();\n                }\n            },\n            refresh: function (e) {\n                var that = this, dataSource = that.dataSource, rangeStart = that._rangeStart;\n                var action = (e || {}).action;\n                var shouldScrollWrapper = that._isScrolledToBottom() || !action || action !== ITEM_CHANGE && action !== REMOVE && action !== SYNC;\n                kendo.ui.progress(that.wrapper.parent(), false);\n                clearTimeout(that._timeout);\n                that.repaintScrollbar(shouldScrollWrapper);\n                if (that.drag) {\n                    that.drag.cancel();\n                }\n                if (typeof rangeStart !== 'undefined' && !that._fetching) {\n                    if (!action || action !== SYNC && action !== ITEM_CHANGE) {\n                        that._rangeStart = dataSource.skip();\n                    }\n                    if (dataSource.page() === 1 && (!action || action !== SYNC && action !== ITEM_CHANGE)) {\n                        that.verticalScrollbar[0].scrollTop = 0;\n                    }\n                }\n                that._fetching = false;\n            }\n        });\n        function attrEquals(attrName, attrValue) {\n            return '[' + kendo.attr(attrName) + '=' + attrValue + ']';\n        }\n        function groupCells(count) {\n            return new Array(count + 1).join('<td class=\"k-group-cell\">&nbsp;</td>');\n        }\n        function stringifyAttributes(attributes) {\n            var attr, result = ' ';\n            if (attributes) {\n                if (typeof attributes === STRING) {\n                    return attributes;\n                }\n                for (attr in attributes) {\n                    if (attributes[attr] !== '') {\n                        result += attr + '=\"' + attributes[attr] + '\"';\n                    }\n                }\n            }\n            return result;\n        }\n        var defaultCommands = {\n            create: {\n                text: 'Add new record',\n                className: 'k-grid-add',\n                iconClass: 'k-icon k-i-plus'\n            },\n            cancel: {\n                text: 'Cancel changes',\n                className: 'k-grid-cancel-changes',\n                iconClass: 'k-icon k-i-cancel'\n            },\n            save: {\n                text: 'Save changes',\n                className: 'k-grid-save-changes',\n                iconClass: 'k-icon k-i-check'\n            },\n            destroy: {\n                text: 'Delete',\n                className: 'k-grid-delete',\n                iconClass: 'k-icon k-i-close'\n            },\n            edit: {\n                text: 'Edit',\n                className: 'k-grid-edit',\n                iconClass: 'k-icon k-i-edit'\n            },\n            update: {\n                text: 'Update',\n                className: 'k-primary k-grid-update',\n                iconClass: 'k-icon k-i-check'\n            },\n            canceledit: {\n                text: 'Cancel',\n                className: 'k-grid-cancel',\n                iconClass: 'k-icon k-i-cancel'\n            },\n            excel: {\n                text: 'Export to Excel',\n                className: 'k-grid-excel',\n                iconClass: 'k-icon k-i-file-excel'\n            },\n            pdf: {\n                text: 'Export to PDF',\n                className: 'k-grid-pdf',\n                iconClass: 'k-icon k-i-file-pdf'\n            }\n        };\n        function cursor(context, value) {\n            $('th, th .k-grid-filter, th .k-link', context).add(document.body).css('cursor', value);\n        }\n        function reorder(selector, source, dest, before, count) {\n            var sourceIndex = source;\n            source = $();\n            count = count || 1;\n            for (var idx = 0; idx < count; idx++) {\n                source = source.add(selector.eq(sourceIndex + idx));\n            }\n            if (typeof dest == 'number') {\n                source[before ? 'insertBefore' : 'insertAfter'](selector.eq(dest));\n            } else {\n                source.appendTo(dest);\n            }\n        }\n        function elements(lockedContent, content, filter) {\n            return $(lockedContent).add(content).find(filter);\n        }\n        function attachCustomCommandEvent(context, container, commands) {\n            var idx, length, command, commandName;\n            commands = !isArray(commands) ? [commands] : commands;\n            for (idx = 0, length = commands.length; idx < length; idx++) {\n                command = commands[idx];\n                if (isPlainObject(command) && command.click) {\n                    commandName = command.name || command.text;\n                    container.on(CLICK + NS, 'a.k-grid-' + (commandName || '').replace(/\\s/g, ''), { commandName: commandName }, proxy(command.click, context));\n                }\n            }\n        }\n        function normalizeColumns(columns, encoded, hide) {\n            return map(columns, function (column) {\n                column = typeof column === STRING ? { field: column } : column;\n                var hidden;\n                if (!isVisible(column) || hide) {\n                    column.attributes = addHiddenStyle(column.attributes);\n                    column.footerAttributes = addHiddenStyle(column.footerAttributes);\n                    column.headerAttributes = addHiddenStyle(column.headerAttributes);\n                    hidden = true;\n                }\n                if (column.columns) {\n                    column.columns = normalizeColumns(column.columns, encoded, hidden);\n                }\n                var uid = kendo.guid();\n                column.headerAttributes = extend({ id: uid }, column.headerAttributes);\n                return extend({\n                    encoded: encoded,\n                    hidden: hidden\n                }, column);\n            });\n        }\n        function columnParent(column, columns) {\n            var parents = [];\n            columnParents(column, columns, parents);\n            return parents[parents.length - 1];\n        }\n        function columnParents(column, columns, parents) {\n            parents = parents || [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (column === columns[idx]) {\n                    return true;\n                } else if (columns[idx].columns) {\n                    var inserted = parents.length;\n                    parents.push(columns[idx]);\n                    if (!columnParents(column, columns[idx].columns, parents)) {\n                        parents.splice(inserted, parents.length - inserted);\n                    } else {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n        function setColumnVisibility(column, visible) {\n            setVisibility(column, visible, visible);\n        }\n        function setVisibility(column, visible, show) {\n            var method = show ? removeHiddenStyle : addHiddenStyle;\n            column.hidden = !visible;\n            column.attributes = method(column.attributes);\n            column.footerAttributes = method(column.footerAttributes);\n            column.headerAttributes = method(column.headerAttributes);\n        }\n        function setColumnMediaVisibility(column, visible) {\n            setColumnMatchesMedia(column);\n            var hideByMedia = column._hideByMedia;\n            setVisibility(column, visible, hideByMedia ? column.matchesMedia : visible);\n        }\n        function setColumnMatchesMedia(column) {\n            column.matchesMedia = columnMatchesMedia(column);\n        }\n        function columnMatchesMedia(column) {\n            return column && (isUndefined(column.media) || !isUndefined(column.media) && kendo.matchesMedia(column.media));\n        }\n        function isCellVisible() {\n            return this.style.display !== 'none';\n        }\n        function isElementVisible(element) {\n            return $(element)[0].style.display !== 'none';\n        }\n        function isVisible(column) {\n            return visibleColumns([column]).length > 0;\n        }\n        function visibleColumns(columns) {\n            return grep(columns, function (column) {\n                var result = !column.hidden && column.matchesMedia !== false;\n                if (result && column.columns) {\n                    result = visibleColumns(column.columns).length > 0;\n                }\n                return result;\n            });\n        }\n        function columnsWithMedia(columns) {\n            var result = [];\n            var column;\n            for (var i = 0; i < columns.length; i++) {\n                column = columns[i];\n                if (!isUndefined(column.media)) {\n                    if (!isUndefined(column.minScreenWidth)) {\n                        throw new Error('Using \\'media\\' and \\'minScreenWidth\\' options at the same time is not supported.');\n                    }\n                    result.push(column);\n                }\n                if (column.columns) {\n                    result = result.concat(columnsWithMedia(column.columns));\n                }\n            }\n            return result;\n        }\n        function isUndefined(value) {\n            return typeof value === 'undefined';\n        }\n        function toJQuery(elements) {\n            return $(elements).map(function () {\n                return this.toArray();\n            });\n        }\n        function updateCellRowSpan(cell, columns, sourceLockedColumnsCount) {\n            var lockedColumnDepth = depth(lockedColumns(columns));\n            var nonLockedColumnDepth = depth(nonLockedColumns(columns));\n            var rowSpan = cell.rowSpan;\n            if (sourceLockedColumnsCount) {\n                if (lockedColumnDepth > nonLockedColumnDepth) {\n                    cell.rowSpan = rowSpan - (lockedColumnDepth - nonLockedColumnDepth) || 1;\n                } else {\n                    cell.rowSpan = rowSpan + (nonLockedColumnDepth - lockedColumnDepth);\n                }\n            } else {\n                if (lockedColumnDepth > nonLockedColumnDepth) {\n                    cell.rowSpan = rowSpan + (lockedColumnDepth - nonLockedColumnDepth);\n                } else {\n                    cell.rowSpan = rowSpan - (nonLockedColumnDepth - lockedColumnDepth) || 1;\n                }\n            }\n        }\n        function moveCellsBetweenContainers(sources, target, leafs, columns, container, destination, groups) {\n            var sourcesDepth = depth(sources);\n            var targetDepth = depth([target]);\n            if (sourcesDepth > targetDepth) {\n                var groupCells = new Array(groups + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">&nbsp;</th>');\n                var rows = destination.children(':not(.k-filter-row)');\n                $(new Array(sourcesDepth - targetDepth + 1).join('<tr>' + groupCells + '</tr>')).insertAfter(rows.last());\n            }\n            addRowSpanValue(destination, sourcesDepth - targetDepth);\n            moveCells(leafs, columns, container, destination);\n        }\n        function updateCellIndex(thead, columns, offset) {\n            offset = offset || 0;\n            var position;\n            var cell;\n            var allColumns = columns;\n            columns = leafColumns(columns);\n            var cells = {};\n            var rows = thead.find('>tr:not(.k-filter-row)');\n            var filter = function () {\n                var el = $(this);\n                return !el.hasClass('k-group-cell') && !el.hasClass('k-hierarchy-cell');\n            };\n            for (var idx = 0, length = columns.length; idx < length; idx++) {\n                position = columnPosition(columns[idx], allColumns);\n                if (!cells[position.row]) {\n                    cells[position.row] = rows.eq(position.row).find('.k-header').filter(filter);\n                }\n                cell = cells[position.row].eq(position.cell);\n                cell.attr(kendo.attr('index'), offset + idx);\n            }\n            return columns.length;\n        }\n        function depth(columns) {\n            var result = 1;\n            var max = 0;\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (columns[idx].columns) {\n                    var temp = depth(columns[idx].columns);\n                    if (temp > max) {\n                        max = temp;\n                    }\n                }\n            }\n            return result + max;\n        }\n        function moveCells(leafs, columns, container, destination) {\n            var sourcePosition = columnVisiblePosition(leafs[0], columns);\n            var ths = container.find('>tr:not(.k-filter-row):eq(' + sourcePosition.row + ')>th.k-header');\n            var t = $();\n            var sourceIndex = sourcePosition.cell;\n            var idx;\n            for (idx = 0; idx < leafs.length; idx++) {\n                t = t.add(ths.eq(sourceIndex + idx));\n            }\n            destination.find('>tr:not(.k-filter-row)').eq(sourcePosition.row).append(t);\n            var children = [];\n            for (idx = 0; idx < leafs.length; idx++) {\n                if (leafs[idx].columns) {\n                    children = children.concat(leafs[idx].columns);\n                }\n            }\n            if (children.length) {\n                moveCells(children, columns, container, destination);\n            }\n        }\n        function columnPosition(column, columns, row, cellCounts) {\n            var result;\n            var idx;\n            row = row || 0;\n            cellCounts = cellCounts || {};\n            cellCounts[row] = cellCounts[row] || 0;\n            for (idx = 0; idx < columns.length; idx++) {\n                if (columns[idx] == column) {\n                    result = {\n                        cell: cellCounts[row],\n                        row: row\n                    };\n                    break;\n                } else if (columns[idx].columns) {\n                    result = columnPosition(column, columns[idx].columns, row + 1, cellCounts);\n                    if (result) {\n                        break;\n                    }\n                }\n                cellCounts[row]++;\n            }\n            return result;\n        }\n        function findParentColumnWithChildren(columns, index, source, rtl) {\n            var target;\n            var locked = !!source.locked;\n            var targetLocked;\n            do {\n                target = columns[index];\n                index += rtl ? 1 : -1;\n                targetLocked = !!target.locked;\n            } while (target && index > -1 && index < columns.length && target != source && !target.columns && targetLocked === locked);\n            return target;\n        }\n        function findReorderTarget(columns, target, source, before, masterColumns) {\n            if (target.columns) {\n                target = target.columns;\n                return target[before ? 0 : target.length - 1];\n            } else {\n                var parent = columnParent(target, columns);\n                var parentColumns;\n                if (parent) {\n                    parentColumns = parent.columns;\n                } else {\n                    parentColumns = columns;\n                }\n                var index = inArray(target, parentColumns);\n                if (index === 0 && before) {\n                    index++;\n                } else if (index == parentColumns.length - 1 && !before) {\n                    index--;\n                } else if (index > 0 || index === 0 && !before) {\n                    index += before ? -1 : 1;\n                }\n                var sourceIndex = inArray(source, parentColumns);\n                target = findParentColumnWithChildren(parentColumns, index, source, sourceIndex > index);\n                var targetIndex = inArray(target, masterColumns);\n                if (target.columns && (!targetIndex || targetIndex === parentColumns.length - 1)) {\n                    return null;\n                }\n                if (target && target != source && target.columns) {\n                    return findReorderTarget(columns, target, source, before, masterColumns);\n                }\n            }\n            return null;\n        }\n        function columnVisiblePosition(column, columns, row, cellCounts) {\n            var result;\n            var idx;\n            row = row || 0;\n            cellCounts = cellCounts || {};\n            cellCounts[row] = cellCounts[row] || 0;\n            for (idx = 0; idx < columns.length; idx++) {\n                if (columns[idx] == column) {\n                    result = {\n                        cell: cellCounts[row],\n                        row: row\n                    };\n                    break;\n                } else if (columns[idx].columns) {\n                    result = columnVisiblePosition(column, columns[idx].columns, row + 1, cellCounts);\n                    if (result) {\n                        break;\n                    }\n                }\n                if (!columns[idx].hidden) {\n                    cellCounts[row]++;\n                }\n            }\n            return result;\n        }\n        function flatColumnsInDomOrder(columns) {\n            var result = flatColumns(lockedColumns(columns));\n            return result.concat(flatColumns(nonLockedColumns(columns)));\n        }\n        function targetParentContainerIndex(flatColumns, columns, sourceIndex, targetIndex) {\n            var column = flatColumns[sourceIndex];\n            var target = flatColumns[targetIndex];\n            var parent = columnParent(column, columns);\n            columns = parent ? parent.columns : columns;\n            return inArray(target, columns);\n        }\n        function flatColumns(columns) {\n            var result = [];\n            var children = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                result.push(columns[idx]);\n                if (columns[idx].columns) {\n                    children = children.concat(columns[idx].columns);\n                }\n            }\n            if (children.length) {\n                result = result.concat(flatColumns(children));\n            }\n            return result;\n        }\n        function hiddenLeafColumnsCount(columns) {\n            var counter = 0;\n            var column;\n            for (var idx = 0; idx < columns.length; idx++) {\n                column = columns[idx];\n                if (column.columns) {\n                    counter += hiddenLeafColumnsCount(column.columns);\n                } else if (column.hidden) {\n                    counter++;\n                }\n            }\n            return counter;\n        }\n        function columnsWidth(cols) {\n            var colWidth, width = 0;\n            for (var idx = 0, length = cols.length; idx < length; idx++) {\n                colWidth = cols[idx].style.width;\n                if (colWidth && colWidth.indexOf('%') == -1) {\n                    width += parseInt(colWidth, 10);\n                }\n            }\n            return width;\n        }\n        function removeRowSpanValue(container, count) {\n            var cells = container.find('tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)');\n            var rowSpan;\n            for (var idx = 0; idx < cells.length; idx++) {\n                rowSpan = cells[idx].rowSpan;\n                if (rowSpan > 1) {\n                    cells[idx].rowSpan = rowSpan - count || 1;\n                }\n            }\n        }\n        function addRowSpanValue(container, count) {\n            var cells = container.find('tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)');\n            for (var idx = 0; idx < cells.length; idx++) {\n                cells[idx].rowSpan += count;\n            }\n        }\n        function removeEmptyRows(container) {\n            var rows = container.find('tr:not(.k-filter-row)');\n            var emptyRowsCount = rows.filter(function () {\n                return !$(this).children().length;\n            }).remove().length;\n            var cells = rows.find('th:not(.k-group-cell,.k-hierarchy-cell)');\n            for (var idx = 0; idx < cells.length; idx++) {\n                if (cells[idx].rowSpan > 1) {\n                    cells[idx].rowSpan -= emptyRowsCount;\n                }\n            }\n            return rows.length - emptyRowsCount;\n        }\n        function mapColumnToCellRows(columns, cells, rows, rowIndex, offset) {\n            var idx, row, length, children = [];\n            for (idx = 0, length = columns.length; idx < length; idx++) {\n                row = rows[rowIndex] || [];\n                row.push(cells.eq(offset + idx));\n                rows[rowIndex] = row;\n                if (columns[idx].columns) {\n                    children = children.concat(columns[idx].columns);\n                }\n            }\n            if (children.length) {\n                mapColumnToCellRows(children, cells, rows, rowIndex + 1, offset + columns.length);\n            }\n        }\n        function lockedColumns(columns) {\n            return grep(columns, function (column) {\n                return column.locked;\n            });\n        }\n        function nonLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return !column.locked;\n            });\n        }\n        function visibleNonLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return !column.locked && isVisible(column);\n            });\n        }\n        function visibleLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return column.locked && isVisible(column);\n            });\n        }\n        function visibleLeafColumns(columns) {\n            var result = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (columns[idx].hidden) {\n                    continue;\n                }\n                if (columns[idx].columns) {\n                    result = result.concat(visibleLeafColumns(columns[idx].columns));\n                } else {\n                    result.push(columns[idx]);\n                }\n            }\n            return result;\n        }\n        function leafColumns(columns) {\n            var result = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (!columns[idx].columns) {\n                    result.push(columns[idx]);\n                    continue;\n                }\n                result = result.concat(leafColumns(columns[idx].columns));\n            }\n            return result;\n        }\n        function leafDataCells(container) {\n            var rows = container.find('>tr:not(.k-filter-row)');\n            var filter = function () {\n                var el = $(this);\n                return !el.hasClass('k-group-cell') && !el.hasClass('k-hierarchy-cell');\n            };\n            var cells = $();\n            if (rows.length > 1) {\n                cells = rows.find('th').filter(filter).filter(function () {\n                    return this.rowSpan > 1;\n                });\n            }\n            cells = cells.add(rows.last().find('th').filter(filter));\n            var indexAttr = kendo.attr('index');\n            cells.sort(function (a, b) {\n                a = $(a);\n                b = $(b);\n                var indexA = a.attr(indexAttr);\n                var indexB = b.attr(indexAttr);\n                if (indexA === undefined) {\n                    indexA = $(a).index();\n                }\n                if (indexB === undefined) {\n                    indexB = $(b).index();\n                }\n                indexA = parseInt(indexA, 10);\n                indexB = parseInt(indexB, 10);\n                return indexA > indexB ? 1 : indexA < indexB ? -1 : 0;\n            });\n            return cells;\n        }\n        function parentColumnsCells(cell) {\n            var container = cell.closest('table');\n            var result = $().add(cell);\n            var row = cell.closest('tr');\n            var headerRows = container.find('tr:not(.k-filter-row)');\n            var level = headerRows.index(row);\n            if (level > 0) {\n                var parent = headerRows.eq(level - 1);\n                var parentCellsWithChildren = parent.find('th:not(.k-group-cell,.k-hierarchy-cell)').filter(function () {\n                    return !$(this).attr('rowspan');\n                });\n                var offset = 0;\n                var index = row.find('th:not(.k-group-cell,.k-hierarchy-cell)').index(cell);\n                var prevCells = cell.prevAll(':not(.k-group-cell,.k-hierarchy-cell)').filter(function () {\n                    return this.colSpan > 1;\n                });\n                for (var idx = 0; idx < prevCells.length; idx++) {\n                    offset += prevCells[idx].colSpan || 1;\n                }\n                index += Math.max(offset - 1, 0);\n                offset = 0;\n                for (idx = 0; idx < parentCellsWithChildren.length; idx++) {\n                    var parentCell = parentCellsWithChildren.eq(idx);\n                    if (parentCell.attr('data-colspan')) {\n                        offset += parentCell[0].getAttribute('data-colspan');\n                    } else {\n                        offset += 1;\n                    }\n                    if (index >= idx && index < offset) {\n                        result = parentColumnsCells(parentCell).add(result);\n                        break;\n                    }\n                }\n            }\n            return result;\n        }\n        function childColumnsCells(cell) {\n            var container = cell.closest('thead');\n            var result = $().add(cell);\n            var row = cell.closest('tr');\n            var headerRows = container.find('tr:not(.k-filter-row)');\n            var level = headerRows.index(row) + cell[0].rowSpan;\n            var colSpanAttr = kendo.attr('colspan');\n            if (level <= headerRows.length - 1) {\n                var child = row.next();\n                var prevCells = cell.prevAll(':not(.k-group-cell,.k-hierarchy-cell)');\n                var idx;\n                prevCells = prevCells.filter(function () {\n                    return !this.rowSpan || this.rowSpan === 1;\n                });\n                var offset = 0;\n                for (idx = 0; idx < prevCells.length; idx++) {\n                    offset += parseInt(prevCells.eq(idx).attr(colSpanAttr), 10) || 1;\n                }\n                var cells = child.find('th:not(.k-group-cell,.k-hierarchy-cell)');\n                var colSpan = parseInt(cell.attr(colSpanAttr), 10) || 1;\n                idx = 0;\n                while (idx < colSpan) {\n                    child = cells.eq(idx + offset);\n                    result = result.add(childColumnsCells(child));\n                    var value = parseInt(child.attr(colSpanAttr), 10);\n                    if (value > 1) {\n                        colSpan -= value - 1;\n                    }\n                    idx++;\n                }\n            }\n            return result;\n        }\n        function appendContent(tbody, table, html, empty) {\n            var placeholder, tmp = tbody;\n            if (empty) {\n                tbody.empty();\n            }\n            if (tbodySupportsInnerHtml) {\n                tbody[0].innerHTML = html;\n            } else {\n                placeholder = document.createElement('div');\n                placeholder.innerHTML = '<table><tbody>' + html + '</tbody></table>';\n                tbody = placeholder.firstChild.firstChild;\n                table[0].replaceChild(tbody, tmp[0]);\n                tbody = $(tbody);\n            }\n            return tbody;\n        }\n        function addHiddenStyle(attr) {\n            attr = attr || {};\n            var style = attr.style;\n            if (!style) {\n                style = 'display:none';\n            } else {\n                style = style.replace(/display:[^;]*/i, 'display:none');\n                if (!style.match(/display:/i)) {\n                    style = style.replace(/(.*)?/i, 'display:none;$1');\n                }\n            }\n            return extend({}, attr, { style: style });\n        }\n        function removeHiddenStyle(attr) {\n            attr = attr || {};\n            var style = attr.style;\n            if (style) {\n                attr.style = style.replace(/(display\\s*:\\s*none\\s*;?)*/gi, '');\n            }\n            return attr;\n        }\n        function normalizeCols(table, visibleColumns, hasDetails, groups) {\n            var colgroup = table.find('>colgroup'), width, cols = map(visibleColumns, function (column) {\n                    width = column.width;\n                    if (width && parseInt(width, 10) !== 0) {\n                        return kendo.format('<col style=\"width:{0}\"/>', typeof width === STRING ? width : width + 'px');\n                    }\n                    return '<col />';\n                });\n            if (hasDetails || colgroup.find('.k-hierarchy-col').length) {\n                cols.splice(0, 0, '<col class=\"k-hierarchy-col\" />');\n            }\n            if (colgroup.length) {\n                colgroup.remove();\n            }\n            colgroup = $(new Array(groups + 1).join('<col class=\"k-group-col\">') + cols.join(''));\n            if (!colgroup.is('colgroup')) {\n                colgroup = $('<colgroup/>').append(colgroup);\n            }\n            table.prepend(colgroup);\n            if (browser.msie && browser.version == 8) {\n                table.css('display', 'inline-table');\n                window.setTimeout(function () {\n                    table.css('display', '');\n                }, 1);\n            }\n        }\n        function normalizeHeaderCells(container, columns) {\n            var lastIndex = 0;\n            var idx, len;\n            var th = container.find('th:not(.k-group-cell)');\n            for (idx = 0, len = columns.length; idx < len; idx++) {\n                if (columns[idx].locked) {\n                    th.eq(idx).insertBefore(th.eq(lastIndex));\n                    th = container.find('th:not(.k-group-cell)');\n                    lastIndex++;\n                }\n            }\n        }\n        function convertToObject(array) {\n            var result = {}, item, idx, length;\n            for (idx = 0, length = array.length; idx < length; idx++) {\n                item = array[idx];\n                result[item.value] = item.text;\n            }\n            return result;\n        }\n        function formatGroupValue(value, format, columnValues, encoded) {\n            var isForeignKey = columnValues && columnValues.length && isPlainObject(columnValues[0]) && 'value' in columnValues[0], groupValue = isForeignKey ? convertToObject(columnValues)[value] : value;\n            groupValue = groupValue != null ? groupValue : '';\n            return format ? kendo.format(format, groupValue) : encoded === false ? groupValue : kendo.htmlEncode(groupValue);\n        }\n        function setCellVisibility(cells, index, visible) {\n            var pad = 0, state, cell = cells[pad];\n            while (cell) {\n                state = visible ? true : cell.style.display !== 'none';\n                if (state && !nonDataCellsRegExp.test(cell.className) && --index < 0) {\n                    cell.style.display = visible ? '' : 'none';\n                    break;\n                }\n                cell = cells[++pad];\n            }\n        }\n        function hideColumnCells(rows, columnIndex) {\n            var idx = 0, length = rows.length, cell, row;\n            for (; idx < length; idx += 1) {\n                row = rows.eq(idx);\n                if (row.is('.k-grouping-row,.k-detail-row')) {\n                    cell = row.children(':not(.k-group-cell):first,.k-detail-cell').last();\n                    cell.attr('colspan', parseInt(cell.attr('colspan'), 10) - 1);\n                } else {\n                    if (row.hasClass('k-grid-edit-row') && (cell = row.children('.k-edit-container')[0])) {\n                        cell = $(cell);\n                        cell.attr('colspan', parseInt(cell.attr('colspan'), 10) - 1);\n                        cell.find('col').eq(columnIndex).remove();\n                        row = cell.find('tr:first');\n                    }\n                    setCellVisibility(row[0].cells, columnIndex, false);\n                }\n            }\n        }\n        function groupRows(data) {\n            var result = [];\n            var item;\n            for (var idx = 0; idx < data.length; idx++) {\n                item = data[idx];\n                if (!('field' in item && 'value' in item && 'items' in item)) {\n                    break;\n                }\n                result.push(item);\n                if (item.hasSubgroups) {\n                    result = result.concat(groupRows(item.items));\n                }\n            }\n            return result;\n        }\n        function groupFooters(data) {\n            var result = [];\n            var item;\n            for (var idx = 0; idx < data.length; idx++) {\n                item = data[idx];\n                if (!('field' in item && 'value' in item && 'items' in item)) {\n                    break;\n                }\n                if (item.hasSubgroups) {\n                    result = result.concat(groupFooters(item.items));\n                }\n                result.push(item.aggregates);\n            }\n            return result;\n        }\n        function showColumnCells(rows, columnIndex) {\n            var idx = 0, length = rows.length, cell, row, columns;\n            for (; idx < length; idx += 1) {\n                row = rows.eq(idx);\n                if (row.is('.k-grouping-row,.k-detail-row')) {\n                    cell = row.children(':not(.k-group-cell):first,.k-detail-cell').last();\n                    cell.attr('colspan', parseInt(cell.attr('colspan'), 10) + 1);\n                } else {\n                    if (row.hasClass('k-grid-edit-row') && (cell = row.children('.k-edit-container')[0])) {\n                        cell = $(cell);\n                        cell.attr('colspan', parseInt(cell.attr('colspan'), 10) + 1);\n                        normalizeCols(cell.find('>form>table'), visibleColumns(columns), false, 0);\n                        row = cell.find('tr:first');\n                    }\n                    setCellVisibility(row[0].cells, columnIndex, true);\n                }\n            }\n        }\n        function updateColspan(toAdd, toRemove, num) {\n            num = num || 1;\n            var item, idx, length;\n            for (idx = 0, length = toAdd.length; idx < length; idx++) {\n                item = toAdd.eq(idx).children().last();\n                item.attr('colspan', parseInt(item.attr('colspan'), 10) + num);\n                item = toRemove.eq(idx).children().last();\n                item.attr('colspan', parseInt(item.attr('colspan'), 10) - num);\n            }\n        }\n        function tableWidth(table) {\n            var idx, length, width = 0;\n            var cols = table.find('>colgroup>col');\n            for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                width += parseInt(cols[idx].style.width, 10);\n            }\n            return width;\n        }\n        var Grid = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options, events) {\n                var that = this;\n                options = isArray(options) ? { dataSource: options } : options;\n                Widget.fn.init.call(that, element, options);\n                if (events) {\n                    that._events = events;\n                }\n                isRtl = kendo.support.isRtl(element);\n                that._element();\n                that._aria();\n                that._columns($.extend(true, [], that.options.columns));\n                that._dataSource();\n                that._tbody();\n                that._pageable();\n                that._thead();\n                that._groupable();\n                that._toolbar();\n                that._setContentHeight();\n                that._templates();\n                that._navigatable();\n                that._selectable();\n                that._clipboard();\n                that._details();\n                that._editable();\n                that._attachCustomCommandsEvent();\n                that._adaptiveColumns();\n                that._minScreenSupport();\n                if (that.options.autoBind) {\n                    that.dataSource.fetch();\n                } else {\n                    that._group = that._groups() > 0;\n                    that._footer();\n                }\n                if (that.lockedContent) {\n                    that.wrapper.addClass('k-grid-lockedcolumns');\n                    that._resizeHandler = function () {\n                        that.resize();\n                    };\n                    $(window).on('resize' + NS, that._resizeHandler);\n                }\n                kendo.notify(that);\n            },\n            events: [\n                CHANGE,\n                'dataBinding',\n                'cancel',\n                DATABOUND,\n                DETAILEXPAND,\n                DETAILCOLLAPSE,\n                DETAILINIT,\n                FILTERMENUINIT,\n                FILTERMENUOPEN,\n                COLUMNMENUINIT,\n                COLUMNMENUOPEN,\n                EDIT,\n                BEFOREEDIT,\n                SAVE,\n                REMOVE,\n                SAVECHANGES,\n                CELLCLOSE,\n                COLUMNRESIZE,\n                COLUMNREORDER,\n                COLUMNSHOW,\n                COLUMNHIDE,\n                COLUMNLOCK,\n                COLUMNUNLOCK,\n                NAVIGATE,\n                'page',\n                'sort',\n                'filter',\n                'group',\n                'groupExpand',\n                'groupCollapse'\n            ],\n            setDataSource: function (dataSource) {\n                var that = this;\n                var scrollable = that.options.scrollable;\n                var scrollableContent;\n                that.options.dataSource = dataSource;\n                that._dataSource();\n                that._pageable();\n                that._thead();\n                if (scrollable) {\n                    if (scrollable.virtual) {\n                        scrollableContent = that.content.find('>.k-virtual-scrollable-wrap');\n                        scrollableContent.scrollLeft(leftMostPosition(scrollableContent, isRtl));\n                    } else {\n                        scrollableContent = that.tbody;\n                        that.content.scrollLeft(leftMostPosition(scrollableContent, isRtl));\n                    }\n                }\n                if (that.options.groupable) {\n                    that._groupable();\n                }\n                if (that.virtualScrollable) {\n                    that.virtualScrollable.setDataSource(that.options.dataSource);\n                }\n                if (that.options.navigatable) {\n                    that._navigatable();\n                }\n                if (that.options.selectable) {\n                    that._selectable();\n                }\n                if (that.options.autoBind) {\n                    that.dataSource.fetch();\n                }\n            },\n            options: {\n                name: 'Grid',\n                columns: [],\n                toolbar: null,\n                autoBind: true,\n                filterable: false,\n                scrollable: true,\n                sortable: false,\n                selectable: false,\n                allowCopy: false,\n                navigatable: false,\n                pageable: false,\n                persistSelection: false,\n                editable: false,\n                groupable: false,\n                rowTemplate: '',\n                altRowTemplate: '',\n                noRecords: false,\n                dataSource: {},\n                height: null,\n                resizable: false,\n                reorderable: false,\n                columnMenu: false,\n                detailTemplate: null,\n                columnResizeHandleWidth: 3,\n                mobile: '',\n                messages: {\n                    editable: {\n                        cancelDelete: CANCELDELETE,\n                        confirmation: DELETECONFIRM,\n                        confirmDelete: CONFIRMDELETE\n                    },\n                    commands: {\n                        create: defaultCommands.create.text,\n                        cancel: defaultCommands.cancel.text,\n                        save: defaultCommands.save.text,\n                        destroy: defaultCommands.destroy.text,\n                        edit: defaultCommands.edit.text,\n                        update: defaultCommands.update.text,\n                        canceledit: defaultCommands.canceledit.text,\n                        excel: defaultCommands.excel.text,\n                        pdf: defaultCommands.pdf.text\n                    },\n                    noRecords: NORECORDS,\n                    expandCollapseColumnHeader: '',\n                    groupHeader: 'Press ctrl + space to group',\n                    ungroupHeader: 'Press ctrl + space to ungroup'\n                }\n            },\n            destroy: function () {\n                var that = this, element;\n                that._angularItems('cleanup');\n                that._destroyColumnAttachments();\n                Widget.fn.destroy.call(that);\n                if (this._navigatableTables) {\n                    this._navigatableTables.off(NS);\n                    this._navigatableTables = null;\n                }\n                if (that._resizeHandler) {\n                    $(window).off('resize' + NS, that._resizeHandler);\n                }\n                if (that.pager && that.pager.element) {\n                    that.pager.destroy();\n                }\n                if (that.timer) {\n                    clearTimeout(that.timer);\n                }\n                if (that._progressTimeOut) {\n                    clearTimeout(that._progressTimeOut);\n                }\n                if (that._collapseGroupsTimeOut) {\n                    clearTimeout(that._collapseGroupsTimeOut);\n                }\n                if (that._endlessFetchTimeOut) {\n                    clearTimeout(that._endlessFetchTimeOut);\n                }\n                that.pager = null;\n                that._destroyGroupable();\n                if (that.options.reorderable) {\n                    that.wrapper.data('kendoReorderable').destroy();\n                }\n                if (that.selectable && that.selectable.element) {\n                    that.selectable.destroy();\n                    that.clearArea();\n                    that._selectedIds = null;\n                    if (that.copyHandler) {\n                        that.wrapper.off('keydown', that.copyHandler);\n                        that.unbind(that.copyHandler);\n                    }\n                    if (that.updateClipBoardState) {\n                        that.unbind(that.updateClipBoardState);\n                        that.updateClipBoardState = null;\n                    }\n                    if (that.clearAreaHandler) {\n                        that.wrapper.off('keyup', that.clearAreaHandler);\n                    }\n                }\n                that.selectable = null;\n                if (that.resizable) {\n                    that.resizable.destroy();\n                    if (that._resizeUserEvents) {\n                        if (that._resizeHandleDocumentClickHandler) {\n                            $(document).off('click', that._resizeHandleDocumentClickHandler);\n                        }\n                        that._resizeUserEvents.destroy();\n                        that._resizeUserEvents = null;\n                    }\n                    that.resizable = null;\n                }\n                that._destroyVirtualScrollable();\n                that._destroyEditable();\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler).unbind(PROGRESS, that._progressHandler).unbind(ERROR, that._errorHandler);\n                    that._refreshHandler = that._progressHandler = that._errorHandler = null;\n                }\n                element = that.element.add(that.wrapper).add(that.table).add(that.thead).add(that.wrapper.find('>.k-grid-toolbar'));\n                if (that.content) {\n                    element = element.add(that.content).add(that.content.find('>.k-virtual-scrollable-wrap'));\n                }\n                if (that.lockedHeader) {\n                    that._removeLockedContainers();\n                }\n                if (that.pane) {\n                    that.pane.destroy();\n                }\n                if (that.minScreenResizeHandler) {\n                    $(window).off('resize', that.minScreenResizeHandler);\n                }\n                that._detachColumnMediaResizeHandler();\n                if (that._draggableInstance && that._draggableInstance.element) {\n                    that._draggableInstance.destroy();\n                }\n                that._draggableInstance = null;\n                element.off(NS);\n                kendo.destroy(that.wrapper);\n                that.rowTemplate = that.altRowTemplate = that.lockedRowTemplate = that.lockedAltRowTemplate = that.detailTemplate = that.footerTemplate = that.groupFooterTemplate = that.lockedGroupFooterTemplate = that.noRecordsTemplate = null;\n                that.scrollables = that.thead = that.tbody = that.element = that.table = that.content = that.footer = that.wrapper = that.lockedTable = that.lockedContent = that.lockedHeader = that.lockedFooter = that._groupableClickHandler = that._groupRows = that._setContentWidthHandler = null;\n            },\n            getOptions: function () {\n                var options = this.options;\n                options.dataSource = null;\n                var result = extend(true, {}, this.options);\n                result.columns = kendo.deepExtend([], this.columns);\n                var dataSource = this.dataSource;\n                var initialData = dataSource.options.data && dataSource._data;\n                dataSource.options.data = null;\n                result.dataSource = $.extend(true, {}, dataSource.options);\n                dataSource.options.data = initialData;\n                result.dataSource.data = initialData;\n                result.dataSource.page = dataSource.page();\n                result.dataSource.filter = dataSource.filter();\n                result.dataSource.pageSize = dataSource.pageSize();\n                result.dataSource.sort = dataSource.sort();\n                result.dataSource.group = dataSource.group();\n                result.dataSource.aggregate = dataSource.aggregate();\n                if (result.dataSource.transport) {\n                    result.dataSource.transport.dataSource = null;\n                }\n                if (result.pageable && result.pageable.pageSize) {\n                    result.pageable.pageSize = dataSource.pageSize();\n                }\n                result.$angular = undefined;\n                return result;\n            },\n            setOptions: function (options) {\n                var currentOptions = this.getOptions();\n                kendo.deepExtend(currentOptions, options);\n                if (!options.dataSource) {\n                    currentOptions.dataSource = this.dataSource;\n                }\n                var wrapper = this.wrapper;\n                var events = this._events;\n                var element = this.element;\n                this.destroy();\n                this.options = null;\n                if (this._isMobile) {\n                    var mobileWrapper = wrapper.closest(kendo.roleSelector('pane')).parent();\n                    mobileWrapper.after(wrapper);\n                    mobileWrapper.remove();\n                    wrapper.removeClass('k-grid-mobile');\n                }\n                if (wrapper[0] !== element[0]) {\n                    wrapper.before(element);\n                    wrapper.remove();\n                }\n                element.empty();\n                this.init(element, currentOptions, events);\n                this._setEvents(currentOptions);\n            },\n            items: function () {\n                if (this.lockedContent) {\n                    return this._items(this.tbody).add(this._items(this.lockedTable.children('tbody')));\n                } else {\n                    return this._items(this.tbody);\n                }\n            },\n            _items: function (container) {\n                return container.children().filter(function () {\n                    var tr = $(this);\n                    return !tr.hasClass('k-grouping-row') && !tr.hasClass('k-detail-row') && !tr.hasClass('k-group-footer');\n                });\n            },\n            dataItems: function () {\n                var dataItems = kendo.ui.DataBoundWidget.fn.dataItems.call(this);\n                if (this.lockedContent) {\n                    var n = dataItems.length, tmp = new Array(2 * n);\n                    for (var i = n; --i >= 0;) {\n                        tmp[i] = tmp[i + n] = dataItems[i];\n                    }\n                    dataItems = tmp;\n                }\n                return dataItems;\n            },\n            _destroyColumnAttachments: function () {\n                var that = this;\n                that.resizeHandle = null;\n                if (!that.thead) {\n                    return;\n                }\n                this.angular('cleanup', function () {\n                    return { elements: that.thead.get() };\n                });\n                that.thead.add(that.lockedHeader).find('th').each(function () {\n                    var th = $(this), filterMenu = th.data('kendoFilterMenu'), sortable = th.data('kendoColumnSorter'), columnMenu = th.data('kendoColumnMenu');\n                    if (filterMenu) {\n                        filterMenu.destroy();\n                    }\n                    if (sortable) {\n                        sortable.destroy();\n                    }\n                    if (columnMenu) {\n                        columnMenu.destroy();\n                    }\n                });\n            },\n            _attachCustomCommandsEvent: function () {\n                var that = this, columns = leafColumns(that.columns || []), command, idx, length;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    command = columns[idx].command;\n                    if (command) {\n                        attachCustomCommandEvent(that, that.wrapper, command);\n                    }\n                }\n            },\n            _aria: function () {\n                var id = this.element.attr('id') || 'aria';\n                if (id) {\n                    this._cellId = id + '_active_cell';\n                }\n            },\n            _element: function () {\n                var that = this, table = that.element;\n                if (!table.is('table')) {\n                    if (that.options.scrollable) {\n                        table = that.element.find('> .k-grid-content > table');\n                    } else {\n                        table = that.element.children('table');\n                    }\n                    if (!table.length) {\n                        table = $('<table />').appendTo(that.element);\n                    }\n                }\n                if (isIE7) {\n                    table.attr('cellspacing', 0);\n                }\n                that.table = table.attr('role', that._hasDetails() ? 'treegrid' : 'grid');\n                that._wrapper();\n            },\n            _createResizeHandle: function (container, th) {\n                var that = this;\n                var indicatorWidth = that.options.columnResizeHandleWidth;\n                var scrollable = that.options.scrollable;\n                var resizeHandle = that.resizeHandle;\n                var groups = this._groups();\n                var left;\n                var top;\n                if (resizeHandle && that.lockedContent && resizeHandle.data('th')[0] !== th[0]) {\n                    resizeHandle.off(NS).remove();\n                    resizeHandle = null;\n                }\n                if (!resizeHandle) {\n                    resizeHandle = that.resizeHandle = $('<div class=\"k-resize-handle\"><div class=\"k-resize-handle-inner\"></div></div>');\n                    container.append(resizeHandle);\n                }\n                if (!isRtl) {\n                    left = th[0].offsetWidth;\n                    var cells = leafDataCells(th.closest('thead')).filter(':visible');\n                    for (var idx = 0; idx < cells.length; idx++) {\n                        if (cells[idx] == th[0]) {\n                            break;\n                        }\n                        left += cells[idx].offsetWidth;\n                    }\n                    if (groups > 0) {\n                        left += outerWidth(container.find('.k-group-cell:first')) * groups;\n                    }\n                    if (that._hasDetails()) {\n                        left += outerWidth(container.find('.k-hierarchy-cell:first'));\n                    }\n                } else {\n                    left = th.offset().left - parseFloat(th.css('marginLeft')) - (container.offset().left + parseFloat(container.css('borderLeftWidth')));\n                    if (scrollable) {\n                        var headerWrap = th.closest('.k-grid-header-wrap, .k-grid-header-locked'), ieCorrection = browser.msie ? headerWrap.scrollLeft() : 0, webkitCorrection = browser.webkit ? headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - headerWrap.scrollLeft() : 0, firefoxCorrection = browser.mozilla ? headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - (headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - headerWrap.scrollLeft()) : 0;\n                        left -= webkitCorrection - firefoxCorrection + ieCorrection;\n                    }\n                }\n                top = th.offset().top - parseFloat(th.css('marginTop')) - (container.offset().top + parseFloat(container.css('borderTopWidth')));\n                resizeHandle.css({\n                    top: top,\n                    left: left - indicatorWidth,\n                    height: outerHeight(th),\n                    width: indicatorWidth * 3\n                }).data('th', th).show();\n                resizeHandle.off('dblclick' + NS).on('dblclick' + NS, function () {\n                    that._autoFitLeafColumn(th.data('index'));\n                });\n            },\n            _positionColumnResizeHandle: function () {\n                var that = this, lockedHead = that.lockedHeader ? that.lockedHeader.find('thead:first') : $();\n                that.thead.add(lockedHead).on('mousemove' + NS, 'tr:not(.k-filter-row) > th', function (e) {\n                    var button = typeof e.buttons !== 'undefined' ? e.buttons : e.which || e.button;\n                    var th = $(this);\n                    if (th.hasClass('k-group-cell') || th.hasClass('k-hierarchy-cell')) {\n                        return;\n                    }\n                    if (typeof button !== 'undefined' && button !== 0) {\n                        return;\n                    }\n                    if (th[0].hasAttribute(kendo.attr(COLSPAN))) {\n                        return;\n                    }\n                    that._createResizeHandle(th.closest('div'), th);\n                });\n            },\n            _resizeHandleDocumentClick: function (e) {\n                if ($(e.target).closest('.k-column-active').length) {\n                    return;\n                }\n                $(document).off(e);\n                this._hideResizeHandle();\n            },\n            _hideResizeHandle: function () {\n                if (this.resizeHandle) {\n                    this.resizeHandle.data('th').removeClass('k-column-active');\n                    if (this.lockedContent && !this._isMobile) {\n                        this.resizeHandle.off(NS).remove();\n                        this.resizeHandle = null;\n                    } else {\n                        this.resizeHandle.hide();\n                    }\n                }\n            },\n            _positionColumnResizeHandleTouch: function () {\n                var that = this, lockedHead = that.lockedHeader ? that.lockedHeader.find('thead:first') : $();\n                that._resizeUserEvents = new kendo.UserEvents(lockedHead.add(that.thead), {\n                    filter: 'th:not(.k-group-cell):not(.k-hierarchy-cell)',\n                    threshold: 10,\n                    hold: function (e) {\n                        var th = $(e.target);\n                        e.preventDefault();\n                        th.addClass('k-column-active');\n                        that._createResizeHandle(th.closest('div'), th);\n                        if (!that._resizeHandleDocumentClickHandler) {\n                            that._resizeHandleDocumentClickHandler = proxy(that._resizeHandleDocumentClick, that);\n                        }\n                        $(document).on('click', that._resizeHandleDocumentClickHandler);\n                    }\n                });\n            },\n            resizeColumn: function (column, columnWidth) {\n                var that = this;\n                var isLocked = !!column.locked;\n                var isHidden = !!column.hidden;\n                var options = this.options;\n                var scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0;\n                var index = isLocked ? inArray(column, visibleLockedColumns(that.columns)) : inArray(column, visibleNonLockedColumns(that.columns));\n                var contentTable = isLocked ? that.lockedTable : that.table;\n                var footer = that.footer || $();\n                var header = isLocked ? that.lockedHeader.find('table') : that.thead.closest('table');\n                var columnMinWidth = column.minResizableWidth || 10;\n                var gridWidth = isLocked ? outerWidth(contentTable.find('tbody')) : outerWidth(that.tbody);\n                var col;\n                if (isHidden) {\n                    column.width = columnWidth > columnMinWidth ? columnWidth : columnMinWidth;\n                    return;\n                }\n                if (that.footer && that.lockedContent) {\n                    footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                }\n                if (options.scrollable) {\n                    col = header.find('col:not(.k-group-col,.k-hierarchy-col):eq(' + index + ')').add(contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')')).add(footer.find('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')'));\n                } else {\n                    col = contentTable.find('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')');\n                }\n                if (options.scrollable) {\n                    var constrain = false;\n                    var totalWidth = that.wrapper.width() - scrollbar;\n                    var width = columnWidth = columnWidth > columnMinWidth ? columnWidth : columnMinWidth;\n                    if (isLocked && gridWidth - columnWidth + width > totalWidth) {\n                        width = columnWidth + (totalWidth - gridWidth - scrollbar * 2);\n                        if (width < 0) {\n                            width = columnWidth;\n                        }\n                        constrain = true;\n                    }\n                    if (width > 10 && width >= columnMinWidth) {\n                        col.css('width', width);\n                        if (gridWidth) {\n                            if (constrain) {\n                                width = totalWidth - scrollbar * 2;\n                            } else {\n                                width = gridWidth + (columnWidth - column.width);\n                            }\n                            contentTable.add(header).add(footer).css('width', width);\n                            if (!isLocked) {\n                                that._footerWidth = width;\n                            }\n                        }\n                    }\n                    that._scrollVirtualWrapperOnColumnResize();\n                } else if (columnWidth > 10 && columnWidth >= columnMinWidth) {\n                    col.css('width', columnWidth);\n                }\n                column.width = columnWidth;\n                that._applyLockedContainersWidth();\n                that._syncLockedContentHeight();\n                that._syncLockedHeaderHeight();\n            },\n            _resizable: function () {\n                var that = this, options = that.options, container, columnStart, columnWidth, columnMinWidth, gridWidth, isMobile = this._isMobile, scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0, isLocked, col, th;\n                if (options.resizable) {\n                    container = options.scrollable ? that.wrapper.find('.k-grid-header-wrap:first') : that.wrapper;\n                    if (isMobile) {\n                        that._positionColumnResizeHandleTouch(container);\n                    } else {\n                        that._positionColumnResizeHandle(container);\n                    }\n                    if (that.resizable) {\n                        that.resizable.destroy();\n                    }\n                    that.resizable = new ui.Resizable(container.add(that.lockedHeader), {\n                        handle: (!!options.scrollable ? '' : '>') + '.k-resize-handle',\n                        hint: function (handle) {\n                            return $('<div class=\"k-grid-resize-indicator\" />').css({ height: outerHeight(handle.data('th')) + that.tbody.attr('clientHeight') });\n                        },\n                        start: function (e) {\n                            th = $(e.currentTarget).data('th');\n                            if (isMobile) {\n                                that._hideResizeHandle();\n                            }\n                            var header = th.closest('table'), index = $.inArray(th[0], leafDataCells(th.closest('thead')).filter(':visible'));\n                            isLocked = header.parent().hasClass('k-grid-header-locked');\n                            var contentTable = isLocked ? that.lockedTable : that.table, footer = that.footer || $();\n                            if (that.footer && that.lockedContent) {\n                                footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                            }\n                            cursor(that.wrapper, 'col-resize');\n                            if (options.scrollable) {\n                                col = header.find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')').add(contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')')).add(footer.find('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')'));\n                            } else {\n                                col = contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')');\n                            }\n                            var columns = $.map(that.columns, function (a) {\n                                return !a.hidden && (isLocked && a.locked || !isLocked && !a.locked) ? a : null;\n                            });\n                            columnStart = e.x.location;\n                            columnWidth = outerWidth(th);\n                            columnMinWidth = leafColumns(columns)[index].minResizableWidth || 10;\n                            gridWidth = isLocked ? outerWidth(contentTable.children('tbody')) : outerWidth(that.tbody);\n                            if (browser.webkit) {\n                                that.wrapper.addClass('k-grid-column-resizing');\n                            }\n                        },\n                        resize: function (e) {\n                            var rtlMultiplier = isRtl ? -1 : 1, currentWidth = columnWidth + e.x.location * rtlMultiplier - columnStart * rtlMultiplier;\n                            if (options.scrollable) {\n                                var footer;\n                                if (isLocked && that.lockedFooter) {\n                                    footer = that.lockedFooter.children('table');\n                                } else if (that.footer) {\n                                    footer = that.footer.find('>.k-grid-footer-wrap>table');\n                                }\n                                if (!footer || !footer[0]) {\n                                    footer = $();\n                                }\n                                var header = th.closest('table');\n                                var contentTable = isLocked ? that.lockedTable : that.table;\n                                var constrain = false;\n                                var totalWidth = that.wrapper.width() - scrollbar;\n                                var width = currentWidth;\n                                if (isLocked && gridWidth - columnWidth + width > totalWidth) {\n                                    width = columnWidth + (totalWidth - gridWidth - scrollbar * 2);\n                                    if (width < 0) {\n                                        width = currentWidth;\n                                    }\n                                    constrain = true;\n                                }\n                                if (width > 10 && width >= columnMinWidth) {\n                                    col.css('width', width);\n                                    if (gridWidth) {\n                                        if (constrain) {\n                                            width = totalWidth - scrollbar * 2;\n                                        } else {\n                                            width = gridWidth + e.x.location * rtlMultiplier - columnStart * rtlMultiplier;\n                                        }\n                                        contentTable.add(header).add(footer).css('width', width);\n                                        if (!isLocked) {\n                                            that._footerWidth = width;\n                                        }\n                                    }\n                                }\n                                that._scrollVirtualWrapperOnColumnResize();\n                            } else if (currentWidth > 10 && currentWidth >= columnMinWidth) {\n                                col.css('width', currentWidth);\n                            }\n                        },\n                        resizeend: function () {\n                            var newWidth = outerWidth(th), column, header;\n                            cursor(that.wrapper, '');\n                            if (browser.webkit) {\n                                that.wrapper.removeClass('k-grid-column-resizing');\n                            }\n                            if (columnWidth != newWidth) {\n                                header = that.lockedHeader ? that.lockedHeader.find('thead:first tr:first').add(that.thead.find('tr:first')) : th.parent();\n                                var index = th.attr(kendo.attr('index'));\n                                if (!index) {\n                                    index = header.find('th:not(.k-group-cell):not(.k-hierarchy-cell)').index(th);\n                                }\n                                column = leafColumns(that.columns)[index];\n                                column.width = newWidth;\n                                that.trigger(COLUMNRESIZE, {\n                                    column: column,\n                                    oldWidth: columnWidth,\n                                    newWidth: newWidth\n                                });\n                                that._applyLockedContainersWidth();\n                                that._syncLockedContentHeight();\n                                that._syncLockedHeaderHeight();\n                            }\n                            that._hideResizeHandle();\n                            th = null;\n                        }\n                    });\n                }\n            },\n            _draggable: function () {\n                var that = this;\n                if (that.options.reorderable) {\n                    if (that._draggableInstance) {\n                        that._draggableInstance.destroy();\n                    }\n                    var header = that.wrapper.children('.k-grid-header');\n                    that._draggableInstance = that.wrapper.kendoDraggable({\n                        group: kendo.guid(),\n                        autoScroll: true,\n                        filter: that.content ? '.k-grid-header:first ' + HEADERCELLS : 'table:first>.k-grid-header ' + HEADERCELLS,\n                        dragstart: function () {\n                            header.children('.k-grid-header-wrap').unbind('scroll' + NS + 'scrolling').bind('scroll' + NS + 'scrolling', function (e) {\n                                if (that.virtualScrollable) {\n                                    that.content.find('>.k-virtual-scrollable-wrap').scrollLeft(this.scrollLeft);\n                                } else {\n                                    that.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft);\n                                }\n                            });\n                        },\n                        dragend: function () {\n                            header.children('.k-grid-header-wrap').unbind('scroll' + NS + 'scrolling');\n                        },\n                        drag: function () {\n                            that._hideResizeHandle();\n                        },\n                        hint: function (target) {\n                            var title = target.attr(kendo.attr('title'));\n                            if (title) {\n                                title = kendo.htmlEncode(title);\n                            }\n                            return $('<div class=\"k-header k-reorder-clue k-drag-clue\" />').html(title || target.attr(kendo.attr('field')) || target.text()).prepend('<span class=\"k-icon k-drag-status k-i-cancel\" />');\n                        }\n                    }).data('kendoDraggable');\n                }\n            },\n            _reorderable: function () {\n                var that = this;\n                if (that.options.reorderable) {\n                    if (that.wrapper.data('kendoReorderable')) {\n                        that.wrapper.data('kendoReorderable').destroy();\n                    }\n                    that.wrapper.kendoReorderable({\n                        draggable: that._draggableInstance,\n                        dragOverContainers: function (sourceIndex, targetIndex) {\n                            var columns = flatColumnsInDomOrder(that.columns);\n                            return columns[sourceIndex].lockable !== false && targetParentContainerIndex(columns, that.columns, sourceIndex, targetIndex) > -1;\n                        },\n                        inSameContainer: function (e) {\n                            return $(e.source).parent()[0] === $(e.target).parent()[0] && targetParentContainerIndex(flatColumnsInDomOrder(that.columns), that.columns, e.sourceIndex, e.targetIndex) > -1;\n                        },\n                        change: function (e) {\n                            var columns = flatColumnsInDomOrder(that.columns);\n                            var column = columns[e.oldIndex];\n                            var newIndex = targetParentContainerIndex(columns, that.columns, e.oldIndex, e.newIndex);\n                            that.trigger(COLUMNREORDER, {\n                                newIndex: newIndex,\n                                oldIndex: inArray(column, columns),\n                                column: column\n                            });\n                            that.reorderColumn(newIndex, column, e.position === 'before');\n                        }\n                    });\n                }\n            },\n            _reorderHeader: function (sources, target, before) {\n                var that = this;\n                var sourcePosition = columnPosition(sources[0], that.columns);\n                var destPosition = columnPosition(target, that.columns);\n                var leafs = [];\n                for (var idx = 0; idx < sources.length; idx++) {\n                    if (sources[idx].columns) {\n                        leafs = leafs.concat(sources[idx].columns);\n                    }\n                }\n                var ths = elements(that.lockedHeader, that.thead, 'tr:eq(' + sourcePosition.row + ')>th.k-header:not(.k-group-cell,.k-hierarchy-cell)');\n                var sourceLockedColumns = lockedColumns(sources).length;\n                var targetLockedColumns = lockedColumns([target]).length;\n                if (leafs.length) {\n                    if (sourceLockedColumns > 0 && targetLockedColumns === 0) {\n                        moveCellsBetweenContainers(sources, target, leafs, that.columns, that.lockedHeader.find('thead'), that.thead, this._groups());\n                    } else if (sourceLockedColumns === 0 && targetLockedColumns > 0) {\n                        moveCellsBetweenContainers(sources, target, leafs, nonLockedColumns(that.columns), that.thead, that.lockedHeader.find('thead'), this._groups());\n                    }\n                    if (target.columns || sourcePosition.cell - destPosition.cell > 1 || destPosition.cell - sourcePosition.cell > 1) {\n                        target = findReorderTarget(that.columns, target, sources[0], before, that.columns);\n                        if (target) {\n                            that._reorderHeader(leafs, target, before);\n                        }\n                    }\n                } else if (sourceLockedColumns !== targetLockedColumns) {\n                    updateCellRowSpan(ths[sourcePosition.cell], that.columns, sourceLockedColumns);\n                }\n                reorder(ths, sourcePosition.cell, destPosition.cell, before, sources.length);\n            },\n            _reorderContent: function (sources, destination, before) {\n                var that = this;\n                var lockedRows = $();\n                var source = sources[0];\n                var visibleSources = visibleColumns(sources);\n                var sourceIndex = inArray(source, leafColumns(that.columns));\n                var destIndex = inArray(destination, leafColumns(that.columns));\n                var colSourceIndex = inArray(visibleSources[0], visibleLeafColumns(that.columns));\n                var colDest = inArray(destination, visibleLeafColumns(that.columns));\n                var lockedCount = lockedColumns(that.columns).length;\n                var isLocked = !!destination.locked;\n                var footer = that.footer || that.wrapper.find('.k-grid-footer');\n                var headerCol, footerCol, beforeVisibleColumn;\n                headerCol = footerCol = colDest;\n                if (destination.hidden) {\n                    var columnsArray = isLocked ? lockedColumns(that.columns) : nonLockedColumns(that.columns);\n                    if (visibleColumns(columnsArray).length > 0) {\n                        headerCol = footerCol = colDest = this._findClosestVisibleColumnIndex(columnsArray, destIndex);\n                        beforeVisibleColumn = visibleColumns(columnsArray.slice(destIndex)).length > 0;\n                    } else {\n                        if (isLocked) {\n                            colDest = that.lockedTable.find('colgroup');\n                            headerCol = that.lockedHeader.find('colgroup');\n                            footerCol = $(that.lockedFooter).find('>table>colgroup');\n                        } else {\n                            colDest = that.tbody.prev();\n                            headerCol = that.thead.prev();\n                            footerCol = footer.find('.k-grid-footer-wrap').find('>table>colgroup');\n                        }\n                    }\n                }\n                if (that._hasFilterRow()) {\n                    reorder(that.wrapper.find('.k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n                if (colSourceIndex >= 0) {\n                    reorder(elements(that.lockedHeader, that.thead.prev(), 'col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, headerCol, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                }\n                if (that.options.scrollable) {\n                    if (colSourceIndex >= 0) {\n                        reorder(elements(that.lockedTable, that.tbody.prev(), 'col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, colDest, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                    }\n                }\n                if (footer && footer.length) {\n                    if (colSourceIndex >= 0) {\n                        reorder(elements(that.lockedFooter, footer.find('.k-grid-footer-wrap'), '>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, footerCol, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                    }\n                    reorder(footer.find('.k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n                var rows = that.tbody.children(':not(.k-grouping-row,.k-detail-row)');\n                if (that.lockedTable) {\n                    if (lockedCount > destIndex) {\n                        if (lockedCount <= sourceIndex) {\n                            updateColspan(that.lockedTable.find('>tbody>tr.k-grouping-row'), that.table.find('>tbody>tr.k-grouping-row'), sources.length);\n                        }\n                    } else if (lockedCount > sourceIndex) {\n                        updateColspan(that.table.find('>tbody>tr.k-grouping-row'), that.lockedTable.find('>tbody>tr.k-grouping-row'), sources.length);\n                    }\n                    lockedRows = that.lockedTable.find('>tbody>tr:not(.k-grouping-row,.k-detail-row)');\n                }\n                for (var idx = 0, length = rows.length; idx < length; idx += 1) {\n                    reorder(elements(lockedRows[idx], rows[idx], '>td:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n            },\n            _findClosestVisibleColumnIndex: function (columns, columnIndex) {\n                var columnsArray = visibleColumns(columns.slice(columnIndex)).length > 0 ? columns.slice(columnIndex) : columns.slice(0, columnIndex + 1).reverse(), closestVisibleColumn = visibleColumns(columnsArray)[0];\n                return inArray(closestVisibleColumn, visibleColumns(this.columns));\n            },\n            _autoFitLeafColumn: function (leafIndex) {\n                this.autoFitColumn(leafColumns(this.columns)[leafIndex]);\n            },\n            autoFitColumn: function (column) {\n                var that = this, options = that.options, columns = that.columns, index, th, headerTable, isLocked, visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).filter(isCellVisible).length : 0, col, minWidth, contentDiv, scrollLeft, notGroupOrHierarchyCol = 'col:not(.k-group-col):not(.k-hierarchy-col)', notGroupOrHierarchyVisibleCell = 'td:visible:not(.k-group-cell):not(.k-hierarchy-cell)';\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !isVisible(column)) {\n                    return;\n                }\n                minWidth = column.minResizableWidth;\n                index = inArray(column, leafColumns(columns));\n                isLocked = column.locked;\n                if (isLocked) {\n                    headerTable = that.lockedHeader.children('table');\n                } else {\n                    headerTable = that.thead.parent();\n                }\n                th = headerTable.find('[data-index=\\'' + index + '\\']');\n                var contentTable = isLocked ? that.lockedTable : that.table, footer = that.footer || $();\n                if (that.footer && that.lockedContent) {\n                    footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                }\n                var footerTable = footer.find('table').first();\n                if (that.lockedHeader && !isLocked) {\n                    index -= visibleLocked;\n                }\n                for (var j = 0; j < columns.length; j++) {\n                    if (columns[j] === column) {\n                        break;\n                    } else {\n                        if (columns[j].hidden) {\n                            index--;\n                        }\n                    }\n                }\n                if (options.scrollable) {\n                    col = headerTable.find(notGroupOrHierarchyCol).eq(index).add(contentTable.children('colgroup').find(notGroupOrHierarchyCol).eq(index)).add(footerTable.find('colgroup').find(notGroupOrHierarchyCol).eq(index));\n                    if (!isLocked) {\n                        contentDiv = contentTable.parent();\n                        scrollLeft = contentDiv.scrollLeft();\n                    }\n                } else {\n                    col = contentTable.children('colgroup').find(notGroupOrHierarchyCol).eq(index);\n                }\n                var tables = headerTable.add(contentTable).add(footerTable);\n                var oldColumnWidth = outerWidth(th);\n                col.width('');\n                tables.css('table-layout', 'fixed');\n                col.width('auto');\n                tables.addClass('k-autofitting');\n                tables.css('table-layout', '');\n                var newColumnWidth = Math.ceil(Math.max(outerWidth(th), outerWidth(contentTable.find('tr:not(.k-grouping-row)').eq(0).children(notGroupOrHierarchyVisibleCell).eq(index)), outerWidth(footerTable.find('tr').eq(0).children(notGroupOrHierarchyVisibleCell).eq(index)))) + 1;\n                if (minWidth && minWidth > newColumnWidth) {\n                    newColumnWidth = minWidth;\n                }\n                col.width(newColumnWidth);\n                column.width = newColumnWidth;\n                if (options.scrollable) {\n                    var cols = headerTable.find('col'), colWidth, totalWidth = 0;\n                    for (var idx = 0, length = cols.length; idx < length; idx += 1) {\n                        colWidth = cols[idx].style.width;\n                        if (colWidth && colWidth.indexOf('%') == -1) {\n                            totalWidth += parseInt(colWidth, 10);\n                        } else if (cols.eq(idx).hasClass('k-group-col')) {\n                            totalWidth += parseInt(cols.eq(idx).width(), 10);\n                        } else {\n                            totalWidth = 0;\n                            break;\n                        }\n                    }\n                    if (totalWidth) {\n                        tables.each(function () {\n                            this.style.width = totalWidth + 'px';\n                        });\n                    }\n                }\n                if (browser.msie && browser.version == 8) {\n                    tables.css('display', 'inline-table');\n                    setTimeout(function () {\n                        tables.css('display', 'table');\n                    }, 1);\n                }\n                tables.removeClass('k-autofitting');\n                if (scrollLeft) {\n                    contentDiv.scrollLeft(scrollLeft);\n                }\n                that.trigger(COLUMNRESIZE, {\n                    column: column,\n                    oldWidth: oldColumnWidth,\n                    newWidth: newColumnWidth\n                });\n                that._applyLockedContainersWidth();\n                that._syncLockedContentHeight();\n                that._syncLockedHeaderHeight();\n            },\n            reorderColumn: function (destIndex, column, before) {\n                var that = this, parent = columnParent(column, that.columns), columns = parent ? parent.columns : that.columns, sourceIndex = inArray(column, columns), destColumn = columns[destIndex], lockChanged, isLocked = !!destColumn.locked, lockedCount = lockedColumns(that.columns).length, groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function (column) {\n                        return column.groupHeaderColumnTemplate;\n                    });\n                if (sourceIndex === destIndex) {\n                    return;\n                }\n                if (!column.locked && isLocked && nonLockedColumns(that.columns).length == 1) {\n                    return;\n                }\n                if (column.locked && !isLocked && lockedCount == 1) {\n                    return;\n                }\n                that._hideResizeHandle();\n                if (before === undefined) {\n                    before = destIndex < sourceIndex;\n                }\n                var sourceColumns = [column];\n                that._reorderHeader(sourceColumns, destColumn, before);\n                if (that.lockedHeader) {\n                    removeEmptyRows(that.thead);\n                    removeEmptyRows(that.lockedHeader);\n                }\n                if (destColumn.columns) {\n                    destColumn = leafColumns(destColumn.columns);\n                    destColumn = destColumn[before ? 0 : destColumn.length - 1];\n                }\n                if (column.columns) {\n                    sourceColumns = leafColumns(column.columns);\n                }\n                that._reorderContent(sourceColumns, destColumn, before);\n                lockChanged = !!column.locked;\n                lockChanged = lockChanged != isLocked;\n                column.locked = isLocked;\n                columns.splice(before ? destIndex : destIndex + 1, 0, column);\n                columns.splice(sourceIndex < destIndex ? sourceIndex : sourceIndex + 1, 1);\n                that._updateLockedCols();\n                that._updateCols();\n                that._templates();\n                that._updateColumnCellIndex();\n                that._updateColumnSorters();\n                if (groupHeaderColumnTemplateColumns.length > 0) {\n                    that._renderGroupRows();\n                }\n                that._updateTablesWidth();\n                that._applyLockedContainersWidth();\n                that._syncLockedHeaderHeight();\n                that._syncLockedContentHeight();\n                that._updateFirstColumnClass();\n                if (!lockChanged) {\n                    return;\n                }\n                if (isLocked) {\n                    that.trigger(COLUMNLOCK, { column: column });\n                } else {\n                    that.trigger(COLUMNUNLOCK, { column: column });\n                }\n            },\n            _updateColumnCellIndex: function () {\n                var header;\n                var offset = 0;\n                if (this.lockedHeader) {\n                    header = this.lockedHeader.find('thead');\n                    offset = updateCellIndex(header, lockedColumns(this.columns));\n                }\n                updateCellIndex(this.thead, nonLockedColumns(this.columns), offset);\n            },\n            lockColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || column.locked || column.hidden) {\n                    return;\n                }\n                var index = lockedColumns(columns).length - 1;\n                this.reorderColumn(index, column, false);\n            },\n            unlockColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !column.locked || column.hidden) {\n                    return;\n                }\n                var index = lockedColumns(columns).length;\n                this.reorderColumn(index, column, true);\n            },\n            cellIndex: function (td) {\n                var lockedColumnOffset = 0;\n                if (this.lockedTable && !$.contains(this.lockedTable[0], td[0])) {\n                    lockedColumnOffset = leafColumns(lockedColumns(this.columns)).length;\n                }\n                return $(td).parent().children('td:not(.k-group-cell,.k-hierarchy-cell)').index(td) + lockedColumnOffset;\n            },\n            _modelForContainer: function (container) {\n                container = $(container);\n                if (!container.is('tr') && this._editMode() !== 'popup') {\n                    container = container.closest('tr');\n                }\n                var id = container.attr(kendo.attr('uid'));\n                return this.dataSource.getByUid(id);\n            },\n            _editable: function () {\n                var that = this, selectable = that.selectable && that.selectable.options.multiple, editable = that.options.editable, handler = function () {\n                        var target = activeElement(), cell = that._editContainer;\n                        if (cell && cell[0] && !$.contains(cell[0], target) && cell[0] !== target && !$(target).closest('.k-animation-container').length) {\n                            if (that.editable.end()) {\n                                that.closeCell();\n                            } else {\n                                that._scrollVirtualWrapper();\n                            }\n                        }\n                    };\n                if (editable) {\n                    this.wrapper.addClass('k-editable');\n                    var mode = that._editMode();\n                    if (mode === 'incell') {\n                        that.table.add(that.lockedTable).on('mousedown' + NS, NAVROW + '>' + NAVCELL, function (e) {\n                            var target = $(e.target);\n                            if (that._editMode() === 'incell' && target.hasClass('k-checkbox-label') && target.prev().attr(kendo.attr('bind'))) {\n                                e.preventDefault();\n                            }\n                        });\n                        if (editable.update !== false) {\n                            if (isMac) {\n                                that.wrapper.on(CLICK + NS, '.k-edit-cell > input[type=\\'checkbox\\']', function (e) {\n                                    $(e.target).focus();\n                                }).on(CLICK + NS, '.k-edit-cell', function (e) {\n                                    if (!$(e.target).is('input')) {\n                                        $(e.currentTarget).find('input[type=\\'checkbox\\']').focus();\n                                    }\n                                }).on(MOUSEDOWN + NS, 'tr:not(.k-grouping-row) > td', function (e) {\n                                    var editContainer = that._editContainer;\n                                    if (editContainer && editContainer[0] && ($.contains(editContainer[0], e.target) || editContainer[0] === e.target)) {\n                                        that._mousedownOnEditCell = true;\n                                    } else {\n                                        that._mousedownOnEditCell = false;\n                                    }\n                                });\n                            }\n                            that.wrapper.on(CLICK + NS, 'tr:not(.k-grouping-row) > td', function (e) {\n                                var td = $(this), isLockedCell = that.lockedTable && td.closest('table')[0] === that.lockedTable[0];\n                                that._mousedownOnEditCell = false;\n                                if (td.hasClass('k-hierarchy-cell') || td.hasClass('k-detail-cell') || td.hasClass('k-group-cell') || td.hasClass('k-edit-cell') || td.has('a.k-grid-delete').length || td.has('button.k-grid-delete').length || td.closest('tbody')[0] !== that.tbody[0] && !isLockedCell || $(e.target).is(':input')) {\n                                    return;\n                                }\n                                if (that.editable) {\n                                    if (that.editable.end()) {\n                                        if (selectable) {\n                                            $(activeElement()).blur();\n                                        }\n                                        that.closeCell();\n                                        that.editCell(td);\n                                    } else {\n                                        that._scrollVirtualWrapper();\n                                    }\n                                } else {\n                                    that.editCell(td);\n                                }\n                            }).on('focusin' + NS, function () {\n                                if (!$.contains(this, activeElement())) {\n                                    clearTimeout(that.timer);\n                                    that.timer = null;\n                                }\n                            }).on('focusout' + NS, function (e) {\n                                var shouldCloseCell = true;\n                                if (isMac && that._mousedownOnEditCell) {\n                                    shouldCloseCell = false;\n                                }\n                                that._mousedownOnEditCell = false;\n                                if (shouldCloseCell) {\n                                    that.timer = setTimeout(function () {\n                                        handler(e);\n                                    }, 1);\n                                }\n                            });\n                        }\n                    } else {\n                        if (editable.update !== false) {\n                            that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit', function (e) {\n                                e.preventDefault();\n                                that.editRow($(this).closest('tr'));\n                            });\n                            if (that._isVirtualInlineEditable()) {\n                                that.wrapper.on('focusout' + NS, 'tr:not(.k-grouping-row) > td', function () {\n                                    if (that.editable && !that.editable.end()) {\n                                        that._scrollVirtualWrapper();\n                                    }\n                                });\n                            }\n                        }\n                    }\n                    if (editable.destroy !== false) {\n                        that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete', function (e) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            that.removeRow($(this).closest('tr'));\n                        });\n                    } else {\n                        that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete', function (e) {\n                            e.stopPropagation();\n                            if (!that._confirmation()) {\n                                e.preventDefault();\n                            }\n                        });\n                    }\n                }\n            },\n            editCell: function (cell) {\n                cell = $(cell);\n                var that = this, column = leafColumns(that.columns)[that.cellIndex(cell)], model = that._modelForContainer(cell);\n                that.closeCell();\n                if (model && isColumnEditable(column, model) && !column.command) {\n                    if (that.trigger(BEFOREEDIT, { model: model })) {\n                        return;\n                    }\n                    that._attachModelChange(model);\n                    that._editContainer = cell;\n                    if (that._shouldClearEditableState) {\n                        that._clearEditableState();\n                    }\n                    that.editable = cell.addClass('k-edit-cell').kendoEditable({\n                        fields: {\n                            field: column.field,\n                            format: column.format,\n                            editor: column.editor,\n                            values: column.values\n                        },\n                        model: model,\n                        target: that,\n                        change: function (e) {\n                            if (that.trigger(SAVE, {\n                                    values: e.values,\n                                    container: cell,\n                                    model: model\n                                })) {\n                                e.preventDefault();\n                            }\n                        },\n                        skipFocus: that._isVirtualIncellEditable() && that._editableState ? true : false\n                    }).data('kendoEditable');\n                    var tr = cell.parent().addClass('k-grid-edit-row');\n                    if (that.lockedContent) {\n                        adjustRowHeight(tr[0], that._relatedRow(tr).addClass('k-grid-edit-row')[0]);\n                    }\n                    that.trigger(EDIT, {\n                        container: cell,\n                        model: model\n                    });\n                }\n            },\n            _adjustLockedHorizontalScrollBar: function () {\n                var table = this.table, content = table.parent();\n                var scrollbar = table[0].offsetWidth > content[0].clientWidth ? kendo.support.scrollbar() : 0;\n                this.lockedContent.height(content[0].offsetHeight - scrollbar);\n            },\n            _syncLockedContentHeight: function () {\n                if (this.lockedTable) {\n                    if (!this.touchScroller) {\n                        this._adjustLockedHorizontalScrollBar();\n                    }\n                    this._adjustRowsHeight(this.table, this.lockedTable);\n                }\n            },\n            _syncLockedHeaderHeight: function () {\n                if (this.lockedHeader) {\n                    var lockedTable = this.lockedHeader.children('table');\n                    var table = this.thead.parent();\n                    this._adjustRowsHeight(lockedTable, table);\n                    syncTableHeight(lockedTable, table);\n                }\n            },\n            _syncLockedFooterHeight: function () {\n                if (this.lockedFooter && this.footer && this.footer.length) {\n                    this._adjustRowsHeight(this.lockedFooter.children('table'), this.footer.find('.k-grid-footer-wrap > table'));\n                }\n            },\n            _destroyEditable: function () {\n                var that = this;\n                var destroy = function () {\n                    if (that.editable) {\n                        var container = that.editView ? that.editView.element : that._editContainer;\n                        if (container) {\n                            container.off(CLICK + NS, 'a.k-grid-cancel', that._editCancelClickHandler);\n                            container.off(CLICK + NS, 'a.k-grid-update', that._editUpdateClickHandler);\n                        }\n                        that._detachModelChange();\n                        that.editable.destroy();\n                        that.editable = null;\n                        that._editContainer = null;\n                        that._destroyEditView();\n                        that._editableIsClosing = null;\n                    }\n                };\n                if (that.editable) {\n                    if (that._editMode() === 'popup' && !that._isMobile) {\n                        if (that._editableIsClosing) {\n                            that._editContainer.data('kendoWindow').bind('deactivate', destroy);\n                        } else {\n                            that._editableIsClosing = true;\n                            that._editContainer.data('kendoWindow').bind('deactivate', destroy).close();\n                        }\n                    } else {\n                        destroy();\n                    }\n                }\n                if (that._actionSheet) {\n                    that._actionSheet.destroy();\n                    that._actionSheet = null;\n                }\n            },\n            _destroyEditView: function () {\n                if (this.editView) {\n                    this.editView.purge();\n                    this.editView = null;\n                    this.pane.navigate('');\n                }\n            },\n            _attachModelChange: function (model) {\n                var that = this;\n                that._modelChangeHandler = function (e) {\n                    that._modelChange({\n                        field: e.field,\n                        model: this\n                    });\n                };\n                model.bind('change', that._modelChangeHandler);\n            },\n            _detachModelChange: function () {\n                var that = this, container = that._editContainer, model = that._modelForContainer(container);\n                if (model) {\n                    model.unbind(CHANGE, that._modelChangeHandler);\n                }\n            },\n            closeCell: function (isCancel) {\n                var that = this, cell = that._editContainer, column, tr, model;\n                if (!cell) {\n                    return;\n                }\n                model = that._modelForContainer(cell);\n                if (isCancel && that.trigger('cancel', {\n                        container: cell,\n                        model: model\n                    })) {\n                    return;\n                }\n                that.trigger(CELLCLOSE, {\n                    type: isCancel ? 'cancel' : 'save',\n                    model: model,\n                    container: cell\n                });\n                cell.removeClass('k-edit-cell');\n                column = leafColumns(that.columns)[that.cellIndex(cell)];\n                tr = cell.parent().removeClass('k-grid-edit-row');\n                if (that.lockedContent) {\n                    that._relatedRow(tr).removeClass('k-grid-edit-row');\n                }\n                that._destroyEditable();\n                that._displayCell(cell, column, model);\n                if (that._shouldClearEditableState) {\n                    that._clearEditableState();\n                }\n                that.trigger('itemChange', {\n                    item: tr,\n                    data: model,\n                    ns: ui\n                });\n                if (that.lockedContent) {\n                    adjustRowHeight(tr.css('height', '')[0], that._relatedRow(tr).css('height', '')[0]);\n                }\n            },\n            _displayCell: function (cell, column, dataItem) {\n                var that = this, state = {\n                        storage: {},\n                        count: 0\n                    }, settings = extend({}, kendo.Template, that.options.templateSettings), tmpl = kendo.template(that._cellTmpl(column, state), settings);\n                if (state.count > 0) {\n                    tmpl = proxy(tmpl, state.storage);\n                }\n                cell.empty().html(tmpl(dataItem));\n                that.angular('compile', function () {\n                    return {\n                        elements: cell,\n                        data: [{ dataItem: dataItem }]\n                    };\n                });\n            },\n            removeRow: function (row) {\n                if (!this._confirmation(row)) {\n                    return;\n                }\n                this._removeRow(row);\n            },\n            _removeRow: function (row) {\n                var that = this, model, modelId, key, schema, mode = that._editMode();\n                if (mode !== 'incell') {\n                    that.cancelRow();\n                }\n                row = $(row);\n                if (that.lockedContent) {\n                    row = row.add(that._relatedRow(row));\n                }\n                row = row.hide();\n                model = that._modelForContainer(row);\n                if (model && !that.trigger(REMOVE, {\n                        row: row,\n                        model: model\n                    })) {\n                    schema = that.dataSource.options.schema;\n                    if (that._selectedIds && schema && schema.model) {\n                        modelId = isFunction(that.dataSource.options.schema.model) ? that.dataSource.options.schema.model.fn.idField : that.dataSource.options.schema.model.id;\n                        key = model[modelId];\n                        delete that._selectedIds[key];\n                    }\n                    that.dataSource.remove(model);\n                    if (mode === 'inline' || mode === 'popup') {\n                        that.dataSource.sync();\n                    }\n                } else if (mode === 'incell') {\n                    that._destroyEditable();\n                }\n            },\n            _editMode: function () {\n                var mode = 'incell', editable = this.options.editable;\n                if (editable !== true) {\n                    if (typeof editable == 'string') {\n                        mode = editable;\n                    } else {\n                        mode = editable.mode || mode;\n                    }\n                }\n                return mode;\n            },\n            editRow: function (row) {\n                var model;\n                var that = this;\n                if (row instanceof ObservableObject) {\n                    model = row;\n                } else {\n                    row = $(row);\n                    model = that._modelForContainer(row);\n                }\n                var mode = that._editMode();\n                var container;\n                that.cancelRow();\n                if (model) {\n                    row = that.tbody.children('[' + kendo.attr('uid') + '=' + model.uid + ']');\n                    that._attachModelChange(model);\n                    if (mode === 'popup') {\n                        that._createPopupEditor(model);\n                    } else if (mode === 'inline') {\n                        that._createInlineEditor(row, model);\n                    } else if (mode === 'incell') {\n                        $(row).children(DATA_CELL).each(function () {\n                            var cell = $(this);\n                            var column = leafColumns(that.columns)[that.cellIndex(cell)];\n                            model = that._modelForContainer(cell);\n                            if (model && (!model.editable || model.editable(column.field)) && column.field && !column.selectable) {\n                                that.editCell(cell);\n                                return false;\n                            }\n                        });\n                    }\n                    container = that.editView ? that.editView.element : that._editContainer;\n                    if (container) {\n                        if (!this._editCancelClickHandler) {\n                            this._editCancelClickHandler = proxy(this._editCancelClick, this);\n                        }\n                        container.on(CLICK + NS, 'a.k-grid-cancel', this._editCancelClickHandler);\n                        if (!this._editUpdateClickHandler) {\n                            this._editUpdateClickHandler = proxy(this._editUpdateClick, this);\n                        }\n                        container.on(CLICK + NS, 'a.k-grid-update', this._editUpdateClickHandler);\n                    }\n                }\n            },\n            _editUpdateClick: function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n                this.saveRow();\n            },\n            _editCancelClick: function (e) {\n                var that = this;\n                var navigatable = that.options.navigatable;\n                var model = that.editable.options.model;\n                var container = that.editView ? that.editView.element : that._editContainer;\n                e.preventDefault();\n                e.stopPropagation();\n                if (that.trigger('cancel', {\n                        container: container,\n                        model: model\n                    })) {\n                    return;\n                }\n                var currentIndex = that.items().index($(that.current()).parent());\n                that.cancelRow();\n                if (navigatable) {\n                    that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                    focusTable(that.table, true);\n                }\n            },\n            _createPopupEditor: function (model) {\n                var that = this;\n                var html = '<div ' + kendo.attr('uid') + '=\"' + model.uid + '\" class=\"k-popup-edit-form' + (that._isMobile ? ' k-mobile-list' : '') + '\"><div class=\"k-edit-form-container\">';\n                var column;\n                var command;\n                var fields = [];\n                var idx;\n                var length;\n                var tmpl;\n                var updateText;\n                var cancelText;\n                var updateIconClass;\n                var cancelIconClass;\n                var tempCommand;\n                var columns = leafColumns(that.columns);\n                var attr;\n                var editable = that.options.editable;\n                var template = editable.template;\n                var options = isPlainObject(editable) ? editable.window : {};\n                var settings = extend({}, kendo.Template, that.options.templateSettings);\n                if (that.trigger(BEFOREEDIT, { model: model })) {\n                    return;\n                }\n                options = options || {};\n                if (template) {\n                    if (typeof template === STRING) {\n                        template = window.unescape(template);\n                    }\n                    html += kendo.template(template, settings)(model);\n                    for (idx = 0, length = columns.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.command) {\n                            tempCommand = getCommand(column.command, 'edit');\n                            if (tempCommand) {\n                                command = tempCommand;\n                            }\n                        }\n                    }\n                } else {\n                    for (idx = 0, length = columns.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.selectable) {\n                            continue;\n                        }\n                        if (!column.command) {\n                            html += '<div class=\"k-edit-label\"><label for=\"' + column.field + '\">' + (column.title || column.field || '') + '</label></div>';\n                            if (isColumnEditable(column, model)) {\n                                fields.push({\n                                    field: column.field,\n                                    format: column.format,\n                                    editor: column.editor,\n                                    values: column.values\n                                });\n                                html += '<div ' + kendo.attr('container-for') + '=\"' + column.field + '\" class=\"k-edit-field\"></div>';\n                            } else {\n                                var state = {\n                                    storage: {},\n                                    count: 0\n                                };\n                                tmpl = kendo.template(that._cellTmpl(column, state), settings);\n                                if (state.count > 0) {\n                                    tmpl = proxy(tmpl, state.storage);\n                                }\n                                html += '<div class=\"k-edit-field\">' + tmpl(model) + '</div>';\n                            }\n                        } else if (column.command) {\n                            tempCommand = getCommand(column.command, 'edit');\n                            if (tempCommand) {\n                                command = tempCommand;\n                            }\n                        }\n                    }\n                }\n                if (command) {\n                    if (isPlainObject(command)) {\n                        if (isPlainObject(command.text)) {\n                            updateText = command.text.update;\n                            cancelText = command.text.cancel;\n                        }\n                        if (isPlainObject(command.iconClass)) {\n                            updateIconClass = command.iconClass.update;\n                            cancelIconClass = command.iconClass.cancel;\n                        }\n                        if (command.attr) {\n                            attr = command.attr;\n                        }\n                    }\n                }\n                var container;\n                if (!that._isMobile) {\n                    html += '<div class=\"k-edit-buttons k-state-default\">';\n                    html += that._createButton({\n                        name: 'update',\n                        text: updateText,\n                        attr: attr,\n                        iconClass: updateIconClass\n                    }) + that._createButton({\n                        name: 'canceledit',\n                        text: cancelText,\n                        attr: attr,\n                        iconClass: cancelIconClass\n                    });\n                    html += '</div></div></div>';\n                    container = that._editContainer = $(html).appendTo(that.wrapper).eq(0).kendoWindow(extend({\n                        modal: true,\n                        resizable: false,\n                        draggable: true,\n                        title: that.options.messages.commands.edit || 'Edit',\n                        visible: false,\n                        close: function (e) {\n                            if (e.userTriggered) {\n                                e.sender.element.focus();\n                                if (that.trigger('cancel', {\n                                        container: container,\n                                        model: model\n                                    })) {\n                                    e.preventDefault();\n                                    return;\n                                }\n                                var currentIndex = that.items().index($(that.current()).parent());\n                                that._editableIsClosing = true;\n                                that.cancelRow();\n                                if (that.options.navigatable) {\n                                    that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                                    focusTable(that.table, true);\n                                }\n                            }\n                        }\n                    }, options));\n                } else {\n                    html += '</div></div>';\n                    that.editView = that.pane.append('<div data-' + kendo.ns + 'role=\"view\" data-' + kendo.ns + 'use-native-scrolling=\"true\" data-' + kendo.ns + 'init-widgets=\"false\" class=\"k-grid-edit-form\">' + '<div data-' + kendo.ns + 'role=\"header\" class=\"k-header\">' + that._createButton({\n                        name: 'update',\n                        text: updateText,\n                        attr: attr\n                    }) + (options.title || 'Edit') + that._createButton({\n                        name: 'canceledit',\n                        text: cancelText,\n                        attr: attr\n                    }) + '</div>' + html + '</div>');\n                    container = that._editContainer = that.editView.element.find('.k-popup-edit-form');\n                }\n                that.editable = that._editContainer.kendoEditable({\n                    fields: fields,\n                    model: model,\n                    clearContainer: false,\n                    target: that\n                }).data('kendoEditable');\n                if (that._isMobile) {\n                    container.find('input[type=checkbox],input[type=radio]').parent('.k-edit-field').addClass('k-check').prev('.k-edit-label').addClass('k-check').click(function () {\n                        $(this).next().children('input').click();\n                    });\n                }\n                that._openPopUpEditor();\n                that.trigger(EDIT, {\n                    container: container,\n                    model: model\n                });\n            },\n            _openPopUpEditor: function () {\n                var that = this;\n                var windowEditor = that._editContainer ? that._editContainer.data('kendoWindow') : null;\n                var windowOptions = (that.options.editable || {}).window || {};\n                if (!this._isMobile) {\n                    if (windowEditor) {\n                        if (!windowOptions.position) {\n                            windowEditor.center();\n                        }\n                        windowEditor.open();\n                    }\n                } else {\n                    this.pane.navigate(this.editView, this._editAnimation);\n                }\n            },\n            _createInlineEditor: function (row, model) {\n                var that = this;\n                var column;\n                var cell;\n                var command;\n                var fields = [];\n                if (that.trigger(BEFOREEDIT, { model: model })) {\n                    return;\n                }\n                if (that.lockedContent) {\n                    row = row.add(that._relatedRow(row));\n                }\n                row.children(':not(.k-group-cell,.k-hierarchy-cell)').each(function () {\n                    cell = $(this);\n                    column = leafColumns(that.columns)[that.cellIndex(cell)];\n                    if (!column.command && isColumnEditable(column, model)) {\n                        fields.push({\n                            field: column.field,\n                            format: column.format,\n                            editor: column.editor,\n                            values: column.values\n                        });\n                        cell.attr(kendo.attr('container-for'), column.field);\n                        cell.empty();\n                    } else if (column.command) {\n                        command = getCommand(column.command, 'edit');\n                        if (command) {\n                            cell.empty();\n                            var updateText, cancelText, updateIconClass, cancelIconClass, attr;\n                            if (isPlainObject(command)) {\n                                if (isPlainObject(command.text)) {\n                                    updateText = command.text.update;\n                                    cancelText = command.text.cancel;\n                                }\n                                if (isPlainObject(command.iconClass)) {\n                                    updateIconClass = command.iconClass.update;\n                                    cancelIconClass = command.iconClass.cancel;\n                                }\n                                if (command.attr) {\n                                    attr = command.attr;\n                                }\n                            }\n                            $(that._createButton({\n                                name: 'update',\n                                text: updateText,\n                                attr: attr,\n                                iconClass: updateIconClass\n                            }) + that._createButton({\n                                name: 'canceledit',\n                                text: cancelText,\n                                attr: attr,\n                                iconClass: cancelIconClass\n                            })).appendTo(cell);\n                        }\n                    }\n                });\n                that._editContainer = row;\n                that._editContainer.addClass('k-grid-edit-row');\n                if (that._shouldClearEditableState) {\n                    that._clearEditableState();\n                }\n                that.editable = new kendo.ui.Editable(that._editContainer, {\n                    target: that,\n                    fields: fields,\n                    model: model,\n                    skipFocus: that._isVirtualInlineEditable() && that._editableState && that._editableState.field ? true : false,\n                    clearContainer: false\n                });\n                if (row.length > 1) {\n                    adjustRowHeight(row[0], row[1]);\n                    that._applyLockedContainersWidth();\n                }\n                that.trigger(EDIT, {\n                    container: row,\n                    model: model\n                });\n            },\n            cancelRow: function (notify) {\n                var that = this, container = that._editContainer, model;\n                if (container) {\n                    model = that._modelForContainer(container);\n                    if (!model || notify && that.trigger('cancel', {\n                            container: container,\n                            model: model\n                        })) {\n                        return;\n                    }\n                    that._destroyEditable();\n                    that.dataSource.cancelChanges(model);\n                    that._clearEditableState();\n                    if (that._editMode() !== 'popup') {\n                        that._displayRow(container);\n                    } else {\n                        that._displayRow(that.tbody.find('[' + kendo.attr('uid') + '=' + model.uid + ']'));\n                    }\n                }\n            },\n            saveRow: function () {\n                var that = this;\n                var container = this._editContainer;\n                var model = this._modelForContainer(container);\n                var deferred = $.Deferred();\n                var valid;\n                if (!container || !this.editable) {\n                    return deferred.resolve().promise();\n                }\n                valid = that.editable && that.editable.end();\n                if (!valid || this.trigger(SAVE, {\n                        container: container,\n                        model: model\n                    })) {\n                    if (!valid) {\n                        that._scrollVirtualWrapper();\n                    }\n                    return deferred.reject().promise();\n                }\n                that._clearEditableState();\n                return this.dataSource.sync();\n            },\n            _displayRow: function (row) {\n                var that = this, model = that._modelForContainer(row), related, newRow, nextRow, isSelected = row.hasClass('k-state-selected'), isAlt = row.hasClass('k-alt');\n                if (model) {\n                    if (that.lockedContent) {\n                        related = $((isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model));\n                        that._relatedRow(row.last()).replaceWith(related);\n                    }\n                    that.angular('cleanup', function () {\n                        return { elements: row.get() };\n                    });\n                    newRow = $((isAlt ? that.altRowTemplate : that.rowTemplate)(model));\n                    if (!row.is(':visible')) {\n                        newRow.hide();\n                    }\n                    row.replaceWith(newRow);\n                    that.trigger('itemChange', {\n                        item: newRow,\n                        data: model,\n                        ns: ui\n                    });\n                    if (related && related.length) {\n                        that.trigger('itemChange', {\n                            item: related,\n                            data: model,\n                            ns: ui\n                        });\n                    }\n                    var angularElements = newRow;\n                    var angularData = [{ dataItem: model }];\n                    if (related && related.length) {\n                        angularElements = newRow.add(related);\n                        angularData.push({ dataItem: model });\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: angularElements.get(),\n                            data: angularData\n                        };\n                    });\n                    if (isSelected && (that.options.selectable || that._checkBoxSelection)) {\n                        that.select(newRow.add(related));\n                    }\n                    if (related) {\n                        adjustRowHeight(newRow[0], related[0]);\n                    }\n                    nextRow = newRow.next();\n                    if (nextRow.hasClass('k-detail-row') && nextRow.is(':visible')) {\n                        newRow.find('.k-hierarchy-cell .k-icon').removeClass('k-i-expand').addClass('k-i-collapse');\n                    }\n                }\n            },\n            _showMessage: function (messages, row) {\n                var that = this;\n                if (!that._isMobile) {\n                    return window.confirm(messages.title);\n                }\n                var template = kendo.template('<ul>' + '<li class=\"km-actionsheet-title\">#:title#</li>' + '<li><a href=\"\\\\#\" class=\"k-button k-grid-delete\">#:confirmDelete#</a></li>' + '</ul>');\n                var html = $(template(messages)).appendTo(that.view.element);\n                var actionSheet = that._actionSheet = new kendo.mobile.ui.ActionSheet(html, {\n                    cancel: messages.cancelDelete,\n                    cancelTemplate: '<li class=\"km-actionsheet-cancel\"><a class=\"k-button\" href=\"\\\\#\">#:cancel#</a></li>',\n                    close: function () {\n                        this.destroy();\n                    },\n                    command: function (e) {\n                        var item = $(e.currentTarget).parent();\n                        if (!item.hasClass('km-actionsheet-cancel')) {\n                            that._removeRow(row);\n                        }\n                    },\n                    popup: that._actionSheetPopupOptions\n                });\n                actionSheet.open(row);\n                return false;\n            },\n            _confirmation: function (row) {\n                var that = this, editable = that.options.editable, confirmation = editable === true || typeof editable === STRING ? that.options.messages.editable.confirmation : editable.confirmation;\n                if (isPlainObject(editable) && typeof editable.mode === STRING && typeof confirmation !== FUNCTION && typeof confirmation !== STRING && confirmation !== false) {\n                    confirmation = that.options.messages.editable.confirmation;\n                }\n                if (confirmation !== false && confirmation != null) {\n                    if (typeof confirmation === FUNCTION) {\n                        confirmation = confirmation(that._modelForContainer(row));\n                    }\n                    return that._showMessage({\n                        confirmDelete: editable.confirmDelete || that.options.messages.editable.confirmDelete,\n                        cancelDelete: editable.cancelDelete || that.options.messages.editable.cancelDelete,\n                        title: confirmation === true ? that.options.messages.editable.confirmation : confirmation\n                    }, row);\n                }\n                return true;\n            },\n            cancelChanges: function () {\n                var that = this;\n                that.dataSource.cancelChanges();\n                if (that._isVirtualEditable()) {\n                    that._virtualPageToTop(function () {\n                        that.virtualScrollable.scrollToTop();\n                    });\n                }\n            },\n            saveChanges: function () {\n                var that = this;\n                var valid = that.editable && that.editable.end();\n                if ((valid || !that.editable) && !that.trigger(SAVECHANGES)) {\n                    that.dataSource.sync();\n                } else if (!valid) {\n                    that._scrollVirtualWrapper();\n                }\n            },\n            addRow: function () {\n                var that = this, index, dataSource = that.dataSource, mode = that._editMode(), createAt = that.options.editable.createAt || '', pageSize = dataSource.pageSize(), view = dataSource.view() || [];\n                var createAtBottom = createAt.toLowerCase() === BOTTOM;\n                var model;\n                var virtualEditable = that._isVirtualEditable();\n                if (that.editable && that.editable.end() || !that.editable) {\n                    if (mode != 'incell') {\n                        that.cancelRow();\n                    }\n                    index = dataSource.indexOf(view[0]);\n                    if (createAtBottom) {\n                        index += view.length;\n                        if (pageSize && !dataSource.options.serverPaging && pageSize <= view.length) {\n                            index -= 1;\n                        }\n                    }\n                    if (index < 0) {\n                        if (dataSource.page() > dataSource.totalPages()) {\n                            index = (dataSource.page() - 1) * pageSize;\n                        } else {\n                            index = 0;\n                        }\n                    }\n                    if (that.options.navigatable && mode == 'incell') {\n                        that._removeCurrent();\n                    }\n                    if (virtualEditable) {\n                        that._virtualAddRow();\n                    } else {\n                        model = dataSource.insert(index, {});\n                        that._editModel(model);\n                    }\n                } else {\n                    that._scrollVirtualWrapper();\n                }\n            },\n            _editModel: function (model) {\n                var that = this;\n                var createAt = that.options.editable.createAt || '';\n                var mode = that._editMode();\n                if (model) {\n                    var id = model.uid, table = that.lockedContent ? that.lockedTable : that.table, row = table.find('tr[' + kendo.attr('uid') + '=' + id + ']'), cell = row.children('td:not(.k-group-cell,.k-hierarchy-cell)').eq(that._firstEditableColumnIndex(row));\n                    if (mode === 'inline' && row.length) {\n                        that.editRow(row);\n                    } else if (mode === 'popup') {\n                        that.editRow(model);\n                    } else if (cell.length) {\n                        that.editCell(cell);\n                    }\n                    if (createAt.toLowerCase() == 'bottom' && that.lockedContent) {\n                        that.lockedContent[0].scrollTop = that.content[0].scrollTop = that.table[0].offsetHeight;\n                    }\n                }\n            },\n            _virtualAddRow: function () {\n                var that = this;\n                var createAtBottom = (that.options.editable.createAt || '').toLowerCase() === BOTTOM;\n                that._clearEditableState();\n                if (createAtBottom) {\n                    that._virtualAddRowAtBottom();\n                } else {\n                    that._virtualAddRowAtTop();\n                }\n            },\n            _virtualAddRowAtTop: function () {\n                var that = this;\n                var dataSource = that.dataSource;\n                var virtualScrollable = that.virtualScrollable;\n                var model;\n                if (dataSource.page() === 1) {\n                    model = dataSource.insert(0, {});\n                    that._editModel(model);\n                    virtualScrollable.scrollToTop();\n                } else {\n                    that._virtualPageToTop(function () {\n                        model = dataSource.insert(0, {});\n                        that._editModel(model);\n                        virtualScrollable.scrollToTop();\n                    });\n                }\n            },\n            _virtualAddRowAtBottom: function () {\n                var that = this;\n                var dataSource = that.dataSource;\n                var virtualScrollable = that.virtualScrollable;\n                var index = dataSource.total();\n                var model;\n                if (dataSource.at(index - 1) instanceof ObservableObject) {\n                    model = dataSource.insert(index, {});\n                    that._virtualPageToBottom(function () {\n                        that._editModel(model);\n                        virtualScrollable.scrollToBottom();\n                    });\n                } else {\n                    that._virtualPageToBottom(function () {\n                        model = dataSource.insert(index, {});\n                        that._editModel(model);\n                        virtualScrollable.scrollToBottom();\n                    });\n                }\n            },\n            _virtualPageToTop: function (callback) {\n                var that = this;\n                that._virtualPage(0, that.dataSource.take(), function () {\n                    callback();\n                });\n            },\n            _virtualPageToBottom: function (callback) {\n                var that = this;\n                var dataSource = that.dataSource;\n                var take = dataSource.take();\n                var total = dataSource.total();\n                var skip = total > take ? total - take : 0;\n                that._virtualPage(skip, take, function () {\n                    callback();\n                });\n            },\n            _virtualPage: function (skip, take, callback) {\n                var that = this;\n                if (that._isVirtualEditable()) {\n                    that.virtualScrollable._preventScroll = true;\n                    that.virtualScrollable._page(skip, take, callback);\n                }\n            },\n            _firstEditableColumnIndex: function (container) {\n                var that = this, column, columns = leafColumns(that.columns), idx, length, model = that._modelForContainer(container);\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    if (model && (!model.editable || model.editable(column.field)) && !column.command && column.field && column.hidden !== true) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            _toolbar: function () {\n                var that = this, wrapper = that.wrapper, toolbar = that.options.toolbar, editable = that.options.editable, container;\n                if (toolbar) {\n                    container = that.wrapper.find('.k-grid-toolbar');\n                    if (!container.length) {\n                        if (!isFunction(toolbar)) {\n                            toolbar = typeof toolbar === STRING ? toolbar : that._toolbarTmpl(toolbar).replace(templateHashRegExp, '\\\\#');\n                            toolbar = proxy(kendo.template(toolbar), that);\n                        }\n                        container = $('<div class=\"k-header k-grid-toolbar\" />').html(toolbar({})).prependTo(wrapper);\n                        that.angular('compile', function () {\n                            return { elements: container.get() };\n                        });\n                    }\n                    if (editable && editable.create !== false) {\n                        container.on(CLICK + NS, '.k-grid-add', function (e) {\n                            e.preventDefault();\n                            that.addRow();\n                        }).on(CLICK + NS, '.k-grid-cancel-changes', function (e) {\n                            e.preventDefault();\n                            that.cancelChanges();\n                        }).on(CLICK + NS, '.k-grid-save-changes', function (e) {\n                            e.preventDefault();\n                            that.saveChanges();\n                        });\n                    }\n                    container.on(CLICK + NS, '.k-grid-excel', function (e) {\n                        e.preventDefault();\n                        that.saveAsExcel();\n                    });\n                    container.on(CLICK + NS, '.k-grid-pdf', function (e) {\n                        e.preventDefault();\n                        that.saveAsPDF();\n                    });\n                }\n            },\n            _toolbarTmpl: function (commands) {\n                var that = this, idx, length, html = '';\n                if (isArray(commands)) {\n                    for (idx = 0, length = commands.length; idx < length; idx++) {\n                        html += that._createButton(commands[idx]);\n                    }\n                }\n                return html;\n            },\n            _createButton: function (command) {\n                var template = command.template || COMMANDBUTTONTMPL, commandName = typeof command === STRING ? command : command.name || command.text, className = defaultCommands[commandName] ? defaultCommands[commandName].className : 'k-grid-' + (commandName || '').replace(/\\s/g, ''), options = {\n                        className: className,\n                        text: commandName,\n                        attr: '',\n                        iconClass: ''\n                    }, messages = this.options.messages.commands, attributeClassMatch;\n                if (!commandName && !(isPlainObject(command) && command.template)) {\n                    throw new Error('Custom commands should have name specified');\n                }\n                if (isPlainObject(command)) {\n                    command = extend(true, {}, command);\n                    if (command.className && inArray(options.className, command.className.split(' ')) < 0) {\n                        command.className += ' ' + options.className;\n                    } else if (command.className === undefined) {\n                        command.className = options.className;\n                    }\n                    if (commandName === 'edit') {\n                        command = extend(true, {}, command);\n                        command.text = isPlainObject(command.text) ? command.text.edit : command.text;\n                        command.iconClass = isPlainObject(command.iconClass) ? command.iconClass.edit : command.iconClass;\n                    }\n                    if (command.attr) {\n                        if (isPlainObject(command.attr)) {\n                            command.attr = stringifyAttributes(command.attr);\n                        }\n                        if (typeof command.attr === STRING) {\n                            attributeClassMatch = command.attr.match(/class=\"(.+?)\"/);\n                            if (attributeClassMatch && inArray(attributeClassMatch[1], command.className.split(' ')) < 0) {\n                                command.className += ' ' + attributeClassMatch[1];\n                            }\n                        }\n                    }\n                    options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] }, command);\n                } else {\n                    options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] });\n                }\n                return kendo.template(template)(options);\n            },\n            _hasFooters: function () {\n                return !!this.footerTemplate || !!this.groupFooterTemplate || this.footer && this.footer.length > 0 || this.wrapper.find('.k-grid-footer').length > 0;\n            },\n            _groupable: function () {\n                var that = this;\n                if (that._groupableClickHandler) {\n                    that.table.add(that.lockedTable).off(CLICK + NS, that._groupableClickHandler);\n                } else {\n                    that._groupableClickHandler = function (e) {\n                        var element = $(this), groupRow = element.closest('tr');\n                        var group = that._groupRows ? that._groupRows[that.wrapper.find('.k-grouping-row').index(groupRow)] : {};\n                        if (element.hasClass('k-i-collapse')) {\n                            if (!that.trigger('groupCollapse', {\n                                    group: group,\n                                    element: groupRow\n                                })) {\n                                that.collapseGroup(groupRow);\n                            }\n                        } else {\n                            if (!that.trigger('groupExpand', {\n                                    group: group,\n                                    element: groupRow\n                                })) {\n                                that.expandGroup(groupRow);\n                            }\n                        }\n                        e.preventDefault();\n                        e.stopPropagation();\n                    };\n                }\n                if (that._isLocked()) {\n                    that.lockedTable.on(CLICK + NS, '.k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse', that._groupableClickHandler);\n                } else {\n                    that.table.on(CLICK + NS, '.k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse', that._groupableClickHandler);\n                }\n                that._attachGroupable();\n            },\n            _attachGroupable: function () {\n                var that = this, wrapper = that.wrapper, groupable = that.options.groupable, draggables = HEADERCELLS + '[' + kendo.attr('field') + ']', filter = that.content ? '.k-grid-header:first ' + draggables : 'table:first>.k-grid-header ' + draggables;\n                if (groupable && groupable.enabled !== false) {\n                    if (!wrapper.has('div.k-grouping-header')[0]) {\n                        $('<div>&nbsp;</div>').addClass('k-grouping-header').prependTo(wrapper);\n                    }\n                    if (that.groupable) {\n                        that._destroyGroupable();\n                    }\n                    that.groupable = new ui.Groupable(wrapper, extend({}, groupable, {\n                        draggable: that._draggableInstance,\n                        groupContainer: '>div.k-grouping-header',\n                        dataSource: that.dataSource,\n                        draggableElements: filter,\n                        filter: filter,\n                        allowDrag: that.options.reorderable,\n                        change: function (e) {\n                            if (that.trigger('group', { groups: e.groups })) {\n                                e.preventDefault();\n                            } else {\n                                that._clearEditableState();\n                                if (that.dataSource.options.endless) {\n                                    that.dataSource.options.endless = null;\n                                    that._endlessPageSize = that.dataSource.options.pageSize;\n                                    that.dataSource._skip = 0;\n                                    that.dataSource._pageSize = that.dataSource._take = that._endlessPageSize;\n                                    that.dataSource._page = 1;\n                                }\n                            }\n                        }\n                    }));\n                    that._addGroupableOptionsToHeader();\n                }\n            },\n            _addGroupableOptionsToHeader: function () {\n                var that = this;\n                var columns = flatColumns(that.columns);\n                var columnFieldMap = {};\n                var field = '';\n                var headerCells = that._headerCells();\n                var cellFieldAttr = '';\n                var headerCell;\n                var columnOptions;\n                var i;\n                for (i = 0; i < columns.length; i++) {\n                    field = columns[i].field;\n                    columnFieldMap[columns[i].field] = columns[i];\n                }\n                for (i = 0; i < headerCells.length; i++) {\n                    headerCell = headerCells.eq(i);\n                    cellFieldAttr = headerCell.attr(kendo.attr(FIELD));\n                    columnOptions = columnFieldMap[cellFieldAttr];\n                    if (columnOptions && columnOptions.groupable && columnOptions.groupable.sort) {\n                        headerCell.data(GROUP_SORT, columnOptions.groupable.sort);\n                    }\n                }\n            },\n            _destroyGroupable: function () {\n                var that = this;\n                if (that.groupable && that.groupable.element) {\n                    that.groupable.element.kendoGroupable('destroy');\n                }\n                that.groupable = null;\n                that._removeGroupableOptionsFromHeader();\n            },\n            _removeGroupableOptionsFromHeader: function () {\n                var that = this;\n                var headerCells = that._headerCells();\n                for (var i = 0; i < headerCells.length; i++) {\n                    headerCells.eq(i).removeData(GROUP_SORT);\n                }\n            },\n            _continuousItems: function (filter, cell) {\n                if (!this.lockedContent) {\n                    return;\n                }\n                var that = this;\n                var elements = that.table.add(that.lockedTable);\n                var lockedItems = $(filter, elements[0]);\n                var nonLockedItems = $(filter, elements[1]);\n                var columns = cell ? lockedColumns(that.columns).length : 1;\n                var nonLockedColumns = cell ? that.columns.length - columns : 1;\n                var result = [];\n                for (var idx = 0; idx < lockedItems.length; idx += columns) {\n                    push.apply(result, lockedItems.slice(idx, idx + columns));\n                    push.apply(result, nonLockedItems.splice(0, nonLockedColumns));\n                }\n                return result;\n            },\n            _selectable: function () {\n                var that = this, multi, cell, notString = [], isLocked = that._isLocked(), selectable = that.options.selectable;\n                if (selectable) {\n                    if (that.selectable) {\n                        that.selectable.destroy();\n                    }\n                    that._selectedIds = {};\n                    selectable = kendo.ui.Selectable.parseOptions(selectable);\n                    multi = selectable.multiple;\n                    cell = selectable.cell;\n                    if (that._hasDetails()) {\n                        notString[notString.length] = '.k-detail-row';\n                    }\n                    if (that.options.groupable || that._hasFooters() || that._groups()) {\n                        notString[notString.length] = '.k-grouping-row,.k-group-footer';\n                    }\n                    notString = notString.join(',');\n                    if (notString !== '') {\n                        notString = ':not(' + notString + ')';\n                    }\n                    var elements = that.table;\n                    if (isLocked) {\n                        elements = elements.add(that.lockedTable);\n                    }\n                    var filter = '>' + (cell ? SELECTION_CELL_SELECTOR : 'tbody>tr' + notString);\n                    that.selectable = new kendo.ui.Selectable(elements, {\n                        filter: filter,\n                        aria: true,\n                        multiple: multi,\n                        change: function () {\n                            var selectedValues;\n                            if (!cell) {\n                                that._persistSelectedRows();\n                            }\n                            if (that._checkBoxSelection) {\n                                selectedValues = that.selectable.value();\n                                that._uncheckCheckBoxes();\n                                that._checkRows(selectedValues);\n                                if (selectedValues === that.items().length) {\n                                    that._toggleHeaderCheckState(true);\n                                } else {\n                                    that._toggleHeaderCheckState(false);\n                                }\n                            }\n                            that.trigger(CHANGE);\n                        },\n                        useAllItems: isLocked && multi && cell,\n                        relatedTarget: function (items) {\n                            if (cell || !isLocked) {\n                                return;\n                            }\n                            var related;\n                            var result = $();\n                            for (var idx = 0, length = items.length; idx < length; idx++) {\n                                related = that._relatedRow(items[idx]);\n                                if (inArray(related[0], items) < 0) {\n                                    result = result.add(related);\n                                }\n                            }\n                            return result;\n                        },\n                        continuousItems: function () {\n                            return that._continuousItems(filter, cell);\n                        }\n                    });\n                    if (that.options.navigatable) {\n                        elements.on('keydown' + NS, function (e) {\n                            var current = that.current();\n                            var target = e.target;\n                            if (e.keyCode === keys.SPACEBAR && !e.shiftKey && $.inArray(target, elements) > -1 && !current.is('.k-edit-cell,.k-header') && current.parent().is(':not(.k-grouping-row,.k-detail-row,.k-group-footer)')) {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                current = cell ? current : current.parent();\n                                if (isLocked && !cell) {\n                                    current = current.add(that._relatedRow(current));\n                                }\n                                if (multi) {\n                                    if (!e.ctrlKey) {\n                                        that.selectable.clear();\n                                    } else {\n                                        if (current.hasClass(SELECTED)) {\n                                            that._deselectCheckRows(current);\n                                            return;\n                                        }\n                                    }\n                                } else {\n                                    that.selectable.clear();\n                                }\n                                if (!cell) {\n                                    that.selectable._lastActive = current;\n                                }\n                                that.selectable.value(current);\n                            } else if (!cell && ($(target).is('td') || $(target).is('table') && inArray(target, this._navigatableTables)) && (e.shiftKey && e.keyCode == keys.LEFT || e.shiftKey && e.keyCode == keys.RIGHT || e.shiftKey && e.keyCode == keys.UP || e.shiftKey && e.keyCode == keys.DOWN || e.keyCode === keys.SPACEBAR && e.shiftKey)) {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                current = current.parent();\n                                if (isLocked) {\n                                    current = current.add(that._relatedRow(current));\n                                }\n                                if (multi) {\n                                    if (!that.selectable._lastActive) {\n                                        that.selectable._lastActive = current;\n                                    }\n                                    that.selectable.selectRange(that.selectable._firstSelectee(), current);\n                                } else {\n                                    that.selectable.clear();\n                                    that.selectable.value(current);\n                                }\n                            }\n                        });\n                    }\n                }\n            },\n            _clipboard: function () {\n                var options = this.options;\n                var selectable = options.selectable;\n                if (selectable && options.allowCopy) {\n                    var grid = this;\n                    if (!options.navigatable) {\n                        grid.table.add(grid.lockedTable).attr('tabindex', 0).on('mousedown' + NS + ' keydown' + NS, '.k-detail-cell', function (e) {\n                            if (e.target !== e.currentTarget) {\n                                e.stopImmediatePropagation();\n                            }\n                        }).on('mousedown' + NS, NAVROW + '>' + NAVCELL, proxy(tableClick, grid));\n                    }\n                    grid.copyHandler = proxy(grid.copySelection, grid);\n                    grid.updateClipBoardState = function () {\n                        if (grid.areaClipBoard) {\n                            grid.areaClipBoard.val(grid.getTSV()).focus().select();\n                        }\n                    };\n                    grid.bind('change', grid.updateClipBoardState);\n                    grid.wrapper.on('keydown', grid.copyHandler);\n                    grid.clearAreaHandler = proxy(grid.clearArea, grid);\n                    grid.wrapper.on('keyup', grid.clearAreaHandler);\n                }\n            },\n            copySelection: function (e) {\n                if (e instanceof jQuery.Event && !(e.ctrlKey || e.metaKey) || $(e.target).is('input:visible,textarea:visible') || window.getSelection && window.getSelection().toString() || document.selection && document.selection.createRange().text) {\n                    return;\n                }\n                if (!this.areaClipBoard) {\n                    this.areaClipBoard = $('<textarea />').css({\n                        position: 'fixed',\n                        top: '50%',\n                        left: '50%',\n                        opacity: 0,\n                        width: 0,\n                        height: 0\n                    }).appendTo(this.wrapper);\n                }\n                this.areaClipBoard.val(this.getTSV()).focus().select();\n            },\n            getTSV: function () {\n                var grid = this;\n                var selected = grid.select();\n                var delimeter = '\\t';\n                var allowCopy = grid.options.allowCopy;\n                var onlyVisible = true;\n                if ($.isPlainObject(allowCopy) && allowCopy.delimeter) {\n                    delimeter = allowCopy.delimeter;\n                }\n                var text = '';\n                if (selected.length) {\n                    if (selected.eq(0).is('tr')) {\n                        selected = selected.find('td:not(.k-group-cell)');\n                    }\n                    if (onlyVisible) {\n                        selected.filter(':visible');\n                    }\n                    var result = [];\n                    var cellsOffset = this.columns.length;\n                    var lockedCols = grid._isLocked() && lockedColumns(grid.columns).length;\n                    var inLockedArea = true;\n                    $.each(selected, function (idx, cell) {\n                        cell = $(cell);\n                        var tr = cell.closest('tr');\n                        var rowIndex = tr.index();\n                        var cellIndex = cell.index();\n                        if (onlyVisible) {\n                            cellIndex -= cell.prevAll(':hidden').length;\n                        }\n                        if (lockedCols && inLockedArea) {\n                            inLockedArea = $.contains(grid.lockedTable[0], cell[0]);\n                        }\n                        if (grid._groups() && inLockedArea) {\n                            cellIndex -= grid._groups();\n                        }\n                        cellIndex = inLockedArea ? cellIndex : cellIndex + lockedCols;\n                        if (cellsOffset > cellIndex) {\n                            cellsOffset = cellIndex;\n                        }\n                        var cellText = cell.text();\n                        if (!result[rowIndex]) {\n                            result[rowIndex] = [];\n                        }\n                        result[rowIndex][cellIndex] = cellText;\n                    });\n                    var rowsOffset = result.length;\n                    result = $.each(result, function (idx, val) {\n                        if (val) {\n                            result[idx] = val.slice(cellsOffset);\n                            if (rowsOffset > idx) {\n                                rowsOffset = idx;\n                            }\n                        }\n                    });\n                    $.each(result.slice(rowsOffset), function (idx, val) {\n                        if (val) {\n                            text += val.join(delimeter) + '\\r\\n';\n                        } else {\n                            text += '\\r\\n';\n                        }\n                    });\n                }\n                return text;\n            },\n            clearArea: function (e) {\n                var table;\n                if (this.areaClipBoard && e && e.target === this.areaClipBoard[0]) {\n                    if (this.options.navigatable) {\n                        table = $(this.current()).closest('table');\n                    } else {\n                        table = this.table;\n                    }\n                    focusTable(table, true);\n                }\n                if (this.areaClipBoard) {\n                    this.areaClipBoard.remove();\n                    this.areaClipBoard = null;\n                }\n            },\n            _adaptiveColumns: function () {\n                var that = this;\n                if (that._anyColumnHasMediaQuery()) {\n                    that._setColumnsMediaVisibility(that.columns);\n                    that._attachColumnMediaResizeHandler();\n                }\n            },\n            _anyColumnHasMediaQuery: function () {\n                return this._columnsWithMediaQuery().length;\n            },\n            _columnsWithMediaQuery: function () {\n                return columnsWithMedia(this.columns);\n            },\n            _attachColumnMediaResizeHandler: function () {\n                var that = this;\n                that._detachColumnMediaResizeHandler();\n                that._columnMediaResizeHandler = proxy(that._onColumnMediaResize, that);\n                $(window).on(RESIZE + NS, that._columnMediaResizeHandler);\n            },\n            _detachColumnMediaResizeHandler: function () {\n                var that = this;\n                if (that._columnMediaResizeHandler) {\n                    $(window).off(RESIZE + NS, that._columnMediaResizeHandler);\n                }\n            },\n            _onColumnMediaResize: function () {\n                var that = this;\n                that._setColumnsMediaVisibility(that.columns);\n                that._setContentMediaWidth();\n            },\n            _setColumnsMediaVisibility: function (columns) {\n                var cols = columns || [];\n                for (var i = 0; i < cols.length; i++) {\n                    this._setColumnMediaVisibility(cols[i]);\n                }\n            },\n            _setColumnMediaVisibility: function (column) {\n                var that = this;\n                if (isUndefined(column.media)) {\n                    that._setColumnsMediaVisibility(column.columns);\n                } else {\n                    if (columnMatchesMedia(column)) {\n                        that._showColumnByMedia(column);\n                        if (!column.hidden) {\n                            that._setColumnsMediaVisibility(column.columns);\n                        }\n                    } else {\n                        that._hideColumnByMedia(column);\n                    }\n                }\n            },\n            _showColumnByMedia: function (column) {\n                if (!column.hidden) {\n                    this.showColumn(column);\n                }\n                setColumnMatchesMedia(column);\n            },\n            _hideColumnByMedia: function (column) {\n                var initiallyHidden = column.hidden;\n                if (!initiallyHidden) {\n                    column._hideByMedia = true;\n                    this.hideColumn(column);\n                    column._hideByMedia = false;\n                    column.hidden = initiallyHidden;\n                }\n                setColumnMatchesMedia(column);\n            },\n            _setContentMediaWidth: function () {\n                var that = this;\n                var options = that.options;\n                var isLocked = that._isLocked();\n                var footer;\n                if (options.scrollable && options.resizable) {\n                    if (isLocked && that.lockedFooter) {\n                        footer = that.lockedFooter.children('table');\n                    } else if (that.footer) {\n                        footer = that.footer.find('>.k-grid-footer-wrap>table');\n                    }\n                    if (!footer || !footer[0]) {\n                        footer = $();\n                    }\n                    var header = isLocked ? that.wrapper.find('.k-grid-header-locked').find('table') : that.wrapper.find('.k-grid-header').find('table');\n                    var contentTable = isLocked ? that.lockedTable : that.table;\n                    var headerColumns = header.find('th');\n                    var headerColgroup = header.find('colgroup');\n                    var headerColumnsCount = headerColumns.length;\n                    var visibleHeaderColumnsCount = headerColumns.filter(isCellVisible).length;\n                    var hiddenHeaderColumnsCount = headerColumns.length - visibleHeaderColumnsCount;\n                    var totalHeaderWidth = 0;\n                    if (header[0].style.width !== '' && parseFloat(header[0].style.width) !== totalHeaderWidth) {\n                        var currentHeaderWidth = header.css('width');\n                        for (var i = 0; i < headerColumnsCount; i++) {\n                            if (isElementVisible(headerColumns[i])) {\n                                var columnWidth;\n                                var cellIndex = Math.max(i, i - hiddenHeaderColumnsCount);\n                                var colgroupChild = headerColgroup.children()[cellIndex];\n                                var columnStyleWidth = colgroupChild ? colgroupChild.style.width : '';\n                                if (columnStyleWidth !== '') {\n                                    columnWidth = parseFloat(columnStyleWidth);\n                                } else {\n                                    header.css('width', 'auto');\n                                    columnWidth = outerWidth(headerColumns.eq(i));\n                                    header.css('width', currentHeaderWidth);\n                                }\n                                totalHeaderWidth += columnWidth;\n                            }\n                        }\n                        contentTable.css('width', totalHeaderWidth - 1);\n                        header.css('width', totalHeaderWidth);\n                        footer.css('width', totalHeaderWidth);\n                    }\n                }\n            },\n            _minScreenSupport: function () {\n                var any = this.hideMinScreenCols();\n                if (any) {\n                    this.minScreenResizeHandler = proxy(this.hideMinScreenCols, this);\n                    $(window).on('resize', this.minScreenResizeHandler);\n                }\n            },\n            hideMinScreenCols: function () {\n                var cols = this.columns, screenWidth = window.innerWidth > 0 ? window.innerWidth : screen.width;\n                return this._iterateMinScreenCols(cols, screenWidth);\n            },\n            _iterateMinScreenCols: function (cols, screenWidth) {\n                var any = false;\n                for (var i = 0; i < cols.length; i++) {\n                    var col = cols[i];\n                    var minWidth = col.minScreenWidth;\n                    if (minWidth !== undefined && minWidth !== null) {\n                        any = true;\n                        if (minWidth > screenWidth) {\n                            this.hideColumn(col);\n                        } else {\n                            this.showColumn(col);\n                        }\n                    }\n                    if (!col.hidden && col.columns) {\n                        any = this._iterateMinScreenCols(col.columns, screenWidth) || any;\n                    }\n                }\n                return any;\n            },\n            _relatedRow: function (row) {\n                var lockedTable = this.lockedTable;\n                row = $(row);\n                if (!lockedTable) {\n                    return row;\n                }\n                var table = row.closest(this.table.add(this.lockedTable));\n                var index = table.find('>tbody>tr').index(row);\n                table = table[0] === this.table[0] ? lockedTable : this.table;\n                return table.find('>tbody>tr').eq(index);\n            },\n            _relatedCell: function (cell) {\n                var lockedTable = this.lockedTable;\n                cell = $(cell);\n                if (!lockedTable) {\n                    return cell;\n                }\n                var table = cell.closest(this.table.add(this.lockedTable));\n                var index = table.find('>tbody>tr>td').index(cell);\n                table = table[0] === this.table[0] ? lockedTable : this.table;\n                return table.find('>tbody>tr>td').index(index);\n            },\n            clearSelection: function () {\n                var that = this;\n                if (that.selectable && !that._checkBoxSelection) {\n                    that.selectable.clear();\n                }\n                if (that._checkBoxSelection) {\n                    that._deselectCheckRows(that.select());\n                    return;\n                }\n                if (that.options.persistSelection) {\n                    that._persistSelectedRows();\n                } else {\n                    that._selectedIds = {};\n                }\n                that.trigger(CHANGE);\n            },\n            select: function (items) {\n                var that = this, selectable = that.selectable, selectableoptions = kendo.ui.Selectable.parseOptions(this.options.selectable), cell = selectableoptions.cell;\n                items = that.table.add(that.lockedTable).find(items);\n                if (items.length) {\n                    if (selectable && !selectable.options.multiple) {\n                        selectable.clear();\n                        items = items.first();\n                    }\n                    if (that._isLocked()) {\n                        items = items.add(items.map(function () {\n                            if (cell) {\n                                return that._relatedCell(this);\n                            } else {\n                                return that._relatedRow(this);\n                            }\n                        }));\n                    }\n                    if (selectable && !that._checkBoxSelection) {\n                        selectable.value(items);\n                    } else {\n                        that._checkRows(items);\n                        if (that.select().length === that.items().length) {\n                            that._toggleHeaderCheckState(true);\n                        }\n                        if (!cell) {\n                            that._persistSelectedRows();\n                        }\n                        that.trigger(CHANGE);\n                    }\n                    return;\n                }\n                return selectable ? selectable.value() : that.items().filter('.' + SELECTED);\n            },\n            _toggleHeaderCheckState: function (checked) {\n                var that = this;\n                if (checked) {\n                    that.thead.add(that.lockedHeader).find('tr ' + CHECKBOXINPUT).prop('checked', true).attr('aria-checked', true).attr('aria-label', 'Deselect all rows');\n                } else {\n                    that.thead.add(that.lockedHeader).find('tr ' + CHECKBOXINPUT).prop('checked', false).attr('aria-checked', false).attr('aria-label', 'Select all rows');\n                }\n            },\n            _uncheckCheckBoxes: function () {\n                var that = this;\n                var tables = that.table.add(that.lockedTable);\n                tables.find('tbody ' + CHECKBOXINPUT).attr('aria-checked', false).prop('checked', false).attr('aria-label', 'Select row');\n            },\n            _deselectCheckRows: function (items) {\n                var that = this;\n                items = that.table.add(that.lockedTable).find(items);\n                if (that._isLocked()) {\n                    items = items.add(items.map(function () {\n                        return that._relatedRow(this);\n                    }));\n                }\n                items.each(function () {\n                    $(this).removeClass(SELECTED).find(CHECKBOXINPUT).attr('aria-checked', false).prop('checked', false).attr('aria-label', 'Select row');\n                });\n                that._toggleHeaderCheckState(false);\n                that._persistSelectedRows();\n                that.trigger(CHANGE);\n            },\n            _checkRows: function (items) {\n                items.each(function () {\n                    $(this).addClass(SELECTED).find(CHECKBOXINPUT).prop('checked', true).attr('aria-label', 'Deselect row').attr('aria-checked', true);\n                });\n            },\n            _persistSelectedRows: function () {\n                var that = this, key, dataItem, allRows = that.items(), dataSourceOptions = that.dataSource.options, schema = dataSourceOptions.schema, modelId, selectedViewIds = {};\n                if (!schema || !schema.model || !that._data) {\n                    return;\n                }\n                modelId = isFunction(schema.model) ? schema.model.fn.idField : schema.model.id;\n                if (!modelId) {\n                    return;\n                }\n                that.select().each(function () {\n                    dataItem = that.dataItem(this);\n                    selectedViewIds[dataItem[modelId]] = true;\n                });\n                for (var i = 0; i < allRows.length; i++) {\n                    dataItem = that.dataItem(allRows[i]);\n                    key = dataItem[modelId];\n                    if (selectedViewIds[key]) {\n                        that._selectedIds[key] = true;\n                    } else {\n                        delete that._selectedIds[key];\n                    }\n                }\n            },\n            selectedKeyNames: function () {\n                var that = this, ids = [];\n                for (var property in that._selectedIds) {\n                    ids.push(property);\n                }\n                ids.sort();\n                return ids;\n            },\n            _updateCurrentAttr: function (current, next) {\n                var headerId = $(current).data('headerId');\n                $(current).removeClass(FOCUSED).closest('table').removeAttr('aria-activedescendant');\n                if (headerId) {\n                    headerId = headerId.replace(this._cellId, '');\n                    $(current).attr('id', headerId);\n                } else {\n                    $(current).removeAttr('id');\n                }\n                next.data('headerId', next.attr('id')).attr('id', this._cellId).addClass(FOCUSED).closest('table').attr('aria-activedescendant', this._cellId);\n                this._current = next;\n            },\n            _scrollCurrent: function () {\n                var current = this._current;\n                var scrollable = this.options.scrollable;\n                if (!current || !scrollable) {\n                    return;\n                }\n                var row = current.parent();\n                var tableContainer = row.closest('table').parent();\n                var isInLockedContainer = tableContainer.is('.k-grid-content-locked,.k-grid-header-locked');\n                var isInContent = tableContainer.is('.k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap');\n                var scrollableContainer = $(this.content).find('>.k-virtual-scrollable-wrap').addBack().last()[0];\n                if (isInContent) {\n                    if (scrollable.virtual) {\n                        var rowIndex = Math.max(inArray(row[0], this._items(row.parent())), 0);\n                        this._rowVirtualIndex = this.virtualScrollable.itemIndex(rowIndex);\n                        this.virtualScrollable.scrollIntoView(row);\n                    } else {\n                        this._scrollTo(this._relatedRow(row)[0], scrollableContainer);\n                    }\n                }\n                if (this.lockedContent) {\n                    this.lockedContent[0].scrollTop = scrollableContainer.scrollTop;\n                }\n                if (!isInLockedContainer) {\n                    this._scrollTo(current[0], scrollableContainer);\n                }\n            },\n            current: function (next) {\n                return this._setCurrent(next, true);\n            },\n            _setCurrent: function (next, preventTrigger, preventScroll) {\n                var current = this._current;\n                next = $(next);\n                if (next.length) {\n                    if (!current || current[0] !== next[0]) {\n                        this._updateCurrentAttr(current, next);\n                        if (!preventScroll) {\n                            this._scrollCurrent();\n                        }\n                        if (!preventTrigger) {\n                            this.trigger(NAVIGATE, { element: next });\n                        }\n                    }\n                }\n                if (next && next.length) {\n                    this._lastCellIndex = next.parent().children(DATA_CELL).index(next);\n                }\n                return this._current;\n            },\n            _removeCurrent: function () {\n                if (this._current) {\n                    this._current.removeClass(FOCUSED);\n                    this._current = null;\n                }\n            },\n            _scrollTo: function (element, container) {\n                var elementToLowercase = element.tagName.toLowerCase();\n                var isHorizontal = elementToLowercase === 'td' || elementToLowercase === 'th';\n                var elementOffset = element[isHorizontal ? 'offsetLeft' : 'offsetTop'];\n                var elementOffsetDir = element[isHorizontal ? 'offsetWidth' : 'offsetHeight'];\n                var containerScroll = container[isHorizontal ? 'scrollLeft' : 'scrollTop'];\n                var containerOffsetDir = container[isHorizontal ? 'clientWidth' : 'clientHeight'];\n                var bottomDistance = elementOffset + elementOffsetDir;\n                var result = 0;\n                var ieCorrection = 0;\n                var firefoxCorrection = 0;\n                if (isRtl && isHorizontal) {\n                    var table = $(element).closest('table')[0];\n                    if (browser.msie) {\n                        ieCorrection = table.offsetLeft;\n                    } else if (browser.mozilla) {\n                        firefoxCorrection = table.offsetLeft - kendo.support.scrollbar();\n                    }\n                }\n                containerScroll = Math.abs(containerScroll + ieCorrection - firefoxCorrection);\n                if (containerScroll > elementOffset) {\n                    result = elementOffset;\n                } else if (bottomDistance > containerScroll + containerOffsetDir) {\n                    if (elementOffsetDir <= containerOffsetDir) {\n                        result = bottomDistance - containerOffsetDir;\n                    } else {\n                        result = elementOffset;\n                    }\n                } else {\n                    result = containerScroll;\n                }\n                result = Math.abs(result + ieCorrection) + firefoxCorrection;\n                container[isHorizontal ? 'scrollLeft' : 'scrollTop'] = result;\n            },\n            _navigatable: function () {\n                var that = this;\n                if (!that.options.navigatable) {\n                    return;\n                }\n                var dataTables = that.table.add(that.lockedTable);\n                var headerTables = that.thead.parent().add($('>table', that.lockedHeader));\n                var tables = dataTables;\n                if (that.options.scrollable) {\n                    tables = tables.add(headerTables);\n                    headerTables.attr(TABINDEX, -1);\n                }\n                this._navigatableTables = tables;\n                tables.off('mousedown' + NS + ' focus' + NS + ' focusout' + NS + ' keydown' + NS);\n                headerTables.on('keydown' + NS, proxy(that._openHeaderMenu, that)).find('a.k-link').attr('tabIndex', -1);\n                dataTables.attr(TABINDEX, math.max(dataTables.attr(TABINDEX) || 0, 0)).on('keydown' + NS, '.k-detail-cell', function (e) {\n                    if (e.target !== e.currentTarget) {\n                        e.stopImmediatePropagation();\n                    }\n                });\n                tables.on(kendo.support.touch ? 'touchstart' + NS : 'mousedown' + NS, NAVROW + '>' + NAVCELL, proxy(tableClick, that)).on('focus' + NS, proxy(that._tableFocus, that)).on('focusout' + NS, proxy(that._tableBlur, that)).on('keydown' + NS, proxy(that._tableKeyDown, that));\n            },\n            _openHeaderMenu: function (e) {\n                if (e.altKey && e.keyCode == keys.DOWN) {\n                    this.current().find('.k-grid-filter, .k-header-column-menu').click();\n                    e.stopImmediatePropagation();\n                }\n            },\n            _setTabIndex: function (table) {\n                this._navigatableTables.attr(TABINDEX, -1);\n                table.attr(TABINDEX, 0);\n            },\n            _tableFocus: function (e) {\n                var current = this.current();\n                var table = $(e.currentTarget);\n                if (current && current.is(':visible')) {\n                    current.addClass(FOCUSED);\n                } else {\n                    this._setCurrent(table.find(FIRSTNAVITEM));\n                }\n                this._setTabIndex(table);\n            },\n            _tableBlur: function () {\n                var current = this.current();\n                if (current) {\n                    current.removeClass(FOCUSED);\n                }\n            },\n            _tableKeyDown: function (e) {\n                var current = this.current();\n                var requestInProgress = this.virtualScrollable && this.virtualScrollable.fetching();\n                var target = $(e.target);\n                var canHandle = !e.isDefaultPrevented() && !target.is(':button,a,:input,a>.k-icon');\n                if (requestInProgress) {\n                    e.preventDefault();\n                    return;\n                }\n                current = current ? current : $(this.lockedTable).add(this.options.scrollable ? this.table : this.tbody).find(FIRSTNAVITEM);\n                if (!current.length) {\n                    return;\n                }\n                var handled = false;\n                if (canHandle && e.keyCode == keys.UP) {\n                    handled = this._moveUp(current, e.shiftKey);\n                }\n                if (canHandle && e.keyCode == keys.DOWN) {\n                    handled = this._moveDown(current, e.shiftKey);\n                }\n                if (canHandle && e.keyCode == (isRtl ? keys.LEFT : keys.RIGHT)) {\n                    handled = this._moveRight(current, e.altKey, e.shiftKey, e.ctrlKey, e.currentTarget);\n                }\n                if (canHandle && e.keyCode == (isRtl ? keys.RIGHT : keys.LEFT)) {\n                    handled = this._moveLeft(current, e.altKey, e.shiftKey, e.ctrlKey, e.currentTarget);\n                }\n                if (canHandle && e.keyCode == keys.PAGEDOWN) {\n                    handled = this._handlePageDown();\n                }\n                if (canHandle && e.keyCode == keys.PAGEUP) {\n                    handled = this._handlePageUp();\n                }\n                if (canHandle && e.keyCode == keys.HOME) {\n                    handled = this._handleHome(current, e.ctrlKey);\n                }\n                if (canHandle && e.keyCode == keys.END) {\n                    handled = this._handleEnd(current, e.ctrlKey);\n                }\n                if (canHandle && e.keyCode == keys.SPACEBAR) {\n                    handled = this._handleSpaceKey(current, e.ctrlKey);\n                }\n                if (e.keyCode == keys.ENTER || e.keyCode == keys.F2) {\n                    handled = this._handleEnterKey(current, e.currentTarget, target);\n                }\n                if (e.keyCode == keys.ESC) {\n                    handled = this._handleEscKey(current, e.currentTarget);\n                }\n                if (e.keyCode == keys.TAB) {\n                    handled = this._handleTabKey(current, e.currentTarget, e.shiftKey);\n                }\n                if (handled) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            },\n            _moveLeft: function (current, altKey, shiftKey, ctrlKey, currentTable) {\n                var next, index;\n                var row = current.parent();\n                var container = row.parent();\n                if (altKey) {\n                    this.collapseRow(row);\n                } else if (ctrlKey && current.is('.k-header') && this.options.reorderable) {\n                    this._moveColumn(current, true);\n                } else {\n                    index = container.find(NAVROW).index(row);\n                    next = this._prevHorizontalCell(container, current, index);\n                    if (!next[0]) {\n                        if (shiftKey) {\n                            if (this.lockedTable) {\n                                next = this._relatedRow(row);\n                                if ($.contains(this.lockedTable[0], row[0])) {\n                                    next = next.prevAll(ITEMROW + ':first');\n                                }\n                                next = next.children(DATA_CELL + ':last');\n                            } else {\n                                next = this._tabNext(current, currentTable, true);\n                            }\n                        } else {\n                            container = this._horizontalContainer(container);\n                            next = this._prevHorizontalCell(container, current, index);\n                            if (next[0] !== current[0]) {\n                                focusTable(container.parent(), true);\n                            }\n                        }\n                    }\n                    this._setCurrent(next);\n                }\n                return true;\n            },\n            _moveRight: function (current, altKey, shiftKey, ctrlKey, currentTable) {\n                var next, index;\n                var row = current.parent();\n                var container = row.parent();\n                if (altKey) {\n                    this.expandRow(row);\n                } else if (ctrlKey && current.is('.k-header') && this.options.reorderable) {\n                    this._moveColumn(current, false);\n                } else {\n                    index = container.find(NAVROW).index(row);\n                    next = this._nextHorizontalCell(container, current, index);\n                    if (!next[0]) {\n                        if (shiftKey) {\n                            if (this.lockedTable) {\n                                next = this._relatedRow(row);\n                                if ($.contains(this.table[0], row[0])) {\n                                    next = next.nextAll(ITEMROW + ':first');\n                                }\n                                next = next.children(DATA_CELL + ':first');\n                            } else {\n                                next = this._tabNext(current, currentTable, false);\n                            }\n                        } else {\n                            container = this._horizontalContainer(container, true);\n                            next = this._nextHorizontalCell(container, current, index);\n                            if (next[0] !== current[0]) {\n                                focusTable(container.parent(), true);\n                            }\n                        }\n                    }\n                    this._setCurrent(next);\n                }\n                return true;\n            },\n            _moveUp: function (current, shiftKey) {\n                var container = current.parent().parent();\n                var next;\n                if (shiftKey) {\n                    next = current.parent();\n                    next = next.prevAll(ITEMROW + ':first');\n                    next = current.parent().is(ITEMROW) ? next.children().eq(current.index()) : next.children(DATA_CELL + ':last');\n                } else {\n                    next = this._prevVerticalCell(container, current);\n                    if (!next[0]) {\n                        this._lastCellIndex = 0;\n                        container = this._verticalContainer(container, true);\n                        next = this._prevVerticalCell(container, current);\n                        if (next[0]) {\n                            focusTable(container.parent(), true);\n                        }\n                    }\n                }\n                var tmp = this._lastCellIndex || 0;\n                this._setCurrent(next);\n                this._lastCellIndex = tmp;\n                return true;\n            },\n            _moveDown: function (current, shiftKey) {\n                var container = current.parent().parent();\n                var next;\n                if (shiftKey) {\n                    next = current.parent();\n                    next = next.nextAll(ITEMROW + ':first');\n                    next = current.parent().is(ITEMROW) ? next.children().eq(current.index()) : next.children(DATA_CELL + ':first');\n                } else {\n                    next = this._nextVerticalCell(container, current);\n                    if (!next[0]) {\n                        this._lastCellIndex = 0;\n                        container = this._verticalContainer(container);\n                        next = this._nextVerticalCell(container, current);\n                        if (next[0]) {\n                            focusTable(container.parent(), true);\n                        }\n                    }\n                }\n                var tmp = this._lastCellIndex || 0;\n                this._setCurrent(next);\n                this._lastCellIndex = tmp;\n                return true;\n            },\n            _moveColumn: function (current, isLeft) {\n                var elements = this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter + ':visible');\n                var columns = visibleColumns(flatColumnsInDomOrder(this.columns));\n                var oldIndex = elements.index($(current));\n                var offset = isLeft ? -1 : 1;\n                var column = columns[oldIndex];\n                var newIndex = targetParentContainerIndex(columns, this.columns, oldIndex, oldIndex + offset);\n                if (newIndex >= 0) {\n                    this.reorderColumn(newIndex, column, isLeft);\n                }\n            },\n            _handleHome: function (current, ctrl) {\n                var row = current.parent();\n                var rowContainer = row.parent();\n                var isInLockedTable = this.lockedTable && this.lockedTable.children('tbody')[0] === rowContainer[0];\n                var isInBody = rowContainer[0] === this.tbody[0];\n                var prev;\n                if (ctrl) {\n                    if (this.lockedTable) {\n                        prev = this.lockedTable.find(FIRSTITEMROW + '>' + NAVCELL + ':first');\n                    } else {\n                        prev = this.table.find(FIRSTITEMROW + '>' + NAVCELL + ':first');\n                    }\n                } else if (isInBody || isInLockedTable) {\n                    if (isInBody && this.lockedTable) {\n                        row = this._relatedRow(row);\n                    }\n                    prev = row.children(DATA_CELL + ':first');\n                }\n                if (prev && prev.length) {\n                    this._setCurrent(prev);\n                    return true;\n                }\n            },\n            _handleEnd: function (current, ctrl) {\n                var row = current.parent();\n                var rowContainer = row.parent();\n                var isInLockedTable = this.lockedTable && this.lockedTable.children('tbody')[0] === rowContainer[0];\n                var isInBody = rowContainer[0] === this.tbody[0];\n                var next;\n                if (ctrl) {\n                    next = this.table.find(LASTITEMROW + '>' + NAVCELL + ':last');\n                } else if (isInBody || isInLockedTable) {\n                    if (!isInBody && this.lockedTable) {\n                        row = this._relatedRow(row);\n                    }\n                    next = row.children(DATA_CELL + ':last');\n                }\n                if (next && next.length) {\n                    this._setCurrent(next);\n                    return true;\n                }\n            },\n            _handlePageDown: function () {\n                if (!this.options.pageable) {\n                    return false;\n                }\n                this.dataSource.page(this.dataSource.page() + 1);\n                return true;\n            },\n            _handlePageUp: function () {\n                if (!this.options.pageable) {\n                    return false;\n                }\n                this.dataSource.page(this.dataSource.page() - 1);\n                return true;\n            },\n            _handleTabKey: function (current, currentTable, shiftKey) {\n                var isInCell = this.options.editable && this._editMode() == 'incell';\n                var cell;\n                if (!isInCell || current.is('th')) {\n                    return false;\n                }\n                cell = $(activeElement()).closest('.k-edit-cell');\n                if (cell[0] && cell[0] !== current[0]) {\n                    current = cell;\n                }\n                cell = this._tabNext(current, currentTable, shiftKey);\n                if (cell.length) {\n                    this._handleEditing(current, cell, cell.closest('table'));\n                    return true;\n                }\n                return false;\n            },\n            _handleEscKey: function (current, currentTable) {\n                var active = activeElement();\n                var isInCell = this._editMode() == 'incell';\n                if (!isInEdit(current)) {\n                    if (current.has(active).length) {\n                        focusTable(currentTable, true);\n                        return true;\n                    }\n                    return false;\n                }\n                if (isInCell) {\n                    this.closeCell(true);\n                } else {\n                    var currentIndex = $(current).parent().index();\n                    if (active) {\n                        active.blur();\n                    }\n                    this.cancelRow(true);\n                    if (currentIndex >= 0) {\n                        this._setCurrent(this.items().eq(currentIndex).children(NAVCELL).first());\n                    }\n                }\n                if (browser.msie && browser.version < 9) {\n                    document.body.focus();\n                }\n                focusTable(currentTable, true);\n                return true;\n            },\n            _toggleCurrent: function (current, editable) {\n                var row = current.parent();\n                if (row.is('.k-grouping-row')) {\n                    row.find('.k-icon:first').click();\n                    return true;\n                }\n                if (!editable && row.is('.k-master-row')) {\n                    row.find('.k-icon:first').click();\n                    return true;\n                }\n                return false;\n            },\n            _handleSpaceKey: function (current, ctrlKey) {\n                var that = this;\n                if (!ctrlKey || !that.groupable || !current.hasClass('k-header')) {\n                    return;\n                }\n                var descriptors = that.groupable.descriptors();\n                var field = current.attr(kendo.attr('field'));\n                var aggregates = that.groupable.aggregates();\n                var label = current.attr(kendo.attr('title')) || field;\n                if (that.groupable._canDrag(current)) {\n                    descriptors.push({\n                        field: field,\n                        dir: 'asc',\n                        aggregates: aggregates || []\n                    });\n                    label += ' ' + that.options.messages.ungroupHeader;\n                } else {\n                    descriptors = $.grep(descriptors, function (item) {\n                        return item.field !== field;\n                    });\n                    label += ' ' + that.options.messages.groupHeader;\n                }\n                current.attr('aria-label', label);\n                that.dataSource.group(descriptors);\n                return true;\n            },\n            _handleEnterKey: function (current, currentTable, target) {\n                var editable = this.options.editable && this.options.editable.update !== false;\n                var container = target.closest('[role=gridcell]');\n                var link;\n                if (!target.is('table') && !$.contains(current[0], target[0])) {\n                    current = container;\n                }\n                if (current.is('th')) {\n                    link = current.find('.k-link');\n                    if (link.length) {\n                        link.click();\n                    } else {\n                        current.find(CHECKBOXINPUT).focus();\n                    }\n                    return true;\n                }\n                if (this._toggleCurrent(current, editable)) {\n                    return true;\n                }\n                var focusable = current.find(':kendoFocusable:first');\n                if (focusable[0] && !current.hasClass('k-edit-cell') && current.hasClass('k-state-focused')) {\n                    focusable.focus();\n                    return true;\n                }\n                if (editable && !target.is(':button,.k-button,textarea')) {\n                    if (!container[0]) {\n                        container = current;\n                    }\n                    this._handleEditing(container, false, currentTable);\n                    return true;\n                }\n                return false;\n            },\n            _nextHorizontalCell: function (table, current, originalIndex) {\n                var cells = current.nextAll(DATA_CELL);\n                if (!cells.length) {\n                    var rows = table.find(NAVROW);\n                    var rowIndex = rows.index(current.parent());\n                    if (rowIndex == -1) {\n                        if (current.hasClass('k-header')) {\n                            var headerRows = [];\n                            mapColumnToCellRows([lockedColumns(this.columns)[0]], childColumnsCells(rows.eq(0).children(':visible').first()), headerRows, 0, 0);\n                            if (headerRows[originalIndex]) {\n                                return headerRows[originalIndex][0];\n                            }\n                            return current;\n                        }\n                        if (current.parent().hasClass('k-filter-row')) {\n                            return rows.last().children(DATA_CELL).first();\n                        }\n                        return rows.eq(originalIndex).children(DATA_CELL).first();\n                    }\n                }\n                return cells.first();\n            },\n            _prevHorizontalCell: function (table, current, originalIndex) {\n                var cells = current.prevAll(DATA_CELL);\n                if (!cells.length) {\n                    var rows = table.find(NAVROW);\n                    var rowIndex = rows.index(current.parent());\n                    if (rowIndex == -1) {\n                        if (current.hasClass('k-header')) {\n                            var headerRows = [];\n                            var columns = lockedColumns(this.columns);\n                            mapColumnToCellRows([columns[columns.length - 1]], childColumnsCells(rows.eq(0).children().last()), headerRows, 0, 0);\n                            if (headerRows[originalIndex]) {\n                                return headerRows[originalIndex][0];\n                            }\n                            return current;\n                        }\n                        if (current.parent().hasClass('k-filter-row')) {\n                            return rows.last().children(DATA_CELL).last();\n                        }\n                        return rows.eq(originalIndex).children(DATA_CELL).last();\n                    }\n                }\n                return cells.first();\n            },\n            _currentDataIndex: function (table, current) {\n                var index = current.attr('data-index');\n                if (!index) {\n                    return undefined;\n                }\n                var lockedColumnsCount = lockedColumns(this.columns).length;\n                if (lockedColumnsCount && !table.closest('div').hasClass('k-grid-content-locked')[0]) {\n                    return index - lockedColumnsCount;\n                }\n                return index;\n            },\n            _prevVerticalCell: function (container, current) {\n                var cells;\n                var row = current.parent();\n                var rows = container.children(NAVROW);\n                var rowIndex = rows.index(row);\n                var index = this._currentDataIndex(container, current);\n                if (index || current.hasClass('k-header')) {\n                    cells = parentColumnsCells(current);\n                    return cells.eq(cells.length - 2);\n                }\n                index = Math.max(row.children(DATA_CELL).index(current), this._lastCellIndex || 0);\n                if (row.hasClass('k-filter-row')) {\n                    return leafDataCells(container).filter(isCellVisible).eq(index);\n                }\n                if (rowIndex == -1) {\n                    row = container.find('tr.k-filter-row:visible');\n                    if (!row[0]) {\n                        if ((this._hasDetails() || current.parent().find('.k-hierarchy-cell').length) && index) {\n                            index--;\n                        }\n                        return leafDataCells(container).filter(isCellVisible).eq(index);\n                    }\n                } else {\n                    row = rowIndex === 0 ? $() : rows.eq(rowIndex - 1);\n                }\n                cells = row.children(DATA_CELL);\n                if (cells.length > index) {\n                    return cells.eq(index);\n                }\n                return cells.eq(0);\n            },\n            _nextVerticalCell: function (container, current) {\n                var cells;\n                var row = current.parent();\n                var rows = container.children(NAVROW);\n                var rowIndex = rows.index(row);\n                var index = this._currentDataIndex(container, current);\n                if (rowIndex != -1 && index === undefined && current.hasClass('k-header')) {\n                    return childColumnsCells(current).eq(1);\n                }\n                index = index ? parseInt(index, 10) : row.children(DATA_CELL).index(current);\n                index = Math.max(index, this._lastCellIndex || 0);\n                if (rowIndex == -1) {\n                    row = rows.eq(0);\n                    if (this._hasDetails() || row.find('.k-hierarchy-cell').length) {\n                        index++;\n                    }\n                } else {\n                    row = rows.eq(rowIndex + current[0].rowSpan);\n                }\n                var tmpIndex = index;\n                if (this._currentDataIndex(container, current) !== undefined) {\n                    var currentRowCells = row.children(':not(.k-group-cell):not(.k-hierarchy-cell)');\n                    var hiddenColumns = currentRowCells.filter(':hidden');\n                    for (var idx = 0, length = hiddenColumns.length; idx < length; idx++) {\n                        if (currentRowCells.index(hiddenColumns[idx]) < index) {\n                            tmpIndex--;\n                        }\n                    }\n                }\n                index = tmpIndex;\n                cells = row.children(DATA_CELL);\n                if (cells.length > index) {\n                    return cells.eq(index);\n                }\n                return cells.eq(0);\n            },\n            _verticalContainer: function (container, up) {\n                var table = container.parent();\n                var length = this._navigatableTables.length;\n                var step = Math.floor(length / 2);\n                var index = inArray(table[0], this._navigatableTables);\n                if (up) {\n                    step *= -1;\n                }\n                index += step;\n                if (index >= 0 || index < length) {\n                    table = this._navigatableTables.eq(index);\n                }\n                return table.find(up ? '>thead' : '>tbody');\n            },\n            _horizontalContainer: function (container, right) {\n                var length = this._navigatableTables.length;\n                if (length <= 2) {\n                    return container;\n                }\n                var table = container.parent();\n                var index = inArray(table[0], this._navigatableTables);\n                index += right ? 1 : -1;\n                if (right && (index == 2 || index == length)) {\n                    return container;\n                }\n                if (!right && (index == 1 || index < 0)) {\n                    return container;\n                }\n                return this._navigatableTables.eq(index).find('thead, tbody');\n            },\n            _tabNext: function (current, currentTable, back) {\n                var switchRow = true;\n                var next = back ? current.prevAll(DATA_CELL + ':first') : current.nextAll(':visible:first');\n                if (!next.length) {\n                    next = current.parent();\n                    if (this.lockedTable) {\n                        switchRow = back && currentTable == this.lockedTable[0] || !back && currentTable == this.table[0];\n                        next = this._relatedRow(next);\n                    }\n                    if (switchRow) {\n                        next = next[back ? 'prevAll' : 'nextAll']('tr:not(.k-grouping-row):not(.k-detail-row):visible:first');\n                    }\n                    next = next.children(DATA_CELL + (back ? ':last' : ':first'));\n                }\n                return next;\n            },\n            _handleEditing: function (current, next, table) {\n                var that = this, active = $(activeElement()), mode = that._editMode(), isIE = browser.msie, oldIE = isIE && browser.version < 9, editContainer = that._editContainer, focusable, editable = that.options.editable && that.options.editable.update !== false, isEdited;\n                table = $(table);\n                if (mode == 'incell') {\n                    isEdited = current.hasClass('k-edit-cell');\n                } else {\n                    isEdited = current.parent().hasClass('k-grid-edit-row');\n                }\n                if (that.editable) {\n                    if ($.contains(editContainer[0], active[0])) {\n                        if (browser.opera || oldIE) {\n                            active.blur().change().triggerHandler('blur');\n                        } else {\n                            active.blur();\n                            if (isIE) {\n                                active.blur();\n                            }\n                        }\n                    }\n                    if (!that.editable) {\n                        focusTable(table);\n                        return;\n                    }\n                    if (that.editable.end()) {\n                        if (mode == 'incell') {\n                            that.closeCell();\n                        } else {\n                            that.saveRow();\n                            isEdited = true;\n                        }\n                    } else {\n                        if (mode == 'incell') {\n                            that._setCurrent(editContainer);\n                        } else {\n                            that._setCurrent(editContainer.children().filter(DATA_CELL).first());\n                        }\n                        focusable = editContainer.find(':kendoFocusable:first')[0];\n                        if (focusable) {\n                            focusable.focus();\n                        }\n                        return;\n                    }\n                }\n                if (next) {\n                    that._setCurrent(next);\n                }\n                if (oldIE) {\n                    document.body.focus();\n                }\n                focusTable(table, true);\n                if (!editable) {\n                    return;\n                }\n                if (!isEdited && !next || next) {\n                    if (mode === INCELL) {\n                        if (!$(that.current()).hasClass(HIERARCHY_CELL_CLASS)) {\n                            that.editCell(that.current());\n                        }\n                    } else {\n                        that.editRow(that.current().parent());\n                    }\n                }\n            },\n            _wrapper: function () {\n                var that = this, table = that.table, height = that.options.height, wrapper = that.element;\n                if (!wrapper.is('div')) {\n                    wrapper = wrapper.wrap('<div/>').parent();\n                }\n                that.wrapper = wrapper.addClass('k-grid k-widget k-display-block');\n                if (height) {\n                    that.wrapper.css(HEIGHT, height);\n                    table.css(HEIGHT, 'auto');\n                }\n                that._initMobile();\n            },\n            _initMobile: function () {\n                var options = this.options;\n                var that = this;\n                this._isMobile = options.mobile === true && kendo.support.mobileOS || options.mobile === 'phone' || options.mobile === 'tablet';\n                if (this._isMobile) {\n                    var html = this.wrapper.addClass('k-grid-mobile').wrap('<div data-' + kendo.ns + 'stretch=\"true\" data-' + kendo.ns + 'role=\"view\" ' + 'data-' + kendo.ns + 'init-widgets=\"false\"></div>').parent();\n                    this.pane = kendo.mobile.ui.Pane.wrap(html);\n                    this.view = this.pane.view();\n                    this._actionSheetPopupOptions = $(document.documentElement).hasClass('km-root') ? { modal: false } : {\n                        align: 'bottom center',\n                        position: 'bottom center',\n                        effect: 'slideIn:up'\n                    };\n                    if (options.height) {\n                        this.pane.element.parent().css(HEIGHT, options.height);\n                    }\n                    this._editAnimation = 'slide';\n                    this.view.bind('show', function () {\n                        if (that._isLocked()) {\n                            that._updateTablesWidth();\n                            that._applyLockedContainersWidth();\n                            that._syncLockedContentHeight();\n                            that._syncLockedHeaderHeight();\n                            that._syncLockedFooterHeight();\n                        }\n                    });\n                }\n            },\n            _tbody: function () {\n                var that = this, table = that.table, tbody;\n                tbody = table.find('>tbody');\n                if (!tbody.length) {\n                    tbody = $('<tbody/>').appendTo(table);\n                }\n                that.tbody = tbody.attr('role', 'rowgroup');\n            },\n            _scrollable: function () {\n                var that = this, header, table, options = that.options, scrollable = options.scrollable, hasVirtualScroll = scrollable !== true && scrollable.virtual && !that.virtualScrollable, scrollbar = !kendo.support.kineticScrollNeeded || hasVirtualScroll ? kendo.support.scrollbar() : 0, headerWrap;\n                if (scrollable) {\n                    header = that.wrapper.children('.k-grid-header');\n                    if (!header[0]) {\n                        header = $('<div class=\"k-grid-header\" />').insertBefore(that.table);\n                    }\n                    header.css(isRtl ? 'padding-left' : 'padding-right', scrollable.virtual ? scrollbar + 1 : scrollbar);\n                    table = $('<table role=\"grid\" />');\n                    if (isIE7) {\n                        table.attr('cellspacing', 0);\n                    }\n                    table.width(that.table[0].style.width);\n                    table.append(that.thead);\n                    header.empty().append($('<div class=\"k-grid-header-wrap k-auto-scrollable\" />').append(table));\n                    that.content = that.table.parent();\n                    if (that.content.is('.k-virtual-scrollable-wrap, .km-scroll-container')) {\n                        that.content = that.content.parent();\n                    }\n                    if (!that.content.is('.k-grid-content, .k-virtual-scrollable-wrap')) {\n                        that.content = that.table.wrap('<div class=\"k-grid-content k-auto-scrollable\" />').parent();\n                    }\n                    if (hasVirtualScroll) {\n                        that._createVirtualScrollable();\n                    }\n                    headerWrap = header.children('.k-grid-header-wrap');\n                    that.scrollables = headerWrap.add(that.content);\n                    var footer = that.wrapper.find('.k-grid-footer');\n                    if (footer.length) {\n                        that.scrollables = that.scrollables.add(footer.children('.k-grid-footer-wrap'));\n                    }\n                    headerWrap.unbind('scroll' + NS).bind('scroll' + NS, function (e) {\n                        if (that._scrollLeft !== this.scrollLeft) {\n                            that.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft);\n                        }\n                    });\n                    if (scrollable.virtual) {\n                        that.content.find('>.k-virtual-scrollable-wrap').unbind('scroll' + NS).bind('scroll' + NS, function () {\n                            that.scrollables.scrollLeft(this.scrollLeft);\n                            if (that.lockedContent) {\n                                that.lockedContent[0].scrollTop = this.scrollTop;\n                            }\n                        });\n                    } else {\n                        var endless = scrollable.endless;\n                        var originalPageSize = that.dataSource.options.pageSize;\n                        if (endless) {\n                            that._endlessPageSize = originalPageSize;\n                        }\n                        that.content.unbind('scroll' + NS).bind('scroll' + NS, function (e) {\n                            that._scrollLeft = this.scrollLeft;\n                            that.scrollables.not(e.currentTarget).scrollLeft(that._scrollLeft);\n                            if (that.lockedContent && e.currentTarget == that.content[0]) {\n                                that.lockedContent[0].scrollTop = this.scrollTop;\n                            }\n                            if (endless) {\n                                if (this.scrollTop + this.clientHeight - this.scrollHeight >= -10 && !that._endlessFetchInProgress && that._endlessPageSize < that.dataSource.total()) {\n                                    that._skipRerenderItemsCount = that._endlessPageSize;\n                                    that._endlessPageSize = that._endlessPageSize + originalPageSize;\n                                    that.dataSource.options.endless = true;\n                                    that._endlessFetchInProgress = true;\n                                    that.dataSource.pageSize(that._endlessPageSize);\n                                }\n                            }\n                        });\n                        var touchScroller = that.content.data('kendoTouchScroller');\n                        if (touchScroller) {\n                            touchScroller.destroy();\n                        }\n                        touchScroller = kendo.touchScroller(that.content);\n                        if (touchScroller && touchScroller.movable) {\n                            that.touchScroller = touchScroller;\n                            touchScroller.movable.bind('change', function (e) {\n                                that.scrollables.scrollLeft(-e.sender.x);\n                                if (that.lockedContent) {\n                                    that.lockedContent.scrollTop(-e.sender.y);\n                                }\n                            });\n                            that.one(DATABOUND, function (e) {\n                                e.sender.wrapper.addClass('k-grid-backface');\n                            });\n                        }\n                    }\n                }\n            },\n            _createVirtualScrollable: function () {\n                var that = this;\n                if (that.virtualScrollable) {\n                    that.virtualScrollable.destroy();\n                }\n                that.virtualScrollable = new VirtualScrollable(that.content, {\n                    dataSource: that.dataSource,\n                    itemHeight: function () {\n                        return that._averageRowHeight();\n                    },\n                    page: function () {\n                        that._restoreEditableState();\n                    },\n                    scroll: function () {\n                        that._focusEditable();\n                    }\n                });\n                that.virtualScrollable.bind(PAGING, proxy(that._onVirtualPaging, that));\n            },\n            _onVirtualPaging: function () {\n                var that = this;\n                that._cacheEditableState();\n                if (that._isVirtualIncellEditable()) {\n                    that._shouldClearEditableState = false;\n                    that.closeCell();\n                    that._shouldClearEditableState = true;\n                }\n            },\n            _isVirtualEditable: function () {\n                return this._isVirtualIncellEditable() || this._isVirtualInlineEditable() || this._isVirtualPopupEditable();\n            },\n            _isVirtualInlineEditable: function () {\n                return this.virtualScrollable && this._editMode() === INLINE;\n            },\n            _isVirtualIncellEditable: function () {\n                return this.virtualScrollable && this._editMode() === INCELL;\n            },\n            _isVirtualPopupEditable: function () {\n                return this.virtualScrollable && this._editMode() === 'popup';\n            },\n            _scrollVirtualWrapper: function () {\n                var that = this;\n                var scrollable = that.virtualScrollable;\n                if (that._isVirtualInlineEditable() || that._isVirtualIncellEditable()) {\n                    if (scrollable._isScrolledToBottom()) {\n                        scrollable._scrollWrapperToBottom();\n                    } else if (scrollable._isScrolledToTop()) {\n                        scrollable._scrollWrapperToTop();\n                    }\n                }\n            },\n            _scrollVirtualWrapperOnColumnResize: function () {\n                var virtualScrollable = this.virtualScrollable;\n                if (virtualScrollable) {\n                    virtualScrollable._scrollWrapperOnColumnResize();\n                }\n            },\n            _restoreEditableState: function () {\n                var that = this;\n                var editableState = that._editableState || {};\n                var editedModel = editableState.model;\n                var dataSource = that.dataSource;\n                var inlineMode = that._isVirtualInlineEditable();\n                var incellMode = that._isVirtualIncellEditable();\n                var row;\n                var cell;\n                if ((inlineMode || incellMode) && editedModel && dataSource._getByUid(editedModel.uid, dataSource.view())) {\n                    if (inlineMode) {\n                        that._shouldClearEditableState = false;\n                        that.editRow(editedModel);\n                        that._focusEditable();\n                    } else if (incellMode) {\n                        row = that.tbody.children(attrEquals(UNIQUE_ID, editedModel.uid));\n                        cell = $(row).children(attrEquals(FIELD, editableState.field));\n                        if (cell[0]) {\n                            that._shouldClearEditableState = false;\n                            that.editCell(cell);\n                            that._focusEditable();\n                        }\n                    }\n                }\n                that._shouldClearEditableState = true;\n            },\n            _focusEditable: function () {\n                var that = this;\n                var editedField = (that._editableState || {}).field;\n                var editContainer = that._editContainer;\n                if (editContainer && !contains(editContainer[0], activeElement()) && that._canFocusEditable()) {\n                    if (that._isVirtualInlineEditable()) {\n                        editContainer.find(attrEquals(CONTAINER_FOR, editedField)).find(FOCUSABLE).eq(0).focus();\n                    } else if (that._isVirtualIncellEditable()) {\n                        editContainer.find(FOCUSABLE).eq(0).focus();\n                    }\n                }\n            },\n            _canFocusEditable: function () {\n                var that = this;\n                return (that._isVirtualIncellEditable() || that._isVirtualInlineEditable()) && that.virtualScrollable._isElementVisible(that._editContainer);\n            },\n            _cacheEditableState: function () {\n                var that = this;\n                var editContainer = that._editContainer;\n                var editedModel = editContainer ? that._modelForContainer(editContainer) : null;\n                var inlineMode = that._isVirtualInlineEditable();\n                var incellMode = that._isVirtualIncellEditable();\n                var active;\n                var widget;\n                if ((inlineMode || incellMode) && editedModel) {\n                    that._clearEditableState();\n                    active = $(activeElement());\n                    if (editContainer && active[0] && contains(editContainer[0], active[0])) {\n                        active.change();\n                        widget = kendo.widgetInstance(active, kendo.ui);\n                        if (widget && isFunction(widget.value) && active.is(INPUT)) {\n                            widget.value(active.val());\n                            widget.trigger(CHANGE);\n                        }\n                    }\n                    if (inlineMode) {\n                        that._editableState = {\n                            model: editedModel,\n                            field: active.closest('[' + kendo.attr(CONTAINER_FOR) + ']').attr(kendo.attr(CONTAINER_FOR))\n                        };\n                    } else if (incellMode) {\n                        that._editableState = {\n                            model: editedModel,\n                            field: editContainer.attr(kendo.attr(FIELD))\n                        };\n                    }\n                }\n            },\n            _clearEditableState: function () {\n                var that = this;\n                if (that.virtualScrollable) {\n                    that._editableState = null;\n                }\n            },\n            _destroyVirtualScrollable: function () {\n                var that = this;\n                that._clearEditableState();\n                if (that.virtualScrollable && that.virtualScrollable.element) {\n                    that.virtualScrollable.destroy();\n                }\n                that.virtualScrollable = null;\n            },\n            _renderNoRecordsContent: function () {\n                var that = this;\n                if (that.options.noRecords) {\n                    var noRecordsElement = that.table.parent().children('.' + NORECORDSCLASS);\n                    if (noRecordsElement.length) {\n                        that.angular('cleanup', function () {\n                            return { elements: noRecordsElement.get() };\n                        });\n                        noRecordsElement.remove();\n                    }\n                    if (!that.dataSource || !that.dataSource.view().length) {\n                        noRecordsElement = $(that.noRecordsTemplate({})).insertAfter(that.table);\n                        that.angular('compile', function () {\n                            return {\n                                elements: noRecordsElement.get(),\n                                data: [{}]\n                            };\n                        });\n                    }\n                }\n            },\n            _setContentWidth: function (scrollLeft) {\n                var that = this, hiddenDivClass = 'k-grid-content-expander', hiddenDiv = '<div class=\"' + hiddenDivClass + '\"></div>', resizable = that.resizable, expander;\n                if (that.options.scrollable && that.wrapper.is(':visible')) {\n                    expander = that.table.parent().children('.' + hiddenDivClass);\n                    that._setContentWidthHandler = proxy(that._setContentWidth, that);\n                    if (!that.dataSource || !that.dataSource.view().length) {\n                        if (!expander[0]) {\n                            expander = $(hiddenDiv).appendTo(that.table.parent());\n                            if (resizable) {\n                                resizable.bind('resize', that._setContentWidthHandler);\n                            }\n                        }\n                        if (that.thead) {\n                            expander.width(that.thead.width());\n                            if (!isNaN(parseFloat(scrollLeft, 10))) {\n                                that.content.scrollLeft(scrollLeft);\n                            }\n                        }\n                    } else if (expander[0]) {\n                        expander.remove();\n                        if (resizable) {\n                            resizable.unbind('resize', that._setContentWidthHandler);\n                        }\n                    }\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    if (that.lockedHeader && that.table[0].clientWidth === 0) {\n                        that.table[0].style.width = '1px';\n                    }\n                }\n            },\n            _applyLockedContainersWidth: function () {\n                if (this.options.scrollable && this.lockedHeader) {\n                    var headerTable = this.thead.parent(), headerWrap = headerTable.parent(), contentWidth = this.wrapper[0].clientWidth, groups = this._groups(), scrollbar = kendo.support.scrollbar(), cols = this.lockedHeader.find('>table>colgroup>col:not(.k-group-col, .k-hierarchy-col)'), nonLockedCols = headerTable.find('>colgroup>col:not(.k-group-col, .k-hierarchy-col)'), width = columnsWidth(cols), nonLockedColsWidth = columnsWidth(nonLockedCols), footerWrap;\n                    if (groups > 0) {\n                        width += outerWidth(this.lockedHeader.find('.k-group-cell:first')) * groups;\n                    }\n                    if (width >= contentWidth) {\n                        width = contentWidth - 3 * scrollbar;\n                    }\n                    this.lockedHeader.add(this.lockedContent).width(width);\n                    headerWrap[0].style.width = headerWrap.parent().width() - width - 2 + 'px';\n                    headerTable.add(this.table).width(nonLockedColsWidth);\n                    if (this.virtualScrollable && !isIE11) {\n                        contentWidth -= scrollbar;\n                    }\n                    this.content[0].style.width = contentWidth - width - 2 + 'px';\n                    if (this.lockedFooter && this.lockedFooter.length) {\n                        this.lockedFooter.width(width);\n                        footerWrap = this.footer.find('.k-grid-footer-wrap');\n                        footerWrap[0].style.width = headerWrap[0].clientWidth + 'px';\n                        footerWrap.children().first().width(nonLockedColsWidth);\n                    }\n                }\n            },\n            _setContentHeight: function () {\n                var that = this, options = that.options, height, header = that.wrapper.children('.k-grid-header'), scrollbar = kendo.support.scrollbar();\n                var scrollableHeight = (options.scrollable || {}).height;\n                if (options.scrollable && that.wrapper.is(':visible')) {\n                    if (scrollableHeight && that.content[0].style.height === '') {\n                        that.content[0].style.height = scrollableHeight;\n                    }\n                    height = that.wrapper.innerHeight();\n                    height -= outerHeight(header);\n                    if (that.pager && that.pager.element.is(':visible')) {\n                        height -= outerHeight(that.pager.element);\n                    }\n                    if (options.groupable) {\n                        height -= outerHeight(that.wrapper.children('.k-grouping-header'));\n                    }\n                    if (options.toolbar) {\n                        height -= outerHeight(that.wrapper.children('.k-grid-toolbar'));\n                    }\n                    if (that.footerTemplate) {\n                        height -= outerHeight(that.wrapper.children('.k-grid-footer'));\n                    }\n                    var isGridHeightSet = function (el) {\n                        var initialHeight, newHeight;\n                        if (el[0].style.height) {\n                            return true;\n                        } else {\n                            initialHeight = el.height();\n                        }\n                        el.height('auto');\n                        newHeight = el.height();\n                        if (initialHeight != newHeight) {\n                            el.height('');\n                            return true;\n                        }\n                        el.height('');\n                        return false;\n                    };\n                    if (isGridHeightSet(that.wrapper)) {\n                        if (height > scrollbar * 2) {\n                            if (that.lockedContent) {\n                                scrollbar = that.table[0].offsetWidth > that.table.parent()[0].clientWidth ? scrollbar : 0;\n                                that.lockedContent.height(height - scrollbar);\n                            }\n                            that.content.height(height);\n                        } else {\n                            that.content.height(scrollbar * 2 + 1);\n                        }\n                    }\n                }\n            },\n            _averageRowHeight: function () {\n                var that = this, itemsCount = that._items(that.tbody).length, rowHeight = that._rowHeight;\n                if (itemsCount === 0) {\n                    return rowHeight;\n                }\n                if (!that._rowHeight) {\n                    that._rowHeight = rowHeight = outerHeight(that.table) / itemsCount;\n                    that._sum = rowHeight;\n                    that._measures = 1;\n                }\n                var currentRowHeight = outerHeight(that.table) / itemsCount;\n                if (rowHeight !== currentRowHeight) {\n                    that._measures++;\n                    that._sum += currentRowHeight;\n                    that._rowHeight = that._sum / that._measures;\n                }\n                return rowHeight;\n            },\n            _dataSource: function () {\n                var that = this, options = that.options, pageable, dataSource = options.dataSource;\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (isPlainObject(dataSource)) {\n                    extend(dataSource, {\n                        table: that.table,\n                        fields: that.columns\n                    });\n                    pageable = options.pageable;\n                    if (isPlainObject(pageable) && pageable.pageSize !== undefined) {\n                        dataSource.pageSize = pageable.pageSize;\n                    }\n                }\n                if (that.dataSource && that._refreshHandler) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler).unbind(PROGRESS, that._progressHandler).unbind(ERROR, that._errorHandler);\n                } else {\n                    that._refreshHandler = proxy(that.refresh, that);\n                    that._progressHandler = proxy(that._requestStart, that);\n                    that._errorHandler = proxy(that._error, that);\n                }\n                that.dataSource = DataSource.create(dataSource).bind(CHANGE, that._refreshHandler).bind(PROGRESS, that._progressHandler).bind(ERROR, that._errorHandler);\n            },\n            _error: function () {\n                this._progress(false);\n            },\n            _requestStart: function () {\n                this._progress(true);\n            },\n            _modelChange: function (e) {\n                var that = this, tbody = that.tbody, model = e.model, row = that.tbody.find('tr[' + kendo.attr('uid') + '=' + model.uid + ']'), relatedRow, cell, column, isAlt = row.hasClass('k-alt'), tmp, idx = that._items(tbody).index(row), isLocked = that.lockedContent, selectable, selectableRow, childCells, originalCells, length;\n                if (isLocked) {\n                    relatedRow = that._relatedRow(row);\n                }\n                if (row.add(relatedRow).children('.k-edit-cell').length && !that.options.rowTemplate) {\n                    row.add(relatedRow).children(':not(.k-group-cell,.k-hierarchy-cell)').each(function () {\n                        cell = $(this);\n                        column = leafColumns(that.columns)[that.cellIndex(cell)];\n                        if (column.field === e.field) {\n                            if (!cell.hasClass('k-edit-cell')) {\n                                that._displayCell(cell, column, model);\n                            } else {\n                                cell.addClass('k-dirty-cell');\n                            }\n                        }\n                    });\n                } else if (!row.hasClass('k-grid-edit-row')) {\n                    selectableRow = $().add(row);\n                    if (isLocked) {\n                        tmp = (isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model);\n                        selectableRow = selectableRow.add(relatedRow);\n                        relatedRow.replaceWith(tmp);\n                    }\n                    that.angular('cleanup', function () {\n                        return { elements: selectableRow.get() };\n                    });\n                    tmp = (isAlt ? that.altRowTemplate : that.rowTemplate)(model);\n                    row.replaceWith(tmp);\n                    tmp = that._items(tbody).eq(idx);\n                    var angularData = [{ dataItem: model }];\n                    if (isLocked) {\n                        row = row.add(relatedRow);\n                        relatedRow = that._relatedRow(tmp)[0];\n                        adjustRowHeight(tmp[0], relatedRow);\n                        tmp = tmp.add(relatedRow);\n                        angularData.push({ dataItem: model });\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: tmp.get(),\n                            data: angularData\n                        };\n                    });\n                    selectable = that.options.selectable;\n                    if ((selectable || that._checkBoxSelection) && row.hasClass('k-state-selected')) {\n                        that.select(tmp);\n                    }\n                    originalCells = selectableRow.children(':not(.k-group-cell,.k-hierarchy-cell)');\n                    childCells = tmp.children(':not(.k-group-cell,.k-hierarchy-cell)');\n                    for (idx = 0, length = that.columns.length; idx < length; idx++) {\n                        column = that.columns[idx];\n                        cell = childCells.eq(idx);\n                        if (selectable && originalCells.eq(idx).hasClass('k-state-selected')) {\n                            cell.addClass('k-state-selected');\n                        }\n                    }\n                    that.trigger('itemChange', {\n                        item: tmp,\n                        data: model,\n                        ns: ui\n                    });\n                }\n            },\n            _pageable: function () {\n                var that = this, wrapper, pageable = that.options.pageable;\n                if (pageable) {\n                    wrapper = that.wrapper.children('div.k-grid-pager');\n                    if (!wrapper.length) {\n                        wrapper = $('<div class=\"k-pager-wrap k-grid-pager\"/>').appendTo(that.wrapper);\n                    }\n                    if (that.pager) {\n                        that.pager.destroy();\n                    }\n                    if (typeof pageable === 'object' && pageable instanceof kendo.ui.Pager) {\n                        that.pager = pageable;\n                    } else {\n                        that.pager = new kendo.ui.Pager(wrapper, extend({}, pageable, { dataSource: that.dataSource }));\n                    }\n                    that.pager.bind('pageChange', function (e) {\n                        if (that.trigger('page', { page: e.index })) {\n                            e.preventDefault();\n                        }\n                    });\n                }\n            },\n            _footer: function () {\n                var that = this, aggregates = that.dataSource.aggregates(), html = '', footerTemplate = that.footerTemplate, options = that.options, footerWrap, footer = that.footer || that.wrapper.find('.k-grid-footer');\n                if (footerTemplate) {\n                    html = $(that._wrapFooter(footerTemplate(aggregates)));\n                    if (footer.length) {\n                        var tmp = html;\n                        that.angular('cleanup', function () {\n                            return { elements: footer.get() };\n                        });\n                        footer.replaceWith(tmp);\n                        footer = that.footer = tmp;\n                    } else {\n                        if (options.scrollable) {\n                            footer = that.footer = options.pageable ? html.insertBefore(that.wrapper.children('div.k-grid-pager')) : html.appendTo(that.wrapper);\n                        } else {\n                            footer = that.footer = html.insertBefore(that.tbody);\n                        }\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: footer.find('td:not(.k-group-cell, .k-hierarchy-cell)').get(),\n                            data: map(that.columns, function (col) {\n                                return {\n                                    column: col,\n                                    aggregate: aggregates[col.field]\n                                };\n                            })\n                        };\n                    });\n                } else if (footer && !that.footer) {\n                    that.footer = footer;\n                }\n                if (footer.length) {\n                    if (options.scrollable) {\n                        footerWrap = footer.attr('tabindex', -1).children('.k-grid-footer-wrap');\n                        that.scrollables = $(that.scrollables.filter(function () {\n                            return !$(this).is('.k-grid-footer-wrap');\n                        }).toArray()).add(footerWrap);\n                    }\n                    if (that._footerWidth) {\n                        footer.find('table').css('width', that._footerWidth);\n                    }\n                    if (footerWrap) {\n                        var offset = that.content.scrollLeft();\n                        if (options.scrollable !== true && options.scrollable.virtual) {\n                            offset = that.wrapper.find('.k-virtual-scrollable-wrap').scrollLeft();\n                        }\n                        footerWrap.scrollLeft(offset);\n                    }\n                }\n                if (that.lockedContent) {\n                    that._appendLockedColumnFooter();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedFooterHeight();\n                }\n            },\n            _wrapFooter: function (footerRow) {\n                var that = this, html = '', scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0;\n                if (that.options.scrollable) {\n                    html = $('<div class=\"k-grid-footer\"><div class=\"k-grid-footer-wrap\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><tbody>' + footerRow + '</tbody></table></div></div>');\n                    that._appendCols(html.find('table'));\n                    html.css(isRtl ? 'padding-left' : 'padding-right', scrollbar);\n                    return html;\n                }\n                return '<tfoot class=\"k-grid-footer\">' + footerRow + '</tfoot>';\n            },\n            _columnMenu: function () {\n                var that = this, menu, columns = leafColumns(that.columns), column, options = that.options, columnMenu = options.columnMenu, menuOptions, sortable, filterable, cells, hasMultiColumnHeaders = grep(that.columns, function (item) {\n                        return item.columns !== undefined;\n                    }).length > 0, isMobile = this._isMobile, initCallback = function (e) {\n                        that.trigger(COLUMNMENUINIT, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, openCallback = function (e) {\n                        that.trigger(COLUMNMENUOPEN, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, closeCallback = function (element) {\n                        focusTable(element.closest('table'), true);\n                    }, sortHandler = function (e) {\n                        if (that.trigger('sort', { sort: e.sort })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    }, filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    }, $angular = options.$angular;\n                if (columnMenu) {\n                    if (typeof columnMenu == 'boolean') {\n                        columnMenu = {};\n                    }\n                    that._setColumnsMediaVisibility(columns);\n                    cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        column = columns[idx];\n                        var cell = cells.eq(idx);\n                        if (!column.command && (column.field || cell.attr('data-' + kendo.ns + 'field'))) {\n                            menu = cell.data('kendoColumnMenu');\n                            if (menu) {\n                                menu.destroy();\n                            }\n                            sortable = column.sortable !== false && columnMenu.sortable !== false && options.sortable !== false ? extend({}, options.sortable, { compare: (column.sortable || {}).compare }) : false;\n                            filterable = options.filterable && column.filterable !== false && columnMenu.filterable !== false ? extend({ pane: that.pane }, options.filterable, column.filterable) : false;\n                            if (column.filterable && column.filterable.dataSource) {\n                                filterable.forceUnique = false;\n                                filterable.checkSource = column.filterable.dataSource;\n                            }\n                            if (filterable) {\n                                filterable.format = column.format;\n                            }\n                            menuOptions = {\n                                dataSource: that.dataSource,\n                                values: column.values,\n                                columns: columnMenu.columns,\n                                sortable: sortable,\n                                filterable: filterable,\n                                messages: columnMenu.messages,\n                                owner: that,\n                                closeCallback: closeCallback,\n                                init: initCallback,\n                                open: openCallback,\n                                pane: that.pane,\n                                sort: sortHandler,\n                                filtering: filterHandler,\n                                filter: isMobile ? ':not(.k-column-active)' : '',\n                                lockedColumns: !hasMultiColumnHeaders && column.lockable !== false && lockedColumns(columns).length > 0\n                            };\n                            if ($angular) {\n                                menuOptions.$angular = $angular;\n                            }\n                            cell.kendoColumnMenu(menuOptions);\n                        }\n                    }\n                }\n            },\n            _headerCells: function () {\n                return $(this.thead).find('th').filter(function () {\n                    var th = $(this);\n                    return !th.hasClass('k-group-cell') && !th.hasClass('k-hierarchy-cell');\n                });\n            },\n            _filterable: function () {\n                var that = this, columns = leafColumns(that.columns), filterMenu, cells, cell, filterInit = function (e) {\n                        that.trigger(FILTERMENUINIT, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, closeCallback = function (element) {\n                        focusTable(element.closest('table'), true);\n                    }, filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    }, filterOpen = function (e) {\n                        that.trigger(FILTERMENUOPEN, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, filterable = that.options.filterable;\n                if (filterable && typeof filterable.mode == STRING && filterable.mode.indexOf('menu') == -1) {\n                    filterable = false;\n                }\n                if (filterable && !that.options.columnMenu) {\n                    cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        cell = cells.eq(idx);\n                        if (columns[idx].filterable !== false && !columns[idx].command && (columns[idx].field || cell.attr('data-' + kendo.ns + 'field'))) {\n                            filterMenu = cell.data('kendoFilterMenu');\n                            if (filterMenu) {\n                                filterMenu.destroy();\n                            }\n                            filterMenu = cell.data('kendoFilterMultiCheck');\n                            if (filterMenu) {\n                                filterMenu.destroy();\n                            }\n                            var columnFilterable = columns[idx].filterable;\n                            var options = extend({}, filterable, columnFilterable, {\n                                dataSource: that.dataSource,\n                                values: columns[idx].values,\n                                format: columns[idx].format,\n                                closeCallback: closeCallback,\n                                title: columns[idx].title || columns[idx].field,\n                                init: filterInit,\n                                open: filterOpen,\n                                pane: that.pane,\n                                change: filterHandler\n                            });\n                            if (columnFilterable && columnFilterable.messages) {\n                                options.messages = extend(true, {}, filterable.messages, columnFilterable.messages);\n                            }\n                            if (columnFilterable && columnFilterable.dataSource) {\n                                options.forceUnique = false;\n                                options.checkSource = columnFilterable.dataSource;\n                            }\n                            if (columnFilterable && columnFilterable.multi) {\n                                cell.kendoFilterMultiCheck(options);\n                            } else {\n                                cell.kendoFilterMenu(options);\n                            }\n                        }\n                    }\n                }\n            },\n            _filterRow: function () {\n                var that = this;\n                if (!that._hasFilterRow()) {\n                    return;\n                }\n                var settings;\n                var $angular = that.options.$angular;\n                var columns = leafColumns(that.columns), filterable = that.options.filterable, rowheader = that.thead.find('.k-filter-row'), filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    };\n                this._updateHeader(this.dataSource.group().length);\n                for (var i = 0; i < columns.length; i++) {\n                    var suggestDataSource, col = columns[i], operators = that.options.filterable.operators, customDataSource = false, th = $('<th/>'), field = col.field;\n                    if (col.hidden) {\n                        th.hide();\n                    }\n                    rowheader.append(th);\n                    if (field && col.filterable !== false) {\n                        var cellOptions = col.filterable && col.filterable.cell || {};\n                        suggestDataSource = that.options.dataSource;\n                        if (suggestDataSource instanceof DataSource) {\n                            suggestDataSource = that.options.dataSource.options;\n                        }\n                        var messages = extend(true, {}, filterable.messages);\n                        if (col.filterable) {\n                            extend(true, messages, col.filterable.messages);\n                        }\n                        if (cellOptions.enabled === false) {\n                            th.html('&nbsp;');\n                            continue;\n                        }\n                        if (cellOptions.dataSource) {\n                            suggestDataSource = cellOptions.dataSource;\n                            customDataSource = true;\n                        }\n                        if (col.filterable && col.filterable.operators) {\n                            operators = col.filterable.operators;\n                        }\n                        settings = {\n                            column: col,\n                            dataSource: that.dataSource,\n                            suggestDataSource: suggestDataSource,\n                            customDataSource: customDataSource,\n                            field: field,\n                            messages: messages,\n                            values: col.values,\n                            template: cellOptions.template,\n                            delay: cellOptions.delay,\n                            inputWidth: cellOptions.inputWidth,\n                            suggestionOperator: cellOptions.suggestionOperator,\n                            minLength: cellOptions.minLength,\n                            dataTextField: cellOptions.dataTextField,\n                            operator: cellOptions.operator,\n                            operators: operators,\n                            showOperators: cellOptions.showOperators,\n                            change: filterHandler\n                        };\n                        if ($angular) {\n                            settings.$angular = $angular;\n                        }\n                        $('<span/>').attr(kendo.attr('field'), field).appendTo(th).kendoFilterCell(settings);\n                    } else {\n                        th.html('&nbsp;');\n                    }\n                }\n            },\n            _sortable: function () {\n                var that = this, columns = leafColumns(that.columns), column, sorterInstance, cell, sortable = that.options.sortable, sortHandler = function (e) {\n                        if (that.trigger('sort', { sort: e.sort })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                        }\n                    };\n                if (sortable) {\n                    var cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.sortable !== false && !column.command && column.field) {\n                            cell = cells.eq(idx);\n                            sorterInstance = cell.data('kendoColumnSorter');\n                            if (sorterInstance) {\n                                sorterInstance.destroy();\n                            }\n                            cell.attr('data-' + kendo.ns + 'field', column.field).kendoColumnSorter(extend({}, sortable, column.sortable, {\n                                dataSource: that.dataSource,\n                                aria: true,\n                                filter: ':not(.k-column-active)',\n                                change: sortHandler\n                            }));\n                        }\n                    }\n                    cells = null;\n                }\n            },\n            _columns: function (columns) {\n                var that = this, table = that.table, encoded, cols = table.find('col'), lockedCols, headers = that.element.find('thead:first th[data-index]'), columnLeafs, dataSource = that.options.dataSource;\n                columns = columns.length ? columns : map(table.find('th'), function (th, idx) {\n                    th = $(th);\n                    var sortable = th.attr(kendo.attr('sortable')), filterable = th.attr(kendo.attr('filterable')), type = th.attr(kendo.attr('type')), groupable = th.attr(kendo.attr('groupable')), field = th.attr(kendo.attr('field')), title = th.attr(kendo.attr('title')), menu = th.attr(kendo.attr('menu'));\n                    if (!field) {\n                        field = th.text().replace(/\\s|[^A-z0-9]/g, '');\n                    }\n                    return {\n                        field: field,\n                        type: type,\n                        title: title,\n                        sortable: sortable !== 'false',\n                        filterable: filterable !== 'false',\n                        groupable: groupable !== 'false',\n                        menu: menu,\n                        template: th.attr(kendo.attr('template')),\n                        width: cols.eq(idx).css('width')\n                    };\n                });\n                encoded = !(that.table.find('tbody tr').length > 0 && (!dataSource || !dataSource.transport));\n                if (that.options.scrollable) {\n                    var initialColumns = columns;\n                    lockedCols = lockedColumns(columns);\n                    columns = nonLockedColumns(columns);\n                    if (lockedCols.length > 0 && columns.length === 0) {\n                        throw new Error('There should be at least one non locked column');\n                    }\n                    normalizeHeaderCells(that.element.find('tr:has(th):first'), initialColumns);\n                    columns = lockedCols.concat(columns);\n                }\n                that.columns = normalizeColumns(columns, encoded);\n                if (headers.length && that.columns.length) {\n                    columnLeafs = leafColumns(that.columns);\n                    map(headers, function (th) {\n                        th = $(th);\n                        var id = th.attr('id');\n                        var idx = kendo.parseInt(th.attr('data-index'));\n                        if (id) {\n                            columnLeafs[idx].headerAttributes = extend(columnLeafs[idx].headerAttributes, { id: id });\n                        }\n                    });\n                }\n                if ($.grep(leafColumns(that.columns), function (col) {\n                        return col.selectable;\n                    }).length) {\n                    that._selectedIds = {};\n                    that._checkBoxSelection = true;\n                    that.wrapper.on(CLICK + NS, 'tbody > tr ' + CHECKBOXINPUT, proxy(that._checkboxClick, that));\n                    that.wrapper.on(CLICK + NS, 'thead > tr ' + CHECKBOXINPUT, proxy(that._headerCheckboxClick, that));\n                }\n            },\n            _headerCheckboxClick: function (e) {\n                var that = this, checkBox = $(e.target), checked = checkBox.prop('checked'), parentGrid = checkBox.closest('.k-grid.k-widget').getKendoGrid();\n                if (that !== parentGrid) {\n                    return;\n                }\n                if (checked) {\n                    that.select(parentGrid.items());\n                } else {\n                    that.clearSelection();\n                }\n            },\n            _checkboxClick: function (e) {\n                var that = this, row = $(e.target).closest('tr'), isSelecting = !row.hasClass(SELECTED);\n                if (that !== row.closest('.k-grid.k-widget').getKendoGrid()) {\n                    return;\n                }\n                if (isSelecting) {\n                    that.select(row);\n                } else {\n                    that._deselectCheckRows(row);\n                }\n            },\n            _groups: function () {\n                var group = this.dataSource.group();\n                return group ? group.length : 0;\n            },\n            _tmpl: function (rowTemplate, columns, alt, skipGroupCells) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, idx, length = columns.length, template, state = {\n                        storage: {},\n                        count: 0\n                    }, column, type, hasDetails = that._hasDetails(), className = [], groups = that._groups(), navigatable = that.options.navigatable;\n                var fieldAttr = kendo.attr('field');\n                var field;\n                var dirtyCellTemplate = '';\n                if (!rowTemplate) {\n                    rowTemplate = '<tr';\n                    if (alt) {\n                        className.push('k-alt');\n                    }\n                    if (hasDetails) {\n                        className.push('k-master-row');\n                    }\n                    if (className.length) {\n                        rowTemplate += ' class=\"' + className.join(' ') + '\"';\n                    }\n                    if (length) {\n                        rowTemplate += ' ' + kendo.attr('uid') + '=\"#=' + kendo.expr('uid', settings.paramName) + '#\"';\n                    }\n                    rowTemplate += ' role=\\'row\\'>';\n                    if (groups > 0 && !skipGroupCells) {\n                        rowTemplate += groupCells(groups);\n                    }\n                    if (hasDetails) {\n                        rowTemplate += '<td class=\"k-hierarchy-cell\" aria-expanded=\"false\"><a class=\"k-icon k-i-expand\" href=\"\\\\#\" ' + ARIALABEL + '=\"' + EXPAND + '\" tabindex=\"-1\"></a></td>';\n                    }\n                    for (idx = 0; idx < length; idx++) {\n                        column = columns[idx];\n                        template = column.template;\n                        type = typeof template;\n                        field = column.field;\n                        if (that._editMode() === INCELL && field) {\n                            column.attributes = column.attributes || {};\n                            if (that.virtualScrollable) {\n                                column.attributes[fieldAttr] = field;\n                            }\n                            dirtyCellTemplate = that._dirtyCellTemplate(field, paramName);\n                            column.attributes['class'] = column.attributes['class'] || '';\n                            if (column.attributes['class'].indexOf(dirtyCellTemplate) < 0) {\n                                column.attributes['class'] += dirtyCellTemplate;\n                            }\n                        }\n                        if (column.command) {\n                            column.attributes = column.attributes || {};\n                            if (typeof column.attributes['class'] !== 'undefined') {\n                                column.attributes['class'] += ' k-command-cell';\n                            } else {\n                                column.attributes['class'] = 'k-command-cell';\n                            }\n                        }\n                        rowTemplate += '<td' + stringifyAttributes(column.attributes);\n                        if (navigatable) {\n                            rowTemplate += ' aria-describedby=\\'' + column.headerAttributes.id + '\\'';\n                        }\n                        rowTemplate += ' role=\\'gridcell\\'>';\n                        rowTemplate += that._cellTmpl(column, state);\n                        rowTemplate += '</td>';\n                    }\n                    rowTemplate += '</tr>';\n                }\n                rowTemplate = kendo.template(rowTemplate, settings);\n                if (state.count > 0) {\n                    return proxy(rowTemplate, state.storage);\n                }\n                return rowTemplate;\n            },\n            _dirtyCellTemplate: function (field, paramName) {\n                var dirtyField;\n                if (field && paramName) {\n                    dirtyField = field.charAt(0) === '[' ? kendo.expr(field, paramName + '.dirtyFields') : paramName + '.dirtyFields[\\'' + field + '\\']';\n                    return '#= ' + paramName + ' && ' + paramName + '.dirty && ' + paramName + '.dirtyFields && ' + dirtyField + ' ? \\' k-dirty-cell\\' : \\'\\' #';\n                }\n                return '';\n            },\n            _headerCellText: function (column) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), template = column.headerTemplate, type = typeof template, text = column.title || column.field || '';\n                if (type === FUNCTION) {\n                    text = kendo.template(template, settings)({});\n                } else if (type === STRING) {\n                    text = template;\n                }\n                return text;\n            },\n            _cellTmpl: function (column, state) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), template = column.template, paramName = settings.paramName, field = column.field, html = '', idx, length, format = column.format, type = typeof template, columnValues = column.values;\n                if (column.command) {\n                    if (isArray(column.command)) {\n                        for (idx = 0, length = column.command.length; idx < length; idx++) {\n                            if (column.command[idx].visible) {\n                                html += kendo.format('#= {0}(data)? \\'{1}\\':\\'\\' #', column.command[idx].visible, that._createButton(column.command[idx]).replace(templateHashRegExp, '\\\\#').replace(/'/gi, '\\\\\\''));\n                            } else {\n                                html += that._createButton(column.command[idx]).replace(templateHashRegExp, '\\\\#');\n                            }\n                        }\n                        return html;\n                    }\n                    return that._createButton(column.command).replace(templateHashRegExp, '\\\\#');\n                }\n                if (column.selectable) {\n                    return SELECTCOLUMNTMPL;\n                }\n                html += that._dirtyIndicatorTemplate(field, paramName);\n                if (type === FUNCTION) {\n                    state.storage['tmpl' + state.count] = template;\n                    html += '#=this.tmpl' + state.count + '(' + paramName + ')#';\n                    state.count++;\n                } else if (type === STRING) {\n                    html += template;\n                } else if (columnValues && columnValues.length && isPlainObject(columnValues[0]) && 'value' in columnValues[0] && field) {\n                    html += '#var v =' + kendo.stringify(convertToObject(columnValues)).replace(templateHashRegExp, '\\\\#') + '#';\n                    html += '#var f = v[';\n                    if (!settings.useWithBlock) {\n                        html += paramName + '.';\n                    }\n                    html += field + ']#';\n                    html += '${f != null ? f : \\'\\'}';\n                } else {\n                    html += column.encoded ? '#:' : '#=';\n                    if (format) {\n                        html += 'kendo.format(\"' + format.replace(formatRegExp, '\\\\$1') + '\",';\n                    }\n                    if (field) {\n                        field = kendo.expr(field, paramName);\n                        html += field + '==null?\\'\\':' + field;\n                    } else {\n                        html += '\\'\\'';\n                    }\n                    if (format) {\n                        html += ')';\n                    }\n                    html += '#';\n                }\n                return html;\n            },\n            _dirtyIndicatorTemplate: function (field, paramName) {\n                var dirtyField;\n                if (field && paramName) {\n                    dirtyField = field.charAt(0) === '[' ? kendo.expr(field, paramName + '.dirtyFields') : paramName + '.dirtyFields[\\'' + field + '\\']';\n                    return '#= ' + paramName + ' && ' + paramName + '.dirty && ' + paramName + '.dirtyFields && ' + dirtyField + ' ? \\'<span class=\"k-dirty\"></span>\\' : \\'\\' #';\n                }\n                return '';\n            },\n            _templates: function () {\n                var that = this, options = that.options, dataSource = that.dataSource, groups = dataSource.group(), footer = that.footer || that.wrapper.find('.k-grid-footer'), aggregates = dataSource.aggregate(), columnLeafs = leafColumns(that.columns), columnsLocked = leafColumns(lockedColumns(that.columns)), columns = options.scrollable ? leafColumns(nonLockedColumns(that.columns)) : columnLeafs, groupHeaderColumnTemplateLockedColumns = grep(visibleColumns(columnsLocked), function (column, index) {\n                        return column.groupHeaderColumnTemplate && index !== 0;\n                    }), groupHeaderColumnTemplateNonLockedColumns = grep(visibleColumns(columns), function (column) {\n                        return column.groupHeaderColumnTemplate;\n                    });\n                if (options.scrollable && columnsLocked.length) {\n                    if (options.rowTemplate || options.altRowTemplate) {\n                        throw new Error('Having both row template and locked columns is not supported');\n                    }\n                    that.rowTemplate = that._tmpl(options.rowTemplate, columns, false, true);\n                    that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true, true);\n                    that.lockedRowTemplate = that._tmpl(options.rowTemplate, columnsLocked);\n                    that.lockedAltRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columnsLocked, true);\n                } else {\n                    that.rowTemplate = that._tmpl(options.rowTemplate, columns);\n                    that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true);\n                }\n                if (that._hasDetails()) {\n                    that.detailTemplate = that._detailTmpl(options.detailTemplate || '');\n                }\n                if (that._group && !isEmptyObject(aggregates) || !isEmptyObject(aggregates) && !footer.length || grep(columnLeafs, function (column) {\n                        return column.footerTemplate;\n                    }).length) {\n                    that.footerTemplate = that._footerTmpl(columnLeafs, aggregates, 'footerTemplate', 'k-footer-template');\n                }\n                if (groups && grep(columnLeafs, function (column) {\n                        return column.groupFooterTemplate;\n                    }).length) {\n                    aggregates = $.map(groups, function (g) {\n                        return g.aggregates;\n                    });\n                    that.groupFooterTemplate = that._footerTmpl(columns, aggregates, 'groupFooterTemplate', 'k-group-footer', columnsLocked.length);\n                    if (options.scrollable && columnsLocked.length) {\n                        that.lockedGroupFooterTemplate = that._footerTmpl(columnsLocked, aggregates, 'groupFooterTemplate', 'k-group-footer');\n                    }\n                }\n                if (groups && (groupHeaderColumnTemplateLockedColumns.length || groupHeaderColumnTemplateNonLockedColumns.length)) {\n                    aggregates = $.map(groups, function (g) {\n                        return g.aggregates;\n                    });\n                    that.groupHeaderColumnTemplate = that._groupHeaderTmpl(visibleColumns(columns), aggregates, 'groupHeaderColumnTemplate', 'k-grouping-row', columnsLocked.length, groupHeaderColumnTemplateNonLockedColumns);\n                    if (options.scrollable && columnsLocked.length) {\n                        that.lockedGroupHeaderColumnTemplate = that._groupHeaderTmpl(visibleColumns(columnsLocked), aggregates, 'groupHeaderColumnTemplate', 'k-grouping-row', 0, groupHeaderColumnTemplateLockedColumns);\n                    }\n                } else {\n                    that.groupHeaderColumnTemplate = null;\n                    that.lockedGroupHeaderColumnTemplate = null;\n                }\n                if (that.options.noRecords) {\n                    that.noRecordsTemplate = that._noRecordsTmpl();\n                }\n            },\n            _noRecordsTmpl: function () {\n                var wrapper = '<div class=\"{0}\">{1}</div>';\n                var defaultTemplate = '<div class=\"k-grid-norecords-template\"{1}>{0}</div>';\n                var scrollableNoGridHeightStyles = this.options.scrollable && !this.wrapper[0].style.height ? ' style=\"margin:0 auto;position:static;\"' : '';\n                var state = {\n                    storage: {},\n                    count: 0\n                };\n                var settings = $.extend({}, kendo.Template, this.options.templateSettings);\n                var paramName = settings.paramName;\n                var template;\n                var html = '';\n                var type;\n                var tmpl;\n                if (this.options.noRecords.template) {\n                    template = this.options.noRecords.template;\n                } else {\n                    template = kendo.format(defaultTemplate, this.options.messages.noRecords, scrollableNoGridHeightStyles);\n                }\n                type = typeof template;\n                if (type === 'function') {\n                    state.storage['tmpl' + state.count] = template;\n                    html += '#=this.tmpl' + state.count + '(' + paramName + ')#';\n                    state.count++;\n                } else if (type === 'string') {\n                    html += template;\n                }\n                tmpl = kendo.template(kendo.format(wrapper, NORECORDSCLASS, html), settings);\n                if (state.count > 0) {\n                    tmpl = $.proxy(tmpl, state.storage);\n                }\n                return tmpl;\n            },\n            _footerTmpl: function (columns, aggregates, templateName, rowClass, skipGroupCells) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, html = '', idx, length, template, type, storage = {}, count = 0, scope = {}, groups = that._groups(), fieldsMap = that.dataSource._emptyAggregates(aggregates), column;\n                html += '<tr class=\"' + rowClass + '\">';\n                if (groups > 0 && !skipGroupCells) {\n                    html += groupCells(groups);\n                }\n                if (that._hasDetails()) {\n                    html += '<td class=\"k-hierarchy-cell\">&nbsp;</td>';\n                }\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    template = column[templateName];\n                    type = typeof template;\n                    html += '<td' + stringifyAttributes(column.footerAttributes) + '>';\n                    if (template) {\n                        if (type !== FUNCTION) {\n                            scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + '[\\'' + column.field + '\\']' }) : {};\n                            template = kendo.template(template, scope);\n                        }\n                        storage['tmpl' + count] = template;\n                        html += '#=this.tmpl' + count + '(' + paramName + ')#';\n                        count++;\n                    } else {\n                        html += '&nbsp;';\n                    }\n                    html += '</td>';\n                }\n                html += '</tr>';\n                html = kendo.template(html, settings);\n                if (count > 0) {\n                    return proxy(html, storage);\n                }\n                return html;\n            },\n            _groupHeaderTmpl: function (columns, aggregates, templateName, rowClass, skipGroupCells, groupHeaderColumnTemplateColumns) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, html = '', idx, length, template, type, storage = {}, count = 0, scope = {}, fieldsMap = that.dataSource._emptyAggregates(aggregates), column, headerTemplateIndex = groupHeaderColumnTemplateColumns.length ? inArray(groupHeaderColumnTemplateColumns[0], columns) : -1;\n                html += '<tr role=\"row\" class=\"' + rowClass + '\">';\n                if (!skipGroupCells) {\n                    html += '# for (var i = 0; i < data.groupCells; i++) { #' + '<td class=\"k-group-cell\">' + '&nbsp;' + '</td>' + '# } #';\n                }\n                if (that._hasDetails()) {\n                    html += '<td class=\"k-hierarchy-cell\">&nbsp;</td>';\n                }\n                if (headerTemplateIndex < 0) {\n                    html += !skipGroupCells ? groupCellBuilder(columns.length) : '';\n                    return;\n                }\n                if (headerTemplateIndex < MINCOLSPANVALUE && groupHeaderColumnTemplateColumns.length <= 1 && !skipGroupCells) {\n                    html += !skipGroupCells ? groupCellBuilder(columns.length) : '';\n                    return kendo.template(html, settings);\n                }\n                if (headerTemplateIndex < MINCOLSPANVALUE) {\n                    headerTemplateIndex = !skipGroupCells ? 1 : 0;\n                    html += !skipGroupCells ? groupCellBuilder(headerTemplateIndex) : '';\n                } else {\n                    html += !skipGroupCells ? groupCellBuilder(headerTemplateIndex) : groupCellLockedContentBuilder(headerTemplateIndex);\n                }\n                for (idx = headerTemplateIndex, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    template = column[templateName];\n                    type = typeof template;\n                    html += '<td>';\n                    if (template) {\n                        if (type !== FUNCTION) {\n                            scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + '[\\'' + column.field + '\\']' }) : {};\n                            template = kendo.template(template, scope);\n                        }\n                        storage['tmpl' + count] = template;\n                        html += '#=this.tmpl' + count + '(' + paramName + ')#';\n                        count++;\n                    } else {\n                        html += '&nbsp;';\n                    }\n                    html += '</td>';\n                }\n                html += '</tr>';\n                html = kendo.template(html, settings);\n                if (count > 0) {\n                    return proxy(html, storage);\n                }\n                return html;\n            },\n            _detailTmpl: function (template) {\n                var that = this, html = '', settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, templateFunctionStorage = {}, templateFunctionCount = 0, groups = that._groups(), colspan = visibleColumns(leafColumns(that.columns)).length, type = typeof template;\n                html += '<tr class=\"k-detail-row\">';\n                if (groups > 0) {\n                    html += groupCells(groups);\n                }\n                html += '<td class=\"k-hierarchy-cell\"></td><td class=\"k-detail-cell\"' + (colspan ? ' colspan=\"' + colspan + '\"' : '') + '>';\n                if (type === FUNCTION) {\n                    templateFunctionStorage['tmpl' + templateFunctionCount] = template;\n                    html += '#=this.tmpl' + templateFunctionCount + '(' + paramName + ')#';\n                    templateFunctionCount++;\n                } else {\n                    html += template;\n                }\n                html += '</td></tr>';\n                html = kendo.template(html, settings);\n                if (templateFunctionCount > 0) {\n                    return proxy(html, templateFunctionStorage);\n                }\n                return html;\n            },\n            _hasDetails: function () {\n                var that = this;\n                return that.options.detailTemplate !== null || (that._events[DETAILINIT] || []).length;\n            },\n            _hasFilterRow: function () {\n                var filterable = this.options.filterable;\n                var hasFiltering = filterable && typeof filterable.mode == STRING && filterable.mode.indexOf('row') != -1;\n                var columns = this.columns;\n                var columnsWithoutFiltering = $.grep(columns, function (col) {\n                    return col.filterable === false;\n                });\n                if (columns.length && columnsWithoutFiltering.length == columns.length) {\n                    hasFiltering = false;\n                }\n                return hasFiltering;\n            },\n            _details: function () {\n                var that = this;\n                if (that.options.scrollable && that._hasDetails() && lockedColumns(that.columns).length) {\n                    throw new Error('Having both detail template and locked columns is not supported');\n                }\n                that.table.on(CLICK + NS, '.k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse', function (e) {\n                    var button = $(this), cell = button.closest('td.k-hierarchy-cell'), expanding = button.hasClass('k-i-expand'), masterRow = button.closest('tr.k-master-row'), detailRow, detailTemplate = that.detailTemplate, data, hasDetails = that._hasDetails(), ariaLabelText = expanding ? COLLAPSE : EXPAND, ariaExpandText = expanding ? true : false;\n                    button.toggleClass('k-i-expand', !expanding).toggleClass('k-i-collapse', expanding).attr(ARIALABEL, ariaLabelText);\n                    cell.attr('aria-expanded', ariaExpandText);\n                    detailRow = masterRow.next();\n                    if (hasDetails && !detailRow.hasClass('k-detail-row')) {\n                        data = that.dataItem(masterRow);\n                        detailRow = $(detailTemplate(data)).addClass(masterRow.hasClass('k-alt') ? 'k-alt' : '').insertAfter(masterRow);\n                        that.angular('compile', function () {\n                            return {\n                                elements: detailRow.get(),\n                                data: [{ dataItem: data }]\n                            };\n                        });\n                        that.trigger(DETAILINIT, {\n                            masterRow: masterRow,\n                            detailRow: detailRow,\n                            data: data,\n                            detailCell: detailRow.find('.k-detail-cell')\n                        });\n                    }\n                    that.trigger(expanding ? DETAILEXPAND : DETAILCOLLAPSE, {\n                        masterRow: masterRow,\n                        detailRow: detailRow\n                    });\n                    detailRow.toggle(expanding);\n                    e.preventDefault();\n                    return false;\n                });\n            },\n            dataItem: function (tr) {\n                tr = $(tr)[0];\n                if (!tr) {\n                    return null;\n                }\n                var rows = this.tbody.children(), classesRegEx = /k-grouping-row|k-detail-row|k-group-footer/, idx = tr.sectionRowIndex, j, correctIdx;\n                correctIdx = idx;\n                for (j = 0; j < idx; j++) {\n                    if (classesRegEx.test(rows[j].className)) {\n                        correctIdx--;\n                    }\n                }\n                return this._data[correctIdx];\n            },\n            expandRow: function (tr) {\n                $(tr).find('> td .k-i-expand').click();\n            },\n            collapseRow: function (tr) {\n                $(tr).find('> td .k-i-collapse').click();\n            },\n            _createHeaderCells: function (columns, rowSpan) {\n                var that = this, idx, th, text, html = '', length, title, messages = that.options.messages, leafs = leafColumns(that.columns), groups = that.dataSource.group(), field;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    th = columns[idx].column || columns[idx];\n                    text = that._headerCellText(th);\n                    field = '';\n                    var index = inArray(th, leafs);\n                    if (th.selectable) {\n                        html += '<th scope=\\'col\\'' + stringifyAttributes(th.headerAttributes);\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        text = th.headerTemplate ? text : kendo.template(SELECTCOLUMNHEADERTMPL)({});\n                        html += '>' + text + '</th>';\n                    } else if (th.command) {\n                        html += '<th scope=\\'col\\'' + stringifyAttributes(th.headerAttributes);\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        html += '>' + text + '</th>';\n                    } else {\n                        if (th.field) {\n                            field = kendo.attr('field') + '=\\'' + th.field + '\\' ';\n                        }\n                        html += '<th scope=\\'col\\' role=\\'columnheader\\' ' + field;\n                        html += ' aria-haspopup=\\'true\\'';\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (columns[idx].colSpan > 1) {\n                            html += 'colspan=\"' + (columns[idx].colSpan - hiddenLeafColumnsCount(th.columns)) + '\" ';\n                            html += kendo.attr('colspan') + '=\\'' + columns[idx].colSpan + '\\'';\n                        }\n                        if (th.title) {\n                            title = th.title.replace('\"', '&quot;').replace(/'/g, '\\'');\n                            html += kendo.attr('title') + '=\"' + title + '\" ';\n                        }\n                        if (th.groupable !== undefined) {\n                            html += kendo.attr('groupable') + '=\\'' + th.groupable + '\\' ';\n                        }\n                        if (isColumnGroupable(that, th)) {\n                            html += 'aria-label=\\'' + (title || th.field) + ' ';\n                            html += isGroupedBy(groups, th.field) ? messages.ungroupHeader : messages.groupHeader;\n                            html += '\\' ';\n                        }\n                        if (th.aggregates && th.aggregates.length) {\n                            html += kendo.attr('aggregates') + '=\\'' + th.aggregates + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        html += stringifyAttributes(th.headerAttributes);\n                        html += '>' + text + '</th>';\n                    }\n                }\n                return html;\n            },\n            _appendLockedColumnContent: function () {\n                var columns = this.columns, idx, colgroup = this.table.find('colgroup'), cols = colgroup.find('col:not(.k-group-col,.k-hierarchy-col)'), length, lockedCols = $(), skipHiddenCount = 0, container, colSpan, spanIdx, colOffset = 0;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    if (columns[idx].locked) {\n                        if (isVisible(columns[idx])) {\n                            colSpan = 1;\n                            if (columns[idx].columns) {\n                                colSpan = leafColumns(columns[idx].columns).length - hiddenLeafColumnsCount(columns[idx].columns);\n                            }\n                            colSpan = colSpan || 1;\n                            for (spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                                lockedCols = lockedCols.add(cols.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                            }\n                            colOffset += colSpan - 1;\n                        } else {\n                            skipHiddenCount++;\n                        }\n                    }\n                }\n                container = $('<div class=\"k-grid-content-locked\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><colgroup/><tbody></tbody></table></div>');\n                colgroup.detach();\n                container.find('colgroup').append(lockedCols);\n                colgroup.insertBefore(this.table.find('tbody'));\n                this.lockedContent = container.insertBefore(this.content);\n                this.lockedTable = container.children('table');\n            },\n            _appendLockedColumnFooter: function () {\n                var that = this;\n                var footer = that.footer;\n                var cells = footer.find('.k-footer-template>td');\n                var cols = footer.find('.k-grid-footer-wrap>table>colgroup>col');\n                var html = $('<div class=\"k-grid-footer-locked\"><table><colgroup /><tbody><tr class=\"k-footer-template\"></tr></tbody></table></div>');\n                var idx, length;\n                var groups = that._groups();\n                var lockedCells = $(), lockedCols = $();\n                lockedCells = lockedCells.add(cells.filter('.k-group-cell'));\n                for (idx = 0, length = leafColumns(lockedColumns(that.columns)).length; idx < length; idx++) {\n                    lockedCells = lockedCells.add(cells.eq(idx + groups));\n                }\n                lockedCols = lockedCols.add(cols.filter('.k-group-col'));\n                for (idx = 0, length = visibleColumns(leafColumns(visibleLockedColumns(that.columns))).length; idx < length; idx++) {\n                    lockedCols = lockedCols.add(cols.eq(idx + groups));\n                }\n                lockedCells.appendTo(html.find('tr'));\n                lockedCols.appendTo(html.find('colgroup'));\n                that.lockedFooter = html.prependTo(footer);\n            },\n            _appendLockedColumnHeader: function (container) {\n                var that = this, columns = this.columns, idx, html, length, colgroup, tr, trFilter, table, header, filtercellCells, rows = [], skipHiddenCount = 0, cols = $(), hasFilterRow = that._hasFilterRow(), filterCellOffset = 0, filterCells = $(), cell, leafColumnsCount = 0, cells = $();\n                colgroup = that.thead.prev().find('col:not(.k-group-col,.k-hierarchy-col)');\n                header = that.thead.find('tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)');\n                filtercellCells = that.thead.find('.k-filter-row').find('th:not(.k-group-cell,.k-hierarchy-cell)');\n                var colOffset = 0;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    if (columns[idx].locked) {\n                        cell = header.eq(idx);\n                        leafColumnsCount = leafColumns(columns[idx].columns || []).length;\n                        if (isVisible(columns[idx])) {\n                            var colSpan = null;\n                            if (columns[idx].columns) {\n                                colSpan = leafColumnsCount - hiddenLeafColumnsCount(columns[idx].columns);\n                            }\n                            colSpan = colSpan || 1;\n                            for (var spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                                cols = cols.add(colgroup.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                            }\n                            colOffset += colSpan - 1;\n                        }\n                        mapColumnToCellRows([columns[idx]], childColumnsCells(cell), rows, 0, 0);\n                        leafColumnsCount = leafColumnsCount || 1;\n                        for (var j = 0; j < leafColumnsCount; j++) {\n                            filterCells = filterCells.add(filtercellCells.eq(filterCellOffset + j));\n                        }\n                        filterCellOffset += leafColumnsCount;\n                    }\n                    if (columns[idx].columns) {\n                        skipHiddenCount += hiddenLeafColumnsCount(columns[idx].columns);\n                    }\n                    if (!isVisible(columns[idx])) {\n                        skipHiddenCount++;\n                    }\n                }\n                if (rows.length) {\n                    html = '<div class=\"k-grid-header-locked\" style=\"width:1px\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><colgroup/><thead>';\n                    html += new Array(rows.length + 1).join('<tr></tr>');\n                    html += (hasFilterRow ? '<tr class=\"k-filter-row\" />' : '') + '</thead></table></div>';\n                    table = $(html);\n                    colgroup = table.find('colgroup');\n                    colgroup.append(that.thead.prev().find('col.k-group-col').add(cols));\n                    tr = table.find('thead tr:not(.k-filter-row)');\n                    for (idx = 0, length = rows.length; idx < length; idx++) {\n                        cells = toJQuery(rows[idx]);\n                        tr.eq(idx).append(that.thead.find('tr:eq(' + idx + ') .k-group-cell').add(cells));\n                    }\n                    var count = removeEmptyRows(this.thead);\n                    if (rows.length < count) {\n                        removeRowSpanValue(table, count - rows.length);\n                    }\n                    trFilter = table.find('.k-filter-row');\n                    trFilter.append(that.thead.find('.k-filter-row .k-group-cell').add(filterCells));\n                    this.lockedHeader = table.prependTo(container);\n                    this.thead.find('.k-group-cell').remove();\n                    return true;\n                }\n                return false;\n            },\n            _removeLockedContainers: function () {\n                var elements = this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);\n                kendo.destroy(elements);\n                elements.off(NS).remove();\n                this.lockedHeader = this.lockedContent = this.lockedFooter = null;\n                this.selectable = null;\n            },\n            _thead: function () {\n                var that = this, columns = that.columns, hasDetails = that._hasDetails() && columns.length, hasFilterRow = that._hasFilterRow(), idx, html = '', thead = that.table.find('>thead'), hasTHead = that.element.find('thead:first').length > 0, tr;\n                if (!thead.length) {\n                    thead = $('<thead/>').insertBefore(that.tbody);\n                }\n                if (that.lockedHeader && that.thead) {\n                    tr = that.thead.find('tr:has(th):not(.k-filter-row)').html('');\n                    tr.remove();\n                    tr = $();\n                    that._removeLockedContainers();\n                } else if (hasTHead) {\n                    tr = that.element.find('thead:first tr:has(th):not(.k-filter-row)');\n                } else {\n                    tr = that.element.find('tr:has(th):first');\n                }\n                if (!tr.length) {\n                    tr = thead.children().first();\n                    if (!tr.length) {\n                        var rows = [{\n                                rowSpan: 1,\n                                cells: [],\n                                index: 0\n                            }];\n                        that._prepareColumns(rows, columns);\n                        for (idx = 0; idx < rows.length; idx++) {\n                            html += '<tr>';\n                            if (hasDetails) {\n                                html += '<th class=\"k-hierarchy-cell\" scope=\"col\">' + that.options.messages.expandCollapseColumnHeader + '</th>';\n                            }\n                            html += that._createHeaderCells(rows[idx].cells, rows[idx].rowSpan);\n                            html += '</tr>';\n                        }\n                        tr = $(html);\n                    }\n                } else {\n                    for (idx = 0; idx < columns.length; idx++) {\n                        var columnIndex = inArray(columns[idx], leafColumns(columns));\n                        var cell = leafDataCells(tr.parent()).filter('th:not(.k-group-cell):not(.k-hierarchy-cell)').eq(columnIndex);\n                        if (columns[idx].hidden) {\n                            cell[0].style.display = 'none';\n                        }\n                    }\n                }\n                if (hasFilterRow) {\n                    var filterRow = $('<tr/>');\n                    filterRow.addClass('k-filter-row');\n                    if (hasDetails || tr.find('.k-hierarchy-cell').length) {\n                        filterRow.prepend('<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>');\n                    }\n                    var existingFilterRow = (that.thead || thead).find('.k-filter-row');\n                    if (existingFilterRow.length) {\n                        kendo.destroy(existingFilterRow);\n                        existingFilterRow.remove();\n                    }\n                    thead.append(filterRow);\n                }\n                if (!tr.children().length) {\n                    html = '';\n                    if (hasDetails) {\n                        html += '<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>';\n                    }\n                    html += that._createHeaderCells(columns);\n                    tr.html(html);\n                } else if (hasDetails && !tr.find('.k-hierarchy-cell')[0]) {\n                    tr.prepend('<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>');\n                }\n                tr.attr('role', 'row').find('th').addClass('k-header');\n                if (!that.options.scrollable) {\n                    thead.addClass('k-grid-header');\n                }\n                tr.find('script').remove().end().prependTo(thead);\n                if (that.thead) {\n                    that._destroyColumnAttachments();\n                }\n                this.angular('cleanup', function () {\n                    return { elements: thead.find('th' + NAVCELL).get() };\n                });\n                this.angular('compile', function () {\n                    return {\n                        elements: thead.find(HEADERCELLS).get(),\n                        data: map(columns, function (col) {\n                            return { column: col };\n                        })\n                    };\n                });\n                that.thead = thead.attr('role', 'rowgroup');\n                that._sortable();\n                that._filterable();\n                that._filterRow();\n                that._scrollable();\n                that._columnMenu();\n                var syncHeight;\n                var hasLockedColumns = this.options.scrollable && lockedColumns(this.columns).length;\n                if (hasLockedColumns) {\n                    syncHeight = that._appendLockedColumnHeader(that.thead.closest('.k-grid-header'));\n                    that._appendLockedColumnContent();\n                    that.lockedContent.bind('DOMMouseScroll' + NS + ' mousewheel' + NS, proxy(that._wheelScroll, that));\n                    that._updateLockedCols();\n                }\n                that._updateCols();\n                that._updateColumnCellIndex();\n                that._updateFirstColumnClass();\n                that._resizable();\n                that._draggable();\n                that._reorderable();\n                that._updateHeader(that._groups());\n                if (hasLockedColumns) {\n                    if (syncHeight) {\n                        that._syncLockedHeaderHeight();\n                    }\n                    that._applyLockedContainersWidth();\n                }\n                if (that.groupable) {\n                    that._attachGroupable();\n                }\n            },\n            _retrieveFirstColumn: function (columns, rows) {\n                var result = $();\n                if (rows.length && columns[0]) {\n                    var column = columns[0];\n                    while (column.columns && column.columns.length) {\n                        column = column.columns[0];\n                        rows = rows.filter(':not(:first())');\n                    }\n                    result = result.add(rows);\n                }\n                return result;\n            },\n            _updateFirstColumnClass: function () {\n                var that = this, columns = that.columns || [], hasDetails = that._hasDetails() && columns.length;\n                if (!hasDetails && !that._groups()) {\n                    var tr = that.thead.find('>tr:not(.k-filter-row):not(:first)');\n                    columns = nonLockedColumns(columns);\n                    var rows = that._retrieveFirstColumn(columns, tr);\n                    if (that._isLocked()) {\n                        tr = that.lockedHeader.find('thead>tr:not(.k-filter-row):not(:first)');\n                        columns = lockedColumns(that.columns);\n                        rows = rows.add(that._retrieveFirstColumn(columns, tr));\n                    }\n                    rows.each(function () {\n                        var ths = $(this).find('th');\n                        ths.removeClass('k-first');\n                        ths.eq(0).addClass('k-first');\n                    });\n                }\n            },\n            _prepareColumns: function (rows, columns, parentCell, parentRow) {\n                var row = parentRow || rows[rows.length - 1];\n                var childRow = rows[row.index + 1];\n                var totalColSpan = 0;\n                for (var idx = 0; idx < columns.length; idx++) {\n                    var cell = {\n                        column: columns[idx],\n                        colSpan: 0\n                    };\n                    row.cells.push(cell);\n                    if (columns[idx].columns && columns[idx].columns.length) {\n                        if (!childRow) {\n                            childRow = {\n                                rowSpan: 0,\n                                cells: [],\n                                index: rows.length\n                            };\n                            rows.push(childRow);\n                        }\n                        cell.colSpan = columns[idx].columns.length;\n                        this._prepareColumns(rows, columns[idx].columns, cell, childRow);\n                        totalColSpan += cell.colSpan - 1;\n                        row.rowSpan = rows.length - row.index;\n                    }\n                }\n                if (parentCell) {\n                    parentCell.colSpan += totalColSpan;\n                }\n            },\n            _wheelScroll: function (e) {\n                if (e.ctrlKey) {\n                    return;\n                }\n                var content = this.content;\n                if (this.options.scrollable.virtual) {\n                    content = this.virtualScrollable.verticalScrollbar;\n                }\n                var scrollTop = content.scrollTop(), delta = kendo.wheelDeltaY(e);\n                if (delta) {\n                    if (content[0].scrollHeight > content[0].clientHeight && (content[0].scrollTop < content[0].scrollHeight - content[0].clientHeight && delta < 0 || content[0].scrollTop > 0 && delta > 0)) {\n                        e.preventDefault();\n                    }\n                    content.scrollTop(scrollTop + -delta);\n                }\n            },\n            _isLocked: function () {\n                return this.lockedHeader != null;\n            },\n            _updateHeaderCols: function () {\n                var table = this.thead.parent().add(this.table);\n                if (this._isLocked()) {\n                    normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n                } else {\n                    normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), 0);\n                }\n            },\n            _updateColumnSorters: function () {\n                var that = this;\n                var cells = leafDataCells(that.thead);\n                var columns = leafColumns(that.columns);\n                var column;\n                var cell;\n                var sorterInstance;\n                if (!that.options.sortable) {\n                    return;\n                }\n                for (var idx = 0, length = cells.length; idx < length; idx++) {\n                    column = columns[idx];\n                    if (column.sortable !== false && !column.command && column.field) {\n                        cell = cells.eq(idx);\n                        sorterInstance = cell.data('kendoColumnSorter');\n                        if (sorterInstance) {\n                            sorterInstance.refresh();\n                        }\n                    }\n                }\n            },\n            _updateCols: function (table) {\n                table = table || this.thead.parent().add(this.table);\n                this._appendCols(table, this._isLocked());\n            },\n            _updateLockedCols: function (table) {\n                if (this._isLocked()) {\n                    table = table || this.lockedHeader.find('table').add(this.lockedTable);\n                    normalizeCols(table, visibleLeafColumns(visibleLockedColumns(this.columns)), this._hasDetails(), this._groups());\n                }\n            },\n            _appendCols: function (table, locked) {\n                if (locked) {\n                    normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n                } else {\n                    normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), this._groups());\n                }\n            },\n            _autoColumns: function (schema) {\n                if (schema && schema.toJSON) {\n                    var that = this, field, encoded;\n                    schema = schema.toJSON();\n                    encoded = !(that.table.find('tbody tr').length > 0 && (!that.dataSource || !that.dataSource.transport));\n                    for (field in schema) {\n                        that.columns.push({\n                            field: field,\n                            encoded: encoded,\n                            headerAttributes: { id: kendo.guid() }\n                        });\n                    }\n                    that._thead();\n                    that._templates();\n                }\n            },\n            _rowsHtml: function (data, templates) {\n                var that = this, html = '', idx, rowTemplate = templates.rowTemplate, altRowTemplate = templates.altRowTemplate, length;\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    if (that._skipRerenderItemsCount > 0) {\n                        that._skipRerenderItemsCount--;\n                    } else {\n                        if (idx % 2) {\n                            html += altRowTemplate(data[idx]);\n                        } else {\n                            html += rowTemplate(data[idx]);\n                        }\n                    }\n                    that._data.push(data[idx]);\n                }\n                return html;\n            },\n            _groupData: function (group, skipFooter, firstColumn) {\n                var that = this, footerDefaults = that._groupAggregatesDefaultObject || {}, groupItems = group.items, aggregates = extend({}, footerDefaults, group.aggregates), headerData = extend({}, {\n                        field: group.field,\n                        value: group.value,\n                        items: groupItems,\n                        aggregates: aggregates\n                    }, group.aggregates[firstColumn ? firstColumn.field : group.field]), footerData = {};\n                if (!skipFooter) {\n                    for (var aggregate in aggregates) {\n                        footerData[aggregate] = extend({}, aggregates[aggregate], {\n                            group: {\n                                field: group.field,\n                                value: group.value,\n                                items: groupItems\n                            }\n                        });\n                    }\n                }\n                return extend({}, footerData, headerData);\n            },\n            _groupRowHtml: function (group, colspan, level, groupHeaderBuilder, templates, skipColspan, skipLastGroup) {\n                var that = this, html = '', idx, length, field = group.field, column = grep(leafColumns(that.columns), function (column) {\n                        return column.field == field;\n                    })[0] || {}, template = column.groupHeaderTemplate ? column.groupHeaderTemplate : visibleColumns(that.columns)[0].groupHeaderColumnTemplate, text = (column.title || field) + ': ' + formatGroupValue(group.value, column.format, column.values, column.encoded), groupItems = group.items, groups = that._groups(), groupFooterTemplate = templates.groupFooterTemplate, groupHeaderColumnTemplate = templates.groupHeaderColumnTemplate, groupData;\n                if (templates.groupFooterTemplate || templates.groupHeaderColumnTemplate || column.groupHeaderTemplate) {\n                    groupData = that._groupData(group, false, !column.groupHeaderTemplate && visibleColumns(that.columns)[0].groupHeaderColumnTemplate ? visibleColumns(that.columns)[0] : false);\n                }\n                if (template && !skipColspan) {\n                    text = typeof template === FUNCTION ? template(groupData) : kendo.template(template)(groupData);\n                }\n                if (!that._skipRerenderItemsCount) {\n                    if (groupHeaderColumnTemplate) {\n                        html += groupHeaderColumnTemplate(extend({}, groupData, {\n                            groupCells: level,\n                            colspan: groups - level,\n                            text: text\n                        }));\n                    } else {\n                        html += groupHeaderBuilder(colspan, level, text);\n                    }\n                } else {\n                    groupHeaderBuilder(colspan, level, text);\n                }\n                if (group.hasSubgroups) {\n                    for (idx = 0, length = groupItems.length; idx < length; idx++) {\n                        html += that._groupRowHtml(groupItems[idx], skipColspan ? colspan : colspan - 1, level + 1, groupHeaderBuilder, templates, skipColspan, skipLastGroup && idx === groupItems.length - 1);\n                    }\n                } else {\n                    html += that._rowsHtml(groupItems, templates);\n                }\n                if (groupFooterTemplate) {\n                    if (skipLastGroup) {\n                        if (!inArray(group.value, that._skippedGroups)) {\n                            that._skippedGroups.push(group.value);\n                        }\n                    } else {\n                        if (that._skippedGroups.length && that._skippedGroups[0] === group.value) {\n                            that._skippedGroups.shift();\n                        }\n                        if (!that._skipRerenderItemsCount) {\n                            html += groupFooterTemplate(groupData);\n                        }\n                    }\n                }\n                return html;\n            },\n            collapseGroup: function (group) {\n                var level, that = this, groupToCollapse = group, groupable = this.options.groupable, showFooter = groupable.showFooter, footerCount = showFooter ? 0 : 1, offset, relatedGroup = $(), idx, length, tr;\n                group = $(group);\n                if (this._isLocked()) {\n                    if (!group.closest('div').hasClass('k-grid-content-locked')) {\n                        relatedGroup = group.nextAll('tr');\n                        group = this.lockedTable.find('>tbody>tr:eq(' + group.index() + ')');\n                    } else {\n                        relatedGroup = this.tbody.children('tr:eq(' + group.index() + ')').nextAll('tr');\n                    }\n                }\n                level = group.find('.k-group-cell').length;\n                group.find('.k-i-collapse').addClass('k-i-expand').removeClass('k-i-collapse');\n                group.find('td[aria-expanded=\\'true\\']:first').attr('aria-expanded', false).find('a').attr(ARIALABEL, EXPAND);\n                group = group.nextAll('tr');\n                var toHide = [];\n                for (idx = 0, length = group.length; idx < length; idx++) {\n                    tr = group.eq(idx);\n                    offset = tr.find('.k-group-cell').length;\n                    if (tr.hasClass('k-grouping-row')) {\n                        footerCount++;\n                    } else if (tr.hasClass('k-group-footer')) {\n                        footerCount--;\n                    }\n                    if (offset <= level || tr.hasClass('k-group-footer') && footerCount < 0) {\n                        break;\n                    }\n                    if (relatedGroup.length) {\n                        toHide.push(relatedGroup[idx]);\n                    }\n                    toHide.push(tr[0]);\n                }\n                $(toHide).hide();\n                if (this.options.scrollable.endless && this.content) {\n                    clearTimeout(that._collapseGroupsTimeOut);\n                    that._collapseGroupsTimeOut = setTimeout(function () {\n                        that.content.scroll();\n                        that._groupToCollapse = groupToCollapse;\n                    });\n                }\n            },\n            expandGroup: function (group) {\n                group = $(group);\n                var that = this, showFooter = that.options.groupable.showFooter, level, tr, offset, relatedGroup = $(), idx, length, footersVisibility = [], groupsCount = 1;\n                if (this._isLocked()) {\n                    if (!group.closest('div').hasClass('k-grid-content-locked')) {\n                        relatedGroup = group.nextAll('tr');\n                        group = this.lockedTable.find('>tbody>tr:eq(' + group.index() + ')');\n                    } else {\n                        relatedGroup = this.tbody.children('tr:eq(' + group.index() + ')').nextAll('tr');\n                    }\n                }\n                level = group.find('.k-group-cell').length;\n                group.find('.k-i-expand').addClass('k-i-collapse').removeClass('k-i-expand');\n                group.find('td[aria-expanded=\\'false\\']:first').attr('aria-expanded', true).find('a').attr(ARIALABEL, COLLAPSE);\n                group = group.nextAll('tr');\n                for (idx = 0, length = group.length; idx < length; idx++) {\n                    tr = group.eq(idx);\n                    offset = tr.find('.k-group-cell').length;\n                    if (offset <= level) {\n                        break;\n                    }\n                    if (offset == level + 1 && !tr.hasClass('k-detail-row')) {\n                        tr.show();\n                        relatedGroup.eq(idx).show();\n                        if (tr.hasClass('k-grouping-row') && tr.find('.k-icon').hasClass('k-i-collapse')) {\n                            that.expandGroup(tr);\n                        }\n                        if (tr.hasClass('k-master-row') && tr.find('.k-icon').hasClass('k-i-collapse')) {\n                            tr.next().show();\n                            relatedGroup.eq(idx + 1).show();\n                        }\n                    }\n                    if (tr.hasClass('k-grouping-row')) {\n                        if (showFooter) {\n                            footersVisibility.push(tr.is(':visible'));\n                        }\n                        groupsCount++;\n                    }\n                    if (tr.hasClass('k-group-footer')) {\n                        if (showFooter) {\n                            tr.toggle(footersVisibility.pop());\n                        }\n                        if (groupsCount == 1) {\n                            tr.show();\n                            relatedGroup.eq(idx).show();\n                        } else {\n                            groupsCount--;\n                        }\n                    }\n                }\n                if (level === 0 && that.options.scrollable.endless && this._isLocked()) {\n                    that._syncLockedContentHeight();\n                }\n            },\n            _updateHeader: function (groups) {\n                var that = this, container = that._isLocked() ? that.lockedHeader.find('thead') : that.thead, filterCells = container.find('tr.k-filter-row').find('th.k-group-cell').length, length = container.find('tr:first').find('th.k-group-cell').length, rows = container.children('tr:not(:first)').filter(function () {\n                        return !$(this).children(':visible').length;\n                    });\n                if (groups > length) {\n                    $(new Array(groups - length + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">' + that.options.messages.expandCollapseColumnHeader + '</th>')).prependTo(container.children('tr:not(.k-filter-row)'));\n                    if (that.element.is(':visible')) {\n                        rows.find('th.k-group-cell').hide();\n                    }\n                } else if (groups < length) {\n                    container.find('tr').each(function () {\n                        $(this).find('th.k-group-cell').filter(':eq(' + groups + '),' + ':gt(' + groups + ')').remove();\n                    });\n                }\n                if (groups > filterCells) {\n                    $(new Array(groups - filterCells + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">&nbsp;</th>')).prependTo(container.find('.k-filter-row'));\n                }\n            },\n            _firstDataItem: function (data, grouped) {\n                if (data && grouped) {\n                    if (data.hasSubgroups) {\n                        data = this._firstDataItem(data.items[0], grouped);\n                    } else {\n                        data = data.items[0];\n                    }\n                }\n                return data;\n            },\n            _updateTablesWidth: function () {\n                var that = this, tables;\n                if (!that._isLocked()) {\n                    return;\n                }\n                tables = $('>.k-grid-footer>.k-grid-footer-wrap>table', that.wrapper).add(that.thead.parent()).add(that.table);\n                that._footerWidth = tableWidth(tables.eq(0));\n                tables.width(that._footerWidth);\n                tables = $('>.k-grid-footer>.k-grid-footer-locked>table', that.wrapper).add(that.lockedHeader.find('>table')).add(that.lockedTable);\n                tables.width(tableWidth(tables.eq(0)));\n            },\n            hideColumn: function (column) {\n                var that = this, cell, tables, idx, cols, colWidth, position, width = 0, headerCellIndex, length, footer = that.footer || that.wrapper.find('.k-grid-footer'), columns = that.columns, visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).filter(isCellVisible).length : 0, columnIndex, groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function (column) {\n                        return column.groupHeaderColumnTemplate;\n                    });\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !isVisible(column)) {\n                    return;\n                }\n                var setColumnVisibility = that._columnVisibilitySetter(column);\n                if (column.columns && column.columns.length) {\n                    position = columnVisiblePosition(column, columns);\n                    setColumnVisibility(column, false);\n                    setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr:eq(' + position.row + ')>th'), position.cell, false);\n                    for (idx = 0; idx < column.columns.length; idx++) {\n                        this.hideColumn(column.columns[idx]);\n                    }\n                    that.trigger(COLUMNHIDE, { column: column });\n                    return;\n                }\n                columnIndex = inArray(column, visibleColumns(leafColumns(columns)));\n                setColumnVisibility(column, false);\n                that._setParentsVisibility(column, false);\n                that._templates();\n                that._updateCols();\n                that._updateLockedCols();\n                var container = that.thead;\n                headerCellIndex = columnIndex;\n                if (that.lockedHeader && visibleLocked > columnIndex) {\n                    container = that.lockedHeader.find('>table>thead');\n                } else {\n                    headerCellIndex -= visibleLocked;\n                }\n                cell = leafDataCells(container).filter(isCellVisible).eq(headerCellIndex);\n                cell[0].style.display = 'none';\n                setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr.k-filter-row>th'), columnIndex, false);\n                if (footer[0]) {\n                    that._updateCols(footer.find('>.k-grid-footer-wrap>table'));\n                    that._updateLockedCols(footer.find('>.k-grid-footer-locked>table'));\n                    setCellVisibility(footer.find('.k-footer-template>td'), columnIndex, false);\n                }\n                if (that.lockedTable && visibleLocked > columnIndex) {\n                    hideColumnCells(that.lockedTable.find('>tbody>tr'), columnIndex);\n                } else {\n                    hideColumnCells(that.tbody.children(), columnIndex - visibleLocked);\n                }\n                if (that.lockedTable) {\n                    that._updateTablesWidth();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    that._syncLockedHeaderHeight();\n                    that._syncLockedFooterHeight();\n                } else {\n                    cols = that.thead.prev().find('col');\n                    for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                        colWidth = cols[idx].style.width;\n                        if (colWidth && colWidth.indexOf('%') == -1) {\n                            width += parseInt(colWidth, 10);\n                        } else {\n                            width = 0;\n                            break;\n                        }\n                    }\n                    tables = $('>.k-grid-header table:first,>.k-grid-footer table:first', that.wrapper).add(that.table);\n                    that._footerWidth = null;\n                    if (width) {\n                        tables.each(function () {\n                            this.style.width = width + 'px';\n                        });\n                        that._footerWidth = width;\n                    }\n                    if (browser.msie && browser.version == 8) {\n                        tables.css('display', 'inline-table');\n                        setTimeout(function () {\n                            tables.css('display', 'table');\n                        }, 1);\n                    }\n                }\n                that._updateFirstColumnClass();\n                if (groupHeaderColumnTemplateColumns.length > 0) {\n                    that._renderGroupRows();\n                }\n                that.trigger(COLUMNHIDE, { column: column });\n            },\n            _setParentsVisibility: function (column, visible) {\n                var that = this;\n                var columns = that.columns;\n                var idx;\n                var parents = [];\n                var parent;\n                var position;\n                var cell;\n                var colSpan;\n                var setColumnVisibility = that._columnVisibilitySetter(column);\n                var predicate = visible ? function (p) {\n                    return visibleColumns(p.columns).length && p.hidden;\n                } : function (p) {\n                    return !visibleColumns(p.columns).length && !p.hidden;\n                };\n                if (columnParents(column, columns, parents) && parents.length) {\n                    for (idx = parents.length - 1; idx >= 0; idx--) {\n                        parent = parents[idx];\n                        position = columnPosition(parent, columns);\n                        cell = elements($('>table>thead', this.lockedHeader), this.thead, '>tr:eq(' + position.row + ')>th:not(.k-group-cell):not(.k-hierarchy-cell)').eq(position.cell);\n                        if (predicate(parent)) {\n                            setColumnVisibility(parent, visible);\n                            cell[0].style.display = visible ? '' : 'none';\n                        }\n                        if (cell.filter('[' + kendo.attr('colspan') + ']').length) {\n                            colSpan = parseInt(cell.attr(kendo.attr('colspan')), 10);\n                            cell[0].colSpan = colSpan - hiddenLeafColumnsCount(parent.columns) || 1;\n                        }\n                    }\n                }\n            },\n            showColumn: function (column) {\n                var that = this, idx, length, cell, tables, width, headerCellIndex, position, colWidth, cols, columns = that.columns, footer = that.footer || that.wrapper.find('.k-grid-footer'), lockedColumnsCount = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).length : 0, columnIndex, originalColumn, columnLeafIndex, groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function (column) {\n                        return column.groupHeaderColumnTemplate;\n                    });\n                if (typeof column == 'number') {\n                    columnIndex = column;\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    $.each(flatColumns(columns), function (index, item) {\n                        if (item === column) {\n                            column = item;\n                            columnIndex = index;\n                            return false;\n                        }\n                    });\n                } else {\n                    $.each(flatColumns(columns), function (index, item) {\n                        if (item.field === column) {\n                            column = item;\n                            columnIndex = index;\n                            return false;\n                        }\n                    });\n                }\n                if (!column || isVisible(column)) {\n                    return;\n                }\n                var setColumnVisibility = that._columnVisibilitySetter(column);\n                if (column.columns && column.columns.length) {\n                    position = columnPosition(column, columns);\n                    originalColumn = flatColumns(that.options.columns)[columnIndex];\n                    setColumnVisibility(column, true);\n                    setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr:eq(' + position.row + ')>th'), position.cell, true);\n                    for (idx = 0; idx < column.columns.length; idx++) {\n                        if (!originalColumn.columns[idx].hidden) {\n                            this.showColumn(column.columns[idx]);\n                        }\n                    }\n                    that.trigger(COLUMNSHOW, { column: column });\n                    return;\n                }\n                columnLeafIndex = inArray(column, leafColumns(columns));\n                setColumnVisibility(column, true);\n                that._setParentsVisibility(column, true);\n                that._templates();\n                that._updateCols();\n                that._updateLockedCols();\n                var container = that.thead;\n                headerCellIndex = columnLeafIndex;\n                if (that.lockedHeader && lockedColumnsCount > columnLeafIndex) {\n                    container = that.lockedHeader.find('>table>thead');\n                } else {\n                    headerCellIndex -= lockedColumnsCount;\n                }\n                cell = leafDataCells(container).eq(headerCellIndex);\n                cell[0].style.display = '';\n                setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr.k-filter-row>th'), columnLeafIndex, true);\n                if (footer[0]) {\n                    that._updateCols(footer.find('>.k-grid-footer-wrap>table'));\n                    that._updateLockedCols(footer.find('>.k-grid-footer-locked>table'));\n                    setCellVisibility(footer.find('.k-footer-template>td'), columnLeafIndex, true);\n                }\n                if (that.lockedTable && lockedColumnsCount > columnLeafIndex) {\n                    showColumnCells(that.lockedTable.find('>tbody>tr'), columnLeafIndex);\n                } else {\n                    showColumnCells(that.tbody.children(), columnLeafIndex - lockedColumnsCount);\n                }\n                if (that.lockedTable) {\n                    that._updateTablesWidth();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    that._syncLockedHeaderHeight();\n                } else {\n                    tables = $('>.k-grid-header table:first,>.k-grid-footer table:first', that.wrapper).add(that.table);\n                    if (!column.width) {\n                        tables.width('');\n                    } else {\n                        width = 0;\n                        cols = that.thead.prev().find('col');\n                        for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                            colWidth = cols[idx].style.width;\n                            if (colWidth.indexOf('%') > -1) {\n                                width = 0;\n                                break;\n                            }\n                            width += parseInt(colWidth, 10);\n                        }\n                        that._footerWidth = null;\n                        if (width) {\n                            tables.each(function () {\n                                this.style.width = width + 'px';\n                            });\n                            that._footerWidth = width;\n                        }\n                    }\n                }\n                that._updateFirstColumnClass();\n                if (groupHeaderColumnTemplateColumns.length > 0) {\n                    that._renderGroupRows();\n                }\n                that.trigger(COLUMNSHOW, { column: column });\n            },\n            _columnVisibilitySetter: function (column) {\n                var col = column || {};\n                if (isUndefined(col.media)) {\n                    return setColumnVisibility;\n                } else {\n                    return setColumnMediaVisibility;\n                }\n            },\n            _progress: function (toggle) {\n                var element = this.element;\n                var endless = this.options.scrollable && this.options.scrollable.endless;\n                if (this._editContainer && this._editMode() === 'popup') {\n                    element = this._editContainer;\n                } else if (this.lockedContent || endless) {\n                    element = this.wrapper;\n                } else if (this.element.is('table')) {\n                    element = this.element.parent();\n                } else if (this.content && this.content.length) {\n                    element = this.content;\n                }\n                if (endless && toggle) {\n                    kendo.ui.progress(element, toggle, {\n                        height: this.content.height(),\n                        top: this.content[0].offsetTop,\n                        opacity: true\n                    });\n                } else {\n                    kendo.ui.progress(element, toggle);\n                }\n            },\n            _resize: function (size, force) {\n                this._syncLockedContentHeight();\n                this._syncLockedHeaderHeight();\n                if (this.content) {\n                    this._setContentWidth();\n                    this._setContentHeight();\n                }\n                if (this.lockedTable) {\n                    this.lockedContent[0].scrollTop = this.content[0].scrollTop;\n                }\n                if (this.virtualScrollable && (force || this._rowHeight)) {\n                    if (force) {\n                        this._rowHeight = null;\n                    }\n                    this.virtualScrollable.repaintScrollbar();\n                }\n                if (this.pager && this.pager.element) {\n                    this.pager.resize(force);\n                }\n            },\n            _isActiveInTable: function () {\n                var active = activeElement();\n                if (!active) {\n                    return false;\n                }\n                return this.table[0] === active || $.contains(this.table[0], active) || this._isLocked() && (this.lockedTable[0] === active || $.contains(this.lockedTable[0], active));\n            },\n            refresh: function (e) {\n                var that = this, data = that.dataSource.view(), navigatable = that.options.navigatable, currentIndex, current = $(that.current()), isCurrentInHeader = false, groups = (that.dataSource.group() || []).length, colspan = groups + visibleLeafColumns(visibleColumns(that.columns)).length, contentScrollLeft, cachedItemsToSkip;\n                if (e && e.action === 'itemchange' && (that.editable || that.options.scrollable.endless)) {\n                    if (this._editMode() != 'popup' || this._editMode() === 'popup' && !that._editableIsClosing) {\n                        return;\n                    }\n                }\n                if (e && e.action === 'remove' && that.editable && that.editable.options.model && inArray(that.editable.options.model, e.items) > -1) {\n                    that.editable.options.model.unbind(CHANGE, that._modelChangeHandler);\n                }\n                e = e || {};\n                if (that.trigger('dataBinding', {\n                        action: e.action || 'rebind',\n                        index: e.index,\n                        items: e.items\n                    })) {\n                    return;\n                }\n                if (e.action === SYNC && that._isVirtualEditable()) {\n                    that._destroyEditable();\n                    that._clearEditableState();\n                }\n                that._angularItems('cleanup');\n                if (!that._endlessFetchInProgress) {\n                    if (navigatable && (that._isActiveInTable() || that._editContainer && that._editContainer.data('kendoWindow'))) {\n                        isCurrentInHeader = current.is('th');\n                        currentIndex = isCurrentInHeader ? current.parent().children(':not(.k-group-cell)').index(current[0]) : Math.max(that.cellIndex(current), 0);\n                    }\n                    that._destroyEditable();\n                }\n                if (that.options.scrollable && that.options.scrollable.endless) {\n                    clearTimeout(that._progressTimeOut);\n                    that._progressTimeOut = setTimeout(function () {\n                        if (!that._endlessFetchInProgress) {\n                            that._progress(false);\n                        }\n                    }, 100);\n                } else {\n                    that._progress(false);\n                }\n                that._hideResizeHandle();\n                that._data = [];\n                if (!that.columns.length) {\n                    that._autoColumns(that._firstDataItem(data[0], groups));\n                    colspan = groups + that.columns.length;\n                }\n                that._group = groups > 0 || that._group;\n                if (that._group) {\n                    that._templates();\n                    that._updateCols();\n                    that._updateLockedCols();\n                    that._updateHeader(groups);\n                    that._group = groups > 0;\n                    that._groupRows = groupRows(data);\n                }\n                if (that.content) {\n                    contentScrollLeft = that.content.scrollLeft();\n                }\n                cachedItemsToSkip = that._skipRerenderItemsCount;\n                that._renderContent(data, colspan, groups);\n                if (that.options.scrollable && that.options.scrollable.endless && this.lockedContent) {\n                    that._skipRerenderItemsCount = cachedItemsToSkip;\n                }\n                that._renderLockedContent(data, colspan, groups);\n                that._footer();\n                that._renderNoRecordsContent();\n                that._togglePagerVisibility();\n                that._setContentHeight();\n                that._setContentWidth(that.content && contentScrollLeft);\n                if (that.lockedTable) {\n                    if (that.options.scrollable.virtual) {\n                        that.content.find('>.k-virtual-scrollable-wrap').trigger('scroll');\n                    } else if (that.touchScroller) {\n                        that.touchScroller.movable.trigger('change');\n                    } else {\n                        that.wrapper.one('scroll', function (e) {\n                            e.stopPropagation();\n                        });\n                        that.content.trigger('scroll');\n                    }\n                }\n                if (!that._endlessFetchInProgress) {\n                    that._restoreCurrent(currentIndex, isCurrentInHeader);\n                }\n                if (that.touchScroller) {\n                    that.touchScroller.contentResized();\n                }\n                if (that.selectable) {\n                    that.selectable.resetTouchEvents();\n                }\n                that._muteAngularRebind(function () {\n                    that._angularItems('compile');\n                });\n                if (that._checkBoxSelection) {\n                    that._toggleHeaderCheckState(false);\n                }\n                if (that.options.persistSelection && (that.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell || that._checkBoxSelection)) {\n                    that._restoreSelection();\n                } else {\n                    that._selectedIds = {};\n                }\n                that.trigger(DATABOUND);\n            },\n            _restoreCurrent: function (currentIndex, isCurrentInHeader) {\n                if (currentIndex === undefined || currentIndex < 0) {\n                    return;\n                }\n                this._removeCurrent();\n                if (isCurrentInHeader) {\n                    this._setCurrent(this.thead.find('th:not(.k-group-cell)').eq(currentIndex));\n                } else {\n                    var rowIndex = 0;\n                    if (this._rowVirtualIndex) {\n                        rowIndex = this.virtualScrollable.position(this._rowVirtualIndex);\n                    } else {\n                        currentIndex = 0;\n                    }\n                    var row = $();\n                    if (this.lockedTable) {\n                        row = this.lockedTable.find('>tbody>tr').eq(rowIndex);\n                    }\n                    row = row.add(this.tbody.children().eq(rowIndex));\n                    var td = row.find('>td:not(.k-group-cell):not(.k-hierarchy-cell)').eq(currentIndex);\n                    this._setCurrent(td);\n                }\n                if (this._current) {\n                    focusTable(this._current.closest('table')[0], true);\n                }\n            },\n            _restoreSelection: function () {\n                var that = this, allRows = that.items(), selectedRows, id = isFunction(that.dataSource.options.schema.model) ? that.dataSource.options.schema.model.fn.idField : that.dataSource.options.schema.model.id;\n                selectedRows = grep(allRows, function (row) {\n                    var dataItemKey = that.dataItem(row)[id];\n                    if (that._selectedIds[dataItemKey]) {\n                        return row;\n                    }\n                });\n                that.select(selectedRows);\n            },\n            _angularItems: function (cmd) {\n                kendo.ui.DataBoundWidget.fn._angularItems.call(this, cmd);\n                if (cmd === 'cleanup' && (!this.dataSource || !this.dataSource.options.endless)) {\n                    this._cleanupDetailItems();\n                }\n                this._angularGroupItems(cmd);\n                this._angularGroupFooterItems(cmd);\n            },\n            _cleanupDetailItems: function () {\n                var that = this;\n                if (that._hasDetails()) {\n                    that.angular('cleanup', function () {\n                        return { elements: that.tbody.children('.k-detail-row') };\n                    });\n                    that.tbody.find('.k-detail-cell').empty();\n                }\n            },\n            _angularGroupItems: function (cmd) {\n                var that = this, container = that.tbody;\n                if (that.lockedContent) {\n                    container = that.lockedTable.find('tbody');\n                }\n                if (that._group) {\n                    that.angular(cmd, function () {\n                        return {\n                            elements: container.children('.k-grouping-row'),\n                            data: $.map(groupRows(that.dataSource.view()), function (dataItem) {\n                                return { dataItem: dataItem };\n                            })\n                        };\n                    });\n                }\n            },\n            _angularGroupFooterItems: function (cmd) {\n                var that = this, container = that.tbody;\n                if (that.lockedContent) {\n                    container = that.element;\n                }\n                if (that._group && that.groupFooterTemplate) {\n                    that.angular(cmd, function () {\n                        return {\n                            elements: container.find('.k-group-footer'),\n                            data: $.map(groupFooters(that.dataSource.view()), function (dataItem) {\n                                return { dataItem: dataItem };\n                            })\n                        };\n                    });\n                }\n            },\n            _renderContent: function (data, colspan, groups) {\n                var that = this, idx, length, html = '', isLocked = that.lockedContent != null, endlessAppend = null, skipLastGroup, flatViewLength, scrollable = that.options.scrollable, templates = {\n                        rowTemplate: that.rowTemplate,\n                        altRowTemplate: that.altRowTemplate,\n                        groupFooterTemplate: that.groupFooterTemplate,\n                        groupHeaderColumnTemplate: that.groupHeaderColumnTemplate\n                    };\n                if (scrollable && scrollable.endless && !that.dataSource.options.endless) {\n                    that._skipRerenderItemsCount = 0;\n                    if (that.content) {\n                        that.content[0].scrollTop = 0;\n                    }\n                }\n                endlessAppend = that._skipRerenderItemsCount > 0;\n                colspan = isLocked ? colspan - visibleLeafColumns(visibleLockedColumns(that.columns)).length : colspan;\n                if (groups > 0) {\n                    colspan = isLocked ? colspan - groups : colspan;\n                    if (that.detailTemplate) {\n                        colspan++;\n                    }\n                    if (that.groupFooterTemplate) {\n                        that._groupAggregatesDefaultObject = that.dataSource.aggregates();\n                    }\n                    if (that.options.scrollable.endless) {\n                        flatViewLength = that.dataSource.flatView().length;\n                    }\n                    for (idx = 0, length = data.length; idx < length; idx++) {\n                        if (!that._skippedGroups) {\n                            that._skippedGroups = [];\n                        }\n                        skipLastGroup = flatViewLength && idx === data.length - 1 && flatViewLength !== that.dataSource.total();\n                        html += that._groupRowHtml(data[idx], colspan, 0, isLocked ? groupRowLockedContentBuilder : groupRowBuilder, templates, isLocked, skipLastGroup);\n                    }\n                } else {\n                    html += that._rowsHtml(data, templates);\n                }\n                if (endlessAppend) {\n                    that.tbody.append(html);\n                    clearTimeout(that._endlessFetchTimeOut);\n                    that._endlessFetchTimeOut = setTimeout(function () {\n                        if (that._groupToCollapse) {\n                            that.collapseGroup(that._groupToCollapse);\n                            that._groupToCollapse = null;\n                        }\n                    });\n                    that._endlessFetchInProgress = null;\n                } else {\n                    that.tbody = appendContent(that.tbody, that.table, html, this.options.$angular);\n                }\n            },\n            _renderGroupRows: function () {\n                var that = this, data = that._groupRows, groupRows = that.wrapper.find('.k-grouping-row'), groups = that._groups(), groupRowBuilderFunc, isLocked = that.lockedContent != null, columns, colspan, group, field, column, template, text, groupHeaderData, tableContainer, isInLockedContainer, prevElement, newGroupRowElement, currentRow, level, groupHeaderColumnTemplate, firstColumnGroupData;\n                groupRows.each(function (index, row) {\n                    currentRow = $(row);\n                    tableContainer = currentRow.closest('table').parent();\n                    isInLockedContainer = tableContainer.is('.' + CONTENTRLOCKEDCONTAINER);\n                    columns = isInLockedContainer ? visibleLeafColumns(visibleColumns(lockedColumns(that.columns))) : visibleLeafColumns(visibleColumns(nonLockedColumns(that.columns)));\n                    level = currentRow.find('.' + GROUPCELLCLASS).length;\n                    if (isLocked) {\n                        groupRowBuilderFunc = isInLockedContainer ? groupRowBuilder : groupRowLockedContentBuilder;\n                        colspan = isInLockedContainer ? columns.length + groups - level : columns.length;\n                    } else {\n                        groupRowBuilderFunc = groupRowBuilder;\n                        colspan = columns.length + groups - level;\n                    }\n                    group = index >= data.length ? data[index - data.length] : data[index];\n                    field = group.field;\n                    column = grep(leafColumns(that.columns), function (column) {\n                        return column.field == field;\n                    })[0] || {};\n                    firstColumnGroupData = !column.groupHeaderTemplate && visibleColumns(that.columns)[0].groupHeaderColumnTemplate ? visibleColumns(that.columns)[0] : false;\n                    template = column.groupHeaderTemplate ? column.groupHeaderTemplate : visibleColumns(that.columns)[0].groupHeaderColumnTemplate;\n                    text = (column.title || field) + ': ' + formatGroupValue(group.value, column.format, column.values, column.encoded);\n                    groups = groups;\n                    groupHeaderData = that._groupData(group, false, firstColumnGroupData);\n                    groupHeaderColumnTemplate = isInLockedContainer ? that.lockedGroupHeaderColumnTemplate : that.groupHeaderColumnTemplate;\n                    if (template) {\n                        text = typeof template === FUNCTION ? template(groupHeaderData) : kendo.template(template)(groupHeaderData);\n                    }\n                    prevElement = currentRow.prev().length ? currentRow.prev() : currentRow.parent();\n                    newGroupRowElement = $(groupHeaderColumnTemplate ? groupHeaderColumnTemplate(extend({}, groupHeaderData, {\n                        groupCells: level,\n                        colspan: groups - level,\n                        text: text\n                    })) : groupRowBuilderFunc(colspan, level, text));\n                    if (prevElement.is('tbody')) {\n                        prevElement.prepend(newGroupRowElement);\n                    } else {\n                        prevElement.after(newGroupRowElement);\n                    }\n                    currentRow.remove();\n                });\n            },\n            _renderLockedContent: function (data, colspan, groups) {\n                var html = '', idx, length, endlessAppend = null, templates = {\n                        rowTemplate: this.lockedRowTemplate,\n                        altRowTemplate: this.lockedAltRowTemplate,\n                        groupFooterTemplate: this.lockedGroupFooterTemplate,\n                        groupHeaderColumnTemplate: this.lockedGroupHeaderColumnTemplate\n                    };\n                if (this.lockedContent) {\n                    var table = this.lockedTable;\n                    endlessAppend = this._skipRerenderItemsCount > 0;\n                    if (groups > 0) {\n                        colspan = colspan - visibleColumns(leafColumns(nonLockedColumns(this.columns))).length;\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            html += this._groupRowHtml(data[idx], colspan, 0, groupRowBuilder, templates, false, this.options.scrollable.endless && idx === data.length - 1);\n                        }\n                    } else {\n                        html = this._rowsHtml(data, templates);\n                    }\n                    if (endlessAppend) {\n                        table.children('tbody').append(html);\n                    } else {\n                        appendContent(table.children('tbody'), table, html, this.options.$angular);\n                    }\n                    this._syncLockedContentHeight();\n                }\n            },\n            _togglePagerVisibility: function () {\n                if (this.options.pageable.alwaysVisible === false) {\n                    this.wrapper.find('.k-grid-pager').toggle(this.dataSource.total() >= this.dataSource.pageSize());\n                }\n            },\n            _adjustRowsHeight: function (table1, table2) {\n                var rows = table1[0].rows, length = rows.length, idx, rows2 = table2[0].rows, containers = table1.add(table2), containersLength = containers.length, heights = [];\n                for (idx = 0; idx < length; idx++) {\n                    if (!rows2[idx]) {\n                        break;\n                    }\n                    if (rows[idx].style.height) {\n                        rows[idx].style.height = rows2[idx].style.height = '';\n                    }\n                }\n                for (idx = 0; idx < length; idx++) {\n                    if (!rows2[idx]) {\n                        break;\n                    }\n                    var offsetHeight1 = rows[idx].offsetHeight;\n                    var offsetHeight2 = rows2[idx].offsetHeight;\n                    var height = 0;\n                    if (offsetHeight1 > offsetHeight2) {\n                        height = offsetHeight1;\n                    } else if (offsetHeight1 < offsetHeight2) {\n                        height = offsetHeight2;\n                    }\n                    heights.push(height);\n                }\n                for (idx = 0; idx < containersLength; idx++) {\n                    containers[idx].style.display = 'none';\n                }\n                for (idx = 0; idx < length; idx++) {\n                    if (heights[idx]) {\n                        rows[idx].style.height = rows2[idx].style.height = heights[idx] + 1 + 'px';\n                    }\n                }\n                for (idx = 0; idx < containersLength; idx++) {\n                    containers[idx].style.display = '';\n                }\n            }\n        });\n        if (kendo.ExcelMixin) {\n            kendo.ExcelMixin.extend(Grid.prototype);\n        }\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Grid.prototype);\n            Grid.prototype._drawPDF_autoPageBreak = function (progress) {\n                var grid = this;\n                var result = new $.Deferred();\n                var dataSource = grid.dataSource;\n                var allPages = grid.options.pdf.allPages;\n                var origBody = grid.wrapper.find('table[role$=\"grid\"] > tbody');\n                var cont = $('<div>').css({\n                    position: 'absolute',\n                    left: -10000,\n                    top: -10000\n                });\n                var clone = grid.wrapper.clone().css({\n                    height: 'auto',\n                    width: 'auto'\n                }).appendTo(cont);\n                clone.find('.k-grid-content').css({\n                    height: 'auto',\n                    width: 'auto',\n                    overflow: 'visible'\n                });\n                clone.find('table[role$=\"grid\"], .k-grid-footer table').css({\n                    height: 'auto',\n                    width: '100%',\n                    overflow: 'visible'\n                });\n                clone.find('.k-grid-pager, .k-grid-toolbar, .k-grouping-header').remove();\n                clone.find('.k-grid-header, .k-grid-footer').css({ paddingRight: 0 });\n                this._initPDFProgress(progress);\n                var body = clone.find('table[role$=\"grid\"] > tbody').empty();\n                var startingPage = dataSource.page();\n                function resolve() {\n                    if (allPages && startingPage !== undefined) {\n                        dataSource.one('change', draw);\n                        dataSource.page(startingPage);\n                    } else {\n                        grid.refresh();\n                        draw();\n                    }\n                }\n                function draw() {\n                    cont.appendTo(document.body);\n                    var options = $.extend({}, grid.options.pdf, {\n                        _destructive: true,\n                        progress: function (p) {\n                            progress.notify({\n                                page: p.page,\n                                pageNumber: p.pageNum,\n                                progress: 0.5 + p.pageNum / p.totalPages / 2,\n                                totalPages: p.totalPages\n                            });\n                        }\n                    });\n                    kendo.drawing.drawDOM(clone, options).always(function () {\n                        cont.remove();\n                    }).then(function (group) {\n                        result.resolve(group);\n                    }).fail(function (err) {\n                        result.reject(err);\n                    });\n                }\n                function renderPage() {\n                    var pageNum = dataSource.page();\n                    var totalPages = allPages ? dataSource.totalPages() : 1;\n                    body.append(origBody.find('tr'));\n                    if (pageNum < totalPages) {\n                        dataSource.page(pageNum + 1);\n                    } else {\n                        dataSource.unbind('change', renderPage);\n                        resolve();\n                    }\n                }\n                if (allPages) {\n                    dataSource.bind('change', renderPage);\n                    dataSource.page(1);\n                } else {\n                    renderPage();\n                }\n                return result.promise();\n            };\n            Grid.prototype._drawPDF = function (progress) {\n                var grid = this;\n                if (grid.options.pdf.paperSize && grid.options.pdf.paperSize != 'auto') {\n                    return grid._drawPDF_autoPageBreak(progress);\n                }\n                var result = new $.Deferred();\n                var dataSource = grid.dataSource;\n                var allPages = grid.options.pdf.allPages;\n                this._initPDFProgress(progress);\n                var doc = new kendo.drawing.Group();\n                var startingPage = dataSource.page();\n                function resolve() {\n                    if (allPages && startingPage !== undefined) {\n                        dataSource.unbind('change', exportPage);\n                        dataSource.one('change', function () {\n                            result.resolve(doc);\n                        });\n                        dataSource.page(startingPage);\n                    } else {\n                        result.resolve(doc);\n                    }\n                }\n                function exportPage() {\n                    grid._drawPDFShadow({ width: grid.wrapper.width() }, { avoidLinks: grid.options.pdf.avoidLinks }).done(function (group) {\n                        var pageNum = dataSource.page();\n                        var totalPages = allPages ? dataSource.totalPages() : 1;\n                        var args = {\n                            page: group,\n                            pageNumber: pageNum,\n                            progress: pageNum / totalPages,\n                            totalPages: totalPages\n                        };\n                        progress.notify(args);\n                        doc.append(args.page);\n                        if (pageNum < totalPages) {\n                            dataSource.page(pageNum + 1);\n                        } else {\n                            resolve();\n                        }\n                    }).fail(function (err) {\n                        result.reject(err);\n                    });\n                }\n                if (allPages) {\n                    dataSource.bind('change', exportPage);\n                    dataSource.page(1);\n                } else {\n                    exportPage();\n                }\n                return result.promise();\n            };\n            Grid.prototype._initPDFProgress = function (deferred) {\n                var loading = $('<div class=\\'k-loading-pdf-mask\\'><div class=\\'k-loading-color\\'/></div>');\n                loading.prepend(this.wrapper.clone().css({\n                    position: 'absolute',\n                    top: 0,\n                    left: 0\n                }));\n                this.wrapper.append(loading);\n                var pb = $('<div class=\\'k-loading-pdf-progress\\'>').appendTo(loading).kendoProgressBar({\n                    type: 'chunk',\n                    chunkCount: 10,\n                    min: 0,\n                    max: 1,\n                    value: 0\n                }).data('kendoProgressBar');\n                deferred.progress(function (e) {\n                    pb.value(e.progress);\n                }).always(function () {\n                    kendo.destroy(loading);\n                    loading.remove();\n                });\n            };\n        }\n        function syncTableHeight(table1, table2) {\n            table1 = table1[0];\n            table2 = table2[0];\n            if (table1.rows.length !== table2.rows.length) {\n                var lockedHeigth = table1.offsetHeight;\n                var tableHeigth = table2.offsetHeight;\n                var row;\n                var diff;\n                if (lockedHeigth > tableHeigth) {\n                    row = table2.rows[table2.rows.length - 1];\n                    if (filterRowRegExp.test(row.className)) {\n                        row = table2.rows[table2.rows.length - 2];\n                    }\n                    diff = lockedHeigth - tableHeigth;\n                } else {\n                    row = table1.rows[table1.rows.length - 1];\n                    if (filterRowRegExp.test(row.className)) {\n                        row = table1.rows[table1.rows.length - 2];\n                    }\n                    diff = tableHeigth - lockedHeigth;\n                }\n                row.style.height = row.offsetHeight + diff + 'px';\n            }\n        }\n        function adjustRowHeight(row1, row2) {\n            var height;\n            var offsetHeight1 = row1.offsetHeight;\n            var offsetHeight2 = row2.offsetHeight;\n            if (offsetHeight1 > offsetHeight2) {\n                height = offsetHeight1 + 'px';\n            } else if (offsetHeight1 < offsetHeight2) {\n                height = offsetHeight2 + 'px';\n            }\n            if (height) {\n                row1.style.height = row2.style.height = height;\n            }\n        }\n        function getCommand(commands, name) {\n            var idx, length, command;\n            if (typeof commands === STRING && commands === name) {\n                return commands;\n            }\n            if (isPlainObject(commands) && commands.name === name) {\n                return commands;\n            }\n            if (isArray(commands)) {\n                for (idx = 0, length = commands.length; idx < length; idx++) {\n                    command = commands[idx];\n                    if (typeof command === STRING && command === name || command.name === name) {\n                        return command;\n                    }\n                }\n            }\n            return null;\n        }\n        function focusTable(table, direct) {\n            if (direct === true) {\n                table = $(table);\n                var scrollLeft = table.parent().scrollLeft();\n                kendo.focusElement(table);\n                table.parent().scrollLeft(scrollLeft);\n            } else {\n                $(table).one('focusin', function (e) {\n                    e.preventDefault();\n                }).focus();\n            }\n        }\n        function isColumnGroupable(grid, column) {\n            return grid.options.groupable && (column.groupable || column.groupable === undefined);\n        }\n        function isGroupedBy(groups, field) {\n            return !!$.grep(groups, function (item) {\n                return item.field === field;\n            }).length;\n        }\n        function isColumnEditable(column, model) {\n            if (!column.field || column.selectable) {\n                return false;\n            }\n            if (model.editable && !model.editable(column.field)) {\n                return false;\n            }\n            if (column.editable && !column.editable(model)) {\n                return false;\n            }\n            return true;\n        }\n        function isInputElement(element) {\n            return $(element).is(':button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdown');\n        }\n        function tableClick(e) {\n            var currentTarget = $(e.currentTarget), isHeader = currentTarget.is('th'), table = this.table.add(this.lockedTable), headerTable = this.thead.parent().add($('>table', this.lockedHeader)), isInput = isInputElement(e.target), preventScroll = $(e.target).is('.k-checkbox-label, .k-checkbox'), target = $(e.target), currentTable = currentTarget.closest('table')[0];\n            if (isInput && currentTarget.find(kendo.roleSelector('filtercell')).length) {\n                this._setCurrent(currentTarget);\n                return;\n            }\n            if (currentTable !== table[0] && currentTable !== table[1] && currentTable !== headerTable[0] && currentTable !== headerTable[1]) {\n                return;\n            }\n            if (target.is('a.k-i-expand, a.k-i-collapse')) {\n                return;\n            }\n            if (this.options.navigatable) {\n                this._setCurrent(currentTarget, false, preventScroll);\n            }\n            if (isHeader || !isInput) {\n                setTimeout(function () {\n                    if (!(isIE8 && $(kendo._activeElement()).hasClass('k-widget'))) {\n                        if (!isInputElement(target[0]) || !isInputElement(kendo._activeElement()) || !$.contains(currentTable, kendo._activeElement())) {\n                            focusTable(currentTable, true);\n                        }\n                    }\n                });\n            }\n            if (isHeader && !kendo.support.touch) {\n                e.preventDefault();\n            }\n        }\n        function leftMostPosition(element, rtl) {\n            if (!rtl) {\n                return 0;\n            }\n            var result = 0;\n            if (kendo.support.browser.webkit) {\n                result = element.width();\n            }\n            return result;\n        }\n        function isInEdit(cell) {\n            return cell && (cell.hasClass('k-edit-cell') || cell.parent().hasClass('k-grid-edit-row'));\n        }\n        function groupCellBuilder(headerTemplateIndex) {\n            return '<td colspan=\"#=data.colspan +' + headerTemplateIndex + '#\">' + '<p class=\"k-reset\">' + '<a class=\"k-icon k-i-collapse\" href=\"\\\\#\" tabindex=\"-1\" ' + ARIALABEL + '=\"' + COLLAPSE + '\"></a>#=data.text#' + '</p></td>';\n        }\n        function groupCellLockedContentBuilder(headerTemplateIndex) {\n            return '<td colspan=\"' + headerTemplateIndex + '\">' + '<p class=\"k-reset\">&nbsp;</p></td>';\n        }\n        function groupRowBuilder(colspan, level, text) {\n            return '<tr role=\"row\" class=\"k-grouping-row\">' + groupCells(level) + '<td colspan=\"' + colspan + '\" aria-expanded=\"true\">' + '<p class=\"k-reset\">' + '<a class=\"k-icon k-i-collapse\" href=\"#\" tabindex=\"-1\" ' + ARIALABEL + '=\"' + COLLAPSE + '\"></a>' + text + '</p></td></tr>';\n        }\n        function groupRowLockedContentBuilder(colspan) {\n            return '<tr role=\"row\" class=\"k-grouping-row\">' + '<td colspan=\"' + colspan + '\" aria-expanded=\"true\">' + '<p class=\"k-reset\">&nbsp;</p></td></tr>';\n        }\n        ui.plugin(Grid);\n        ui.plugin(VirtualScrollable);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}