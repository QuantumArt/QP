(function(n){n.fn.splitter=function(t){return t=t||{},this.each(function(){function p(t){i.outline&&(c=c||u.clone(!1).insertAfter(f));s.css("-webkit-user-select","none");u.addClass(i.activeClass);f._posSplit=f[0][i.pxSplit]-t[i.eventPos];n(document).bind("mousemove",v).bind("mouseup",y)}function v(n){var t=f._posSplit+n[i.eventPos];i.outline?(t=Math.max(0,Math.min(t,r._DA-u._DA)),u.css(i.origin,t)):l(t)}function y(t){u.removeClass(i.activeClass);var r=f._posSplit+t[i.eventPos];i.outline&&(c.remove(),c=null,l(r));s.css("-webkit-user-select","text");n(document).unbind("mousemove",v).unbind("mouseup",y)}function l(t){t=Math.max(f._min,r._DA-e._max,Math.min(t,f._max,r._DA-u._DA-e._min));u._DA=u[0][i.pxSplit];u.css(i.origin,t).css(i.fixed,r._DF);f.css(i.origin,0).css(i.split,t).css(i.fixed,r._DF);e.css(i.origin,t+u._DA).css(i.split,r._DA-u._DA-t).css(i.fixed,r._DF);n.browser.msie||s.trigger("resize")}function o(n){for(var i=0,t=1;t<arguments.length;t++)i+=Math.max(parseInt(n.css(arguments[t]))||0,0);return i}var c,w=(t.splitHorizontal?"h":t.splitVertical?"v":t.type)||"v",i=n.extend({activeClass:"active",pxPerKey:8,tabIndex:0,accessKey:""},{v:{keyLeft:39,keyRight:37,cursor:"e-resize",splitbarClass:"vsplitbar",outlineClass:"voutline",type:"v",eventPos:"pageX",origin:"left",split:"width",pxSplit:"offsetWidth",side1:"Left",side2:"Right",fixed:"height",pxFixed:"offsetHeight",side3:"Top",side4:"Bottom"},h:{keyTop:40,keyBottom:38,cursor:"n-resize",splitbarClass:"hsplitbar",outlineClass:"houtline",type:"h",eventPos:"pageY",origin:"top",split:"height",pxSplit:"offsetHeight",side1:"Top",side2:"Bottom",fixed:"width",pxFixed:"offsetWidth",side3:"Left",side4:"Right"}}[w],t),r=n(this).css({position:"relative"}),s=n(">*",r[0]).css({position:"absolute","z-index":"1","-moz-outline-style":"none"}),f=n(s[0]),e=n(s[1]),b=n('<a href="javascript:void(0)"><\/a>').attr({accessKey:i.accessKey,tabIndex:i.tabIndex,title:i.splitbarClass}).bind(n.browser.opera?"click":"focus",function(){this.focus();u.addClass(i.activeClass)}).bind("keydown",function(n){var t=n.which||n.keyCode,r=t==i["key"+i.side1]?1:t==i["key"+i.side2]?-1:0;r&&l(f[0][i.pxSplit]+r*i.pxPerKey,!1)}).bind("blur",function(){u.removeClass(i.activeClass)}),u=n(s[2]||"<div><\/div>").insertAfter(f).css("z-index","100").append(b).attr({"class":i.splitbarClass,unselectable:"on"}).css({position:"absolute","user-select":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none"}).bind("mousedown",p),h,a;/^(auto|default|)$/.test(u.css("cursor"))&&u.css("cursor",i.cursor);u._DA=u[0][i.pxSplit];r._PBF=n.boxModel?o(r,"border"+i.side3+"Width","border"+i.side4+"Width"):0;r._PBA=n.boxModel?o(r,"border"+i.side1+"Width","border"+i.side2+"Width"):0;f._pane=i.side1;e._pane=i.side2;n.each([f,e],function(){this._min=i["min"+this._pane]||o(this,"min-"+i.split);this._max=i["max"+this._pane]||o(this,"max-"+i.split)||9999;this._init=i["size"+this._pane]===!0?parseInt(n.curCSS(this[0],i.split)):i["size"+this._pane]});h=f._init;isNaN(e._init)||(h=r[0][i.pxSplit]-r._PBA-e._init-u._DA);i.cookie&&(n.cookie||alert("jQuery.splitter(): jQuery cookie plugin required"),a=parseInt(n.cookie(i.cookie)),isNaN(a)||(h=a),n(window).bind("unload",function(){var t=String(u.css(i.origin));n.cookie(i.cookie,t,{expires:i.cookieExpires||365,path:i.cookiePath||document.location.pathname})}));isNaN(h)&&(h=Math.round((r[0][i.pxSplit]-r._PBA-u._DA)/2));i.anchorToWindow?(r._hadjust=o(r,"borderTopWidth","borderBottomWidth","marginBottom"),r._hmin=Math.max(o(r,"minHeight"),20),n(window).bind("resize",function(){var t=r.offset().top,i=n(window).height();r.css("height",Math.max(i-t-r._hadjust,r._hmin)+"px")}).trigger("resize")):i.resizeToWidth&&!n.browser.msie&&n(window).bind("resize",function(){r.trigger("resize")});r.bind("resize",function(n,t){n.target==this&&((r._DF=r[0][i.pxFixed]-r._PBF,r._DA=r[0][i.pxSplit]-r._PBA,r._DF<=0||r._DA<=0)||l(isNaN(t)?(i.sizeRight||i.sizeBottom)?r._DA-e[0][i.pxSplit]-u._DA:f[0][i.pxSplit]:t))}).trigger("resize",[h])})}})(jQuery);